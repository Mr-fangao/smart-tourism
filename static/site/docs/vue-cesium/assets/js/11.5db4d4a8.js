(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{380:function(t,s,e){t.exports=e.p+"assets/img/cesium_dist.97b6879e.png"},420:function(t,s,e){"use strict";e.r(s);var a=e(5),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"快速上手"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),a("DemoAndCode",{attrs:{htmlStr:"%3Ctemplate%3E%0A%0A%20%20%3Cdiv%20id%3D%22app%22%3E%0A%20%20%20%20%3Cmapgis-web-scene%20%40load%3D%22handleLoad%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%E5%9C%B0%E5%9B%BE%E6%98%BE%E7%A4%BA%E5%86%85%E5%AE%B9%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fmapgis-web-scene%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cstyle%3E%0A%20%20%20%20%23app%20%7B%0A%20%20%20%20%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%7D%0A%3C%2Fstyle%3E%0A%3Cscript%20type%3D%22module%22%3E%0Aexport%20default%20%7B%0A%20%20%20%20data()%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%20%7D%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20methods%3A%20%7B%0A%20%20%20%20%20%20%20%20handleMapLoad(payload)%20%7B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%3C%2Fscript%3E%0A",language:"vue",showText:"show code",hideText:"hide code",jsLibsStr:"%5B%22https%3A%2F%2Fcdn.jsdelivr.net%2Fnpm%2Fvue%2Fdist%2Fvue.min.js%22%2C%22http%3A%2F%2Flocalhost%3A8081%2Fstatic%2Flibs%2Fcdn%2Fzondyclient%2Fwebclient-cesium-plugin.min.js%22%5D",cssLibsStr:"%5B%5D",minHeight:void 0,onlineBtnsStr:"%7B%22codepen%22%3Atrue%2C%22jsfiddle%22%3Atrue%2C%22codesandbox%22%3Atrue%7D",codesandboxStr:"%7B%22deps%22%3A%7B%7D%2C%22json%22%3A%22%22%2C%22query%22%3A%22module%3DApp.vue%22%2C%22embed%22%3A%22%22%7D"}},[a("template",{slot:"demo"},[[a("div",{attrs:{id:"app"}},[a("mapgis-web-scene",{on:{load:t.handleLoad}},[a("div",[t._v("地图显示内容")])])],1)],t._v(" "),a("style",[t._v("\n    #app {\n        height: 80px;\n        width: 100%;\n    }\n")]),t._v(" "),a("script",{attrs:{type:"module"}},[t._v("\nexport default {\n    data() {\n        return { };\n    },\n    methods: {\n        handleMapLoad(payload) {\n        }\n    }\n}\n")])],2)],2),t._v(" "),a("h2",{attrs:{id:"es6-方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es6-方式"}},[t._v("#")]),t._v(" ES6 方式")]),t._v(" "),a("h3",{attrs:{id:"中地版本安装-建议使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#中地版本安装-建议使用"}},[t._v("#")]),t._v(" 中地版本安装 "),a("code",[t._v("建议使用")])]),t._v(" "),a("blockquote",[a("p",[t._v("由于 cesium 本身"),a("code",[t._v("涉及大量的纹理材质以及多线程Worker")]),t._v("， 公司内部修改版实现"),a("code",[t._v("M3D格式")]),t._v("， M3D"),a("code",[t._v("不是")]),t._v("3dtile，是中地数码自己独特的格式，与开源的 3dtile 不是一种格式。很多高级分析功能"),a("code",[t._v("只能作用于M3D")]),t._v(",而不支持 3d tile.")])]),t._v(" "),a("p",[t._v("webclient-vue-cesium 支持一层封装，除了本身需要安装以外，你还需要拷贝@mapgis/cesium")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不同时安装@mapgis/cesium的原因在于这个对外的是非高级版本，事业部一般全内部使用高级版本开发")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save @mapgis/webclient-vue-cesium\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @mapgis/webclient-vue-cesium\n")])])]),a("p",[t._v("在 main.js 中加入样式文件")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 外部全局引入了ant-design-vue库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Mapgis3d "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@mapgis/webclient-vue-cesium"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mapgis3d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 外部没有引入ant-design-vue库，使用内部封装的组件库")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Mapgis3d "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@mapgis/webclient-vue-cesium"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mapgis3d， "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ui"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ant-design-vue"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("要实现 cesium 主体的引入，一定要看下面的"),a("code",[t._v("文件拷贝")]),t._v("章节, 光是@mapgis/webclient-vue-cesium 是无法正常开发的 Orz...")])]),t._v(" "),a("h3",{attrs:{id:"文件拷贝"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文件拷贝"}},[t._v("#")]),t._v(" 文件拷贝")]),t._v(" "),a("p",[t._v("由于标准的 Cesium 在支持 Webpack 编译的时候也是采取的 copy 插件来执行对应的文件夹拷贝操作。 因此为了统一处理，这里"),a("code",[t._v("统一不采取")]),t._v("手动修改 webpack.config 的方式，而是将 cesium 的所有文件放在 public 或者 asset 的某个目录下，自己"),a("code",[t._v("手动实现")]),t._v("静态资料的拷贝")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("这样做的本质原因是，MapGIS 的高级版本的 Cesium 是只对内不对外提供，导致不同事业部的 Cesium 版本各不一致")])]),t._v(" "),a("p",[t._v("以"),a("code",[t._v("@mapgis/cesium")]),t._v("的包结构展示如下：\n"),a("img",{attrs:{src:e(380),alt:"代码结构"}})]),t._v(" "),a("blockquote",[a("p",[t._v("请将上述文件统一拷贝到你的 vue 工程对应的 public 文件夹下的某个目录中，记录对应的路径为")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# quasar 的静态资源目录为src/static")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常见的静态资源目录为 public")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 主Cesium主体路径")]),t._v("\npath/to/statics/cesium/Cesium.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Cesium拓展插件路径")]),t._v("\npath/to/statics/cesium/webclient-cesium-plugins.js\n")])])]),a("blockquote",[a("p",[t._v("如果在浏览器中 访问 "),a("code",[t._v("http://localhost:xxxx/path/to/statics/cesium/Cesium.js")]),t._v(" 成功则说明整个 Cesium 的环境准备已经完毕。")])]),t._v(" "),a("h2",{attrs:{id:"浏览器使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浏览器使用"}},[t._v("#")]),t._v(" 浏览器使用")]),t._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),a("p",[t._v("~ 纯浏览器端建议还是使用 Cesium 原生的方式，而不是 Vue 组件的方式，真心建议")])]),t._v(" "),a("h2",{attrs:{id:"高级版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级版本"}},[t._v("#")]),t._v(" 高级版本")]),t._v(" "),a("ol",[a("li",[t._v("由于公司的 cdn 包不在公网上发布，统一在"),a("a",{attrs:{href:"http://www.smaryun.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("司马云"),a("OutboundLink")],1),t._v("上获取，"),a("code",[t._v("高级收费版本")]),t._v("请联系三维部门内部获取.\n"),a("ul",[a("li",[t._v("针对 m3d 的"),a("code",[t._v("性能优化")])]),t._v(" "),a("li",[t._v("针对 m3d 的"),a("code",[t._v("调度优化")])]),t._v(" "),a("li",[t._v("针对一些公司平台"),a("code",[t._v("C++内核")]),t._v("代码高级空间分析功能")])])]),t._v(" "),a("li",[t._v("webclient-cesium-plugins.js 请联系潘卓然 或者从"),a("a",{attrs:{href:"http://develop.smaryun.com:8899/#/total/download",target:"_blank",rel:"noopener noreferrer"}},[t._v("司马云"),a("OutboundLink")],1),t._v("下载\n"),a("ul",[a("li",[t._v("针对常见的"),a("code",[t._v("业务开发")]),t._v("进行业务封装")]),t._v(" "),a("li",[t._v("针对"),a("code",[t._v("IGServer、DataStore")]),t._v("的服务进行封装")]),t._v(" "),a("li",[t._v("针对一些"),a("code",[t._v("高级开源")]),t._v("技术进行封装")])])])])],1)}),[],!1,null,null,null);s.default=n.exports}}]);