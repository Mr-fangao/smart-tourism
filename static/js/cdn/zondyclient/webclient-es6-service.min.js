!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=157)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.Zondy=window.Zondy||{};n.Event=n.Event||{},n.Object=n.Object||{},n.Object.ContourAnalyse=n.Object.ContourAnalyse||{},n.Object.Theme=n.Object.Theme||{},n.Theme=n.Theme||{},n.Service=n.Service||{},n.Socket=n.Socket||{},n.Enum=n.Enum||{},n.Enum.Net=n.Enum.Net||{},n.Enum.Theme=n.Enum.Theme||{},n.Enum.Map=n.Enum.Map||{},n.Catalog=n.Catalog||{},n.Util=n.Util||{},n.CRS=n.CRS||{},n.Map=n.Map||{},n.xsd=n.xsd||{},n.XLink=n.XLink||{},n.extent=n.extent||{},n.xml=n.xml||{},n.array=n.array||{},n.string=n.string||{},n.LevelRenderer=n.LevelRenderer||{},n.LevelRenderer.Tool=n.LevelRenderer.Tool||{},n.LevelRenderer.Animation=n.LevelRenderer.Animation||{},n.Feature=n.Feature||{},n.Feature.ShapeParameters=n.Feature.ShapeParameters||{},n.Geometry=n.Geometry||{},n.Client=n.Client||{},n.Source=n.Source||{},n.GeomInteraction=n.GeomInteraction||{},n.Format=n.Format||{},n.Control=n.Control||{},n.OGC=n.OGC||{},n.DataStore=n.DataStore||{},n.DataStore.ElasticSearch=n.DataStore.ElasticSearch||{},n.DataStore.PostGIS=n.DataStore.PostGIS||{},n.DataStore.Hbase=n.DataStore.Hbase||{},n.DataStore.MongoDB=n.DataStore.MongoDB||{},n.CloudDisk=n.CloudDisk||{},n.CloudDisk.GisCore=n.CloudDisk.GisCore||{},n.CloudDisk.Model=n.CloudDisk.Model||{},n.IGServerX=n.IGServerX||{},n.IGServerX.Vector=n.IGServerX.Vector||{},e.Zondy=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notNULL=e.formatPoints=e.returnPoint=e.formatEdits=e.formatQuery=e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(0);var o=function(t,e){if(t=t||{},e){for(var r in e){var n=e[r];void 0!==n&&(t[r]=n)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&(t.toString=e.toString)}return t},s=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function t(e,r){var i,o=Object.prototype.toString;for(i in e=e||{},r)r.hasOwnProperty(i)&&("object"===n(r[i])?("[object Null]"!==o.call(e[i])&&"[object Undefined]"!==o.call(e[i])||(e[i]="[object Array]"===o.call(r[i])?[]:{}),t(e[i],r[i])):e[i]=r[i],""!==r[i]&&null!==r[i]||(e[i]=r[i]));return e},u=function(t,e){var r;if(t=t||{},e)for(var n in t)void 0!==(r=e[n])&&(t[n]=r)},l=function(t,e,r){var n;if(t=t||{},e)for(var i in e)void 0!==(n=e[i])&&"function"!=typeof n&&r.indexOf(i)<0&&(t[i]=n)},c=function(t){for(var e in t=t||{})if(t.hasOwnProperty(e)){if("object"===n(t[e])&&t[e]instanceof Array){for(var r in t[e])t[e][r].destroy&&t[e][r].destroy();t[e].length=0}else"object"===n(t[e])&&t[e]instanceof Object&&t[e].destroy&&t[e].destroy();t[e]=null}},h=function(){for(var t=[],e=0,r=arguments.length;e<r;e++){var n=arguments[e];if("string"==typeof n&&(n=document.getElementById(n)),1===arguments.length)return n;t.push(n)}return t},f=function(t){return!(!t||1!==t.nodeType)},p=function(t,e){for(var r=t.length-1;r>=0;r--)t[r]===e&&t.splice(r,1);return t},d=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1},y=function(t,e,r,n,i,o,s,a){e&&(t.id=e),r&&(t.style.left=r.x+"px",t.style.top=r.y+"px"),n&&(t.style.width=n.w+"px",t.style.height=n.h+"px"),i&&(t.style.position=i),o&&(t.style.border=o),s&&(t.style.overflow=s),parseFloat(a)>=0&&parseFloat(a)<1?(t.style.filter="alpha(opacity="+100*a+")",t.style.opacity=a):1===parseFloat(a)&&(t.style.filter="",t.style.opacity="")},g=function(t,e){t=t||{};var r="function"==typeof window.Event&&e instanceof window.Event;for(var n in e)(void 0===t[n]||!r&&e.hasOwnProperty&&e.hasOwnProperty(n)&&!t.hasOwnProperty(n))&&(t[n]=e[n]);return!r&&e&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&!t.hasOwnProperty("toString")&&(t.toString=e.toString),t},v=function(t){var e=[];for(var r in t){var i=t[r];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":n(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o=a.join(",")}else o=encodeURIComponent(i);e.push(encodeURIComponent(r)+"="+o)}}return e.join("&")},m=function(t){var e=[];for(var r in t){var i=t[r];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":n(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o=a.join(",")}else o=encodeURIComponent(i);e.push(encodeURIComponent(r)+":"+o)}}return e.join(";")},_=function(t,e){var r=t;if(e){var n=(t+" ").split(/[?&]/);r+=" "===n.pop()?e:n.length?"&"+e:"?"+e}return r},b=function(t){var e="";if((t=null===t||void 0===t?window.location.href:t).indexOf("?")>-1){var r=t.indexOf("?")+1;t.indexOf("#");var n=t.indexOf("#")>-1?t.indexOf("#"):t.length;e=t.substring(r,n)}for(var i={},o=e.split(/[&;]/),s=0,a=o.length;s<a;++s){var u=o[s].split("=");if(u[0]){var l=u[0];try{l=decodeURIComponent(l)}catch(t){l=unescape(l)}var c=(u[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(t){c=unescape(c)}1==(c=c.split(",")).length&&(c=c[0]),i[l]=c}}return i},x=function(){var t=navigator.userAgent.toLowerCase();return-1===t.indexOf("webkit")&&-1!==t.indexOf("gecko")}(),w=function(){var t,e="",r="",n="pc",i=navigator.userAgent.toLowerCase();return i.indexOf("msie")>-1||i.indexOf("trident")>-1&&i.indexOf("rv")>-1?(e="msie",t=i.match(/msie ([\d.]+)/)||i.match(/rv:([\d.]+)/)):i.indexOf("chrome")>-1?(e="chrome",t=i.match(/chrome\/([\d.]+)/)):i.indexOf("firefox")>-1?(e="firefox",t=i.match(/firefox\/([\d.]+)/)):i.indexOf("opera")>-1?(e="opera",t=i.match(/version\/([\d.]+)/)):i.indexOf("safari")>-1&&(e="safari",t=i.match(/version\/([\d.]+)/)),r=t?t[1]:"",i.indexOf("ipad")>-1||i.indexOf("ipod")>-1||i.indexOf("iphone")>-1?n="apple":i.indexOf("android")>-1&&(r=(t=i.match(/version\/([\d.]+)/))?t[1]:"",n="android"),{name:e,version:r,device:n}}(),S=function(){return w},P=function(){var t=!0,e=S();return document.createElement("canvas").getContext?("firefox"===e.name&&parseFloat(e.version)<5&&(t=!1),"safari"===e.name&&parseFloat(e.version)<4&&(t=!1),"opera"===e.name&&parseFloat(e.version)<10&&(t=!1),"msie"===e.name&&parseFloat(e.version)<9&&(t=!1)):t=!1,t}(),E=function(){return P},O=function(t){if(!t)return!0;var e=t.indexOf("//"),r=document.location.toString(),n=r.indexOf("//");if(-1===e)return!0;var i,o=i=t.substring(0,e),s=r.substring(n+2);n=s.indexOf("/");var a=s.indexOf(":"),u=s.substring(0,n),l=document.location.protocol;if(-1!==a||(u+=":"+("http:"===l.toLowerCase()?80:443)),l.toLowerCase()!==o.toLowerCase())return!1;var c=(o=t.substring(e+2)).indexOf(":");e=o.indexOf("/");var h,f=o.substring(0,e);return-1!==c?h=o.substring(0,c):(h=o.substring(0,e),f+=":"+("http:"===i.toLowerCase()?80:443)),h===document.domain&&f===u},C=function t(e){var r=e;if(null==r)return null;switch(r.constructor){case String:return r=(r=(r=(r=(r=(r=(r='"'+r.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var i=[],o=0,s=r.length;o<s;o++)i.push(t(r[o]));return"["+i.join(",")+"]";case Number:return isFinite(r)?String(r):null;case Boolean:return String(r);case Date:return"{'__type':\"System.DateTime\",'Year':"+r.getFullYear()+",'Month':"+(r.getMonth()+1)+",'Day':"+r.getDate()+",'Hour':"+r.getHours()+",'Minute':"+r.getMinutes()+",'Second':"+r.getSeconds()+",'Millisecond':"+r.getMilliseconds()+",'TimezoneOffset':"+r.getTimezoneOffset()+"}";default:if("object"===(void 0===r?"undefined":n(r))){if(r.length){for(i=[],o=0,s=r.length;o<s;o++)i.push(t(r[o]));return"["+i.join(",")+"]"}var a=[];for(var u in r)"function"!=typeof r[u]&&"CLASS_NAME"!==u&&a.push("'"+u+"':"+t(r[u]));return a.length>0?"{"+a.join(",")+"}":"{}"}return r.toString()}},I=function(t){return t.responseText&&"string"==typeof t.responseText&&(t=JSON.parse(t.responseText)),t},M=function(t,e){if(t=t||{},e)for(var r in e){var n=e[r];void 0!==n&&"CLASS_NAME"!==r&&"function"!=typeof n&&(t[r]=n)}return t},N=function(t,e,r){if(t=t||{},e)for(var n in e){var i=!1;if(r&&r.length)for(var o=0,s=r.length;o<s;o++)if(n===r[o]){i=!0;break}if(!0!==i){var a=e[n];void 0!==a&&"CLASS_NAME"!==n&&"function"!=typeof a&&(t[n]=a)}}return t},T=function t(e){if(null===e||"object"!==(void 0===e?"undefined":n(e)))return e;if(e instanceof Date)return(r=new Date).setTime(e.getTime()),r;if(e instanceof Array)return r=e.slice(0);if(e instanceof Object){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")},A=function(){for(var t="",e=1;e<=32;e++){t+=Math.floor(16*Math.random()).toString(16),8!=e&&12!=e&&16!=e&&20!=e||(t+="-")}return t},L=function(t,e){var r=Array.prototype.slice.apply(arguments,[2]);return function(){var n=r.concat(Array.prototype.slice.apply(arguments,[0]));return t.apply(e,n)}},j=function(t,e){return function(r){return t.call(e,r||window.event)}},R=function(t){switch(t.value){case 0:return"Intersect";case 1:return"Disjoin";case 2:return"Include";case 3:return"Adjacent";default:return"Unknown"}},F=function(t){return t.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g,function(t){return D(t)})},D=function(t){var e=escape(t).split("%"),r="";""!=e[0]&&(r=e[0]);for(var n=1;n<e.length;n++)"u"==e[n].substring(0,1)?r+=G(k(e[n].substring(1,5))):r+="%"+e[n];return r},k=function(t){for(var e,r="",n="",i=0;i<t.length;i++)r=t.charAt(i),e="0123456789ABCDEF".indexOf(r),n+=U(e);return n},G=function(t){var e="",r="",n="";if(16==t.length){r="1110"+t.substring(0,4),r+="10"+t.substring(4,10),r+="10"+t.substring(10,16);for(var i="0123456789ABCDEF",o=0;o<3;o++)e+="%",n=r.substring(8*o,8*(o+1)),e+=i.charAt(B(n.substring(0,4))),e+=i.charAt(B(n.substring(4,8)));return e}return""},B=function(t){var e=0;if(4==t.length){for(var r=0;r<4;r++)e+=t.charAt(r)*Math.pow(2,3-r);return e}return-1},U=function(t){for(var e="",r=0,n=0;n<4;n++)t>=(r=Math.pow(2,3-n))?(e+="1",t-=r):e+="0";return e},q=function t(e,r){if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(r))for(var n in r)e[n]?e[n]=t(e[n],r[n]):e[n]=r[n];else e="[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(r)?e.concat(r):r;return e},z=function(t,e,r,i){e.hasOwnProperty(r)&&("object"!=n(t[r])||{"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1}[Object.prototype.toString.call(t[r])]?!i&&r in t||(t[r]=e[r]):V(t[r],e[r],i))},V=function(t,e,r){for(var n in e)z(t,e,n,r);return t},Z=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=function t(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=0;n<e.length;n++)s(this,new e[n](r))},i=0;i<e.length;i++){var o=e[i];s(n,o),s(n.prototype,o.prototype),s(n.prototype,new o)}return n;function s(t,e){var r=Object.getOwnPropertyNames(e);Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e)));for(var n=0;n<r.length;n++){var i=r[n];if("constructor"!==i&&"prototype"!==i&&"name"!==i&&"length"!==i){var o=Object.getOwnPropertyDescriptor(e,i);window.ActiveXObject?Object.defineProperty(t,i,o||{}):Object.defineProperty(t,i,o)}}}},W=function(t,e){var r=document.createElement("CANVAS");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")},X=function(t,e,r,n){return Object.keys(t).forEach(function(i){var o=t[i],s=i;if(J(o)&&"function"!=typeof o){if(r&&r.indexOf(i)>-1){var a={};"geometry"===i&&("polygon"===o.type&&(a.rings=t[i].rings),"multipoint"===o.type&&(a.points=t[i].points),"point"===o.type&&t[i].x&&t[i].y&&(a.y=t[i].y,a.x=t[i].x),"polyline"===o.type&&(a.paths=t[i].paths),a.spatialReference=t[i].spatialReference,o=a,e+="&geometryType=esriGeometry"+t[i].type.charAt(0).toUpperCase()+t[i].type.slice(1)),o=JSON.stringify(o)}n&&n.hasOwnProperty(i)&&(s=n[i]),e+="&"+s+"="+o}}),e},Y=function(t,e,r){return Object.keys(e).forEach(function(n){if(r&&r.indexOf(n)>-1){var i=n;i=n.substring(0,i.length-"Features".length)+"s",t+=i+"="+encodeURIComponent(e[n]instanceof Object?JSON.stringify(e[n]):e[n])+"&"}else t+=n+"="+e[n]+"&"}),t},Q=function(t,e,r){return new t({longitude:r[0],latitude:r[1],z:r[2],spatialReference:T(e.spatialReference)})},H=function t(e){for(var r=0;r<e.length;r++)e[r]instanceof Array?t(e[r]):e[r]instanceof Object&&(e[r]=e[r].toArray());return e},J=function(t){return""!==t&&null!==t&&void 0!==t};e.extend=o,e.isArray=s,e.extendDeep=a,e.copy=u,e.copyExcluce=l,e.reset=c,e.getElement=h,e.isElement=f,e.removeItem=p,e.indexOf=d,e.modifyDOMElement=y,e.applyDefaults=g,e.getParameterString=v,e.getWFParameterString=m,e.urlAppend=_,e.getParameters=b,e.IS_GECKO=x,e.Browser=w,e.getBrowser=S,e.isSupportCanvas=P,e.supportCanvas=E,e.isInTheSameDomain=O,e.toJSON=C,e.transformResult=I,e.copyAttributes=M,e.copyAttributesWithClip=N,e.cloneObject=T,e.newGuid=A,e.bind=L,e.bindAsEventListener=j,e.getTopAnalysisResult=R,e.ChineseToUtf8=F,e.DeepMerge=q,e.merge=V,e.mixin=Z,e.createCanvasContext2D=W,e.formatQuery=X,e.formatEdits=Y,e.returnPoint=Q,e.formatPoints=H,e.notNULL=J,i.Zondy.Util.extend=o,i.Zondy.Util.isArray=s,i.Zondy.Util.extendDeep=a,i.Zondy.Util.copy=u,i.Zondy.Util.copyExcluce=l,i.Zondy.Util.reset=c,i.Zondy.Util.getElement=h,i.Zondy.Util.isElement=f,i.Zondy.Util.removeItem=p,i.Zondy.Util.indexOf=d,i.Zondy.Util.modifyDOMElement=y,i.Zondy.Util.applyDefaults=g,i.Zondy.Util.getParameterString=v,i.Zondy.Util.getWFParameterString=m,i.Zondy.Util.urlAppend=_,i.Zondy.Util.getParameters=b,i.Zondy.IS_GECKO=x,i.Zondy.Browser=w,i.Zondy.Util.getBrowser=S,i.Zondy.Util.isSupportCanvas=P,i.Zondy.Util.supportCanvas=E,i.Zondy.Util.isInTheSameDomain=O,i.Zondy.Util.toJSON=C,i.Zondy.Util.transformResult=I,i.Zondy.Util.copyAttributes=M,i.Zondy.Util.copyAttributesWithClip=N,i.Zondy.Util.cloneObject=T,i.Zondy.Util.newGuid=A,i.Zondy.Util.bind=L,i.Zondy.Util.bindAsEventListener=j,i.Zondy.Util.getTopAnalysisResult=R,i.Zondy.Util.ChineseToUtf8=F,i.Zondy.Util.DeepMerge=q,i.Zondy.Util.merge=V,i.Zondy.Util.mixin=Z,i.Zondy.Util.createCanvasContext2D=W,i.Zondy.Util.formatQuery=X,i.Zondy.Util.formatEdits=Y,i.Zondy.Util.returnPoint=Q,i.Zondy.Util.returnPoint=H,i.Zondy.Util.returnPoint=J},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.notNULL=e.formatPoints=e.returnPoint=e.formatEdits=e.formatQuery=e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=e.WebGraphicsInfo=e.VectCls=e.Tangram=e.Rectangle=e.PolyLine=e.Polygon=e.Point2D=e.MultiPolygon=e.LablePntInfo=e.LabelRegInfo=e.LabelLinInfo=e.GRegion=e.GPoint=e.GLine=e.FeatureSet=e.FeatureGraphicBase=e.FeatureGeometry=e.Feature=e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=e.DynShowStyle=e.DynNoteLableType=e.CRegionInfo=e.CPointInfo=e.CLineInfo=e.Circle=e.CGDBInfo=e.CDynNoteInfo=e.CDisplayStyleExtend=e.CDisplayStyle=e.CAttDataRow=e.CAttStruct=e.Zondy=e.Arc=e.AnyLine=void 0;var n=r(46),i=r(158),o=r(0),s=r(36),a=r(159),u=r(160),l=r(88),c=r(83),h=r(89),f=r(161),p=r(37),d=r(47),y=r(48),g=r(84),v=r(82),m=r(6),_=r(90),b=r(92),x=r(38),w=r(94),S=r(50),P=r(49),E=r(51),O=r(86),C=r(87),I=r(85),M=r(162),N=r(8),T=r(95),A=r(163),L=r(91),j=r(14),R=r(164),F=r(93),D=r(1);e.AnyLine=n.AnyLine,e.Arc=i.Arc,e.Zondy=o.Zondy,e.CAttStruct=s.CAttStruct,e.CAttDataRow=a.CAttDataRow,e.CDisplayStyle=u.CDisplayStyle,e.CDisplayStyleExtend=l.CDisplayStyleExtend,e.CDynNoteInfo=c.CDynNoteInfo,e.CGDBInfo=h.CGDBInfo,e.Circle=f.Circle,e.CLineInfo=p.CLineInfo,e.CPointInfo=d.CPointInfo,e.CRegionInfo=y.CRegionInfo,e.DynNoteLableType=g.DynNoteLableType,e.DynShowStyle=v.DynShowStyle,e.XClsType=m.XClsType,e.VectClsType=m.VectClsType,e.FeatureType=m.FeatureType,e.FontShape=m.FontShape,e.LabelLinType=m.LabelLinType,e.LabelRegType=m.LabelRegType,e.LabelPntType=m.LabelPntType,e.RepeatType=m.RepeatType,e.LabelSpreadType=m.LabelSpreadType,e.LineConstrain=m.LineConstrain,e.EightDirType=m.EightDirType,e.ISShowArc=m.ISShowArc,e.NetAnalyType=m.NetAnalyType,e.NetElemType=m.NetElemType,e.CLinAdjustType=m.CLinAdjustType,e.CLinHeadType=m.CLinHeadType,e.CLinJointType=m.CLinJointType,e.CLinStyleMakeType=m.CLinStyleMakeType,e.CItemType=m.CItemType,e.MapType=m.MapType,e.LayerStatusType=m.LayerStatusType,e.Feature=_.Feature,e.FeatureGeometry=b.FeatureGeometry,e.FeatureGraphicBase=x.FeatureGraphicBase,e.FeatureSet=w.FeatureSet,e.GLine=S.GLine,e.GPoint=P.GPoint,e.GRegion=E.GRegion,e.LabelLinInfo=O.LabelLinInfo,e.LabelRegInfo=C.LabelRegInfo,e.LablePntInfo=I.LablePntInfo,e.MultiPolygon=M.MultiPolygon,e.Point2D=N.Point2D,e.Polygon=T.Polygon,e.PolyLine=A.PolyLine,e.Rectangle=L.Rectangle,e.Tangram=j.Tangram,e.VectCls=R.VectCls,e.WebGraphicsInfo=F.WebGraphicsInfo,e.extend=D.extend,e.isArray=D.isArray,e.extendDeep=D.extendDeep,e.copy=D.copy,e.copyExcluce=D.copyExcluce,e.reset=D.reset,e.getElement=D.getElement,e.isElement=D.isElement,e.removeItem=D.removeItem,e.indexOf=D.indexOf,e.modifyDOMElement=D.modifyDOMElement,e.applyDefaults=D.applyDefaults,e.getParameterString=D.getParameterString,e.getWFParameterString=D.getWFParameterString,e.urlAppend=D.urlAppend,e.getParameters=D.getParameters,e.IS_GECKO=D.IS_GECKO,e.Browser=D.Browser,e.getBrowser=D.getBrowser,e.isSupportCanvas=D.isSupportCanvas,e.supportCanvas=D.supportCanvas,e.isInTheSameDomain=D.isInTheSameDomain,e.toJSON=D.toJSON,e.transformResult=D.transformResult,e.copyAttributes=D.copyAttributes,e.copyAttributesWithClip=D.copyAttributesWithClip,e.cloneObject=D.cloneObject,e.newGuid=D.newGuid,e.bind=D.bind,e.bindAsEventListener=D.bindAsEventListener,e.getTopAnalysisResult=D.getTopAnalysisResult,e.ChineseToUtf8=D.ChineseToUtf8,e.DeepMerge=D.DeepMerge,e.merge=D.merge,e.mixin=D.mixin,e.createCanvasContext2D=D.createCanvasContext2D,e.formatQuery=D.formatQuery,e.formatEdits=D.formatEdits,e.returnPoint=D.returnPoint,e.formatPoints=D.formatPoints,e.notNULL=D.notNULL},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IgsServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(102);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=r||{};var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.CLASS_NAME="Zondy.IgsServiceBase",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CommonServiceBase),n(e,[{key:"destroy",value:function(){(function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this);var t=this;t.events&&(t.events.un(t.eventListeners),t.events.listeners=null,t.events.destroy(),t.events=null,t.eventListeners=null)}},{key:"processAsync",value:function(t){this.request({method:t&&t.method?t.method:"GET",scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed,data:t&&t.data?t.data:null,headers:t&&t.headers?t.headers:null})}},{key:"serviceProcessCompleted",value:function(t){(t=(0,i.transformResult)(t)).succeed?this.events&&this.events.triggerEvent("processCompleted",{result:t}):this.events.triggerEvent("processFailed",{error:t})}}]),e}();e.IgsServiceBase=s,Zondy.Service.IgsServiceBase=s},function(t,e,r){var n=2*Math.PI,i=r(29);t.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-i(t)*n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,o.extend)(this,e),this.baseUrl=e&&e.baseUrl?e.baseUrl:null,this.ip=e&&e.ip?e.ip:"localhost",this.port=e&&e.port?e.port:"6163",this.partUrl=e&&e.partUrl?e.partUrl:null,this.networkProtocol=e&&e.networkProtocol?e.networkProtocol:location.protocol.split(":")[0]||"http",this.domain=e&&e.domain?e.domain:""}return n(t,[{key:"getFullUrl",value:function(){var t=this,e=null;if(i.Zondy.Util.isArray(t.ip))for(var r=0;r<t.ip.length;r++){e=new Array;var n=null;n=(0,o.isArray)(t.port)?void 0!==t.port[r]?t.port[r]:"6163":void 0!==t.port?t.port:"6163";var s=null;s=(0,o.isArray)(t.partUrl)?void 0!==t.partUrl[r]?t.partUrl[r]:null:void 0!==t.partUrl?t.partUrl:null,""===t.domain?t.domainStr=t.networkProtocol+"://"+t.ip[r]+":"+n:t.domainStr=t.domain,e.push(encodeURI((t.domainStr+"/"+t.baseUrl+"/"+s).trim()))}else""===t.domain?t.domainStr=t.networkProtocol+"://"+t.ip+":"+t.port:t.domainStr=t.domain,e=encodeURI((t.domainStr+"/"+t.baseUrl+"/"+t.partUrl).trim());return e}}]),t}();e.ServiceBase=s,i.Zondy.Service.ServiceBase=s},function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=void 0;var i=r(0);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s={SFCls:"SFeatureCls",OCls:"ObjectCls",ACls:"AnnotationCls",GnetCls:"GNetCls",RDS:"RasterDataset",SFClsInfo:"sfcls_new"};e.XClsType=s,i.Zondy.Enum.XClsType=s;var a={Unknown:0,SFCls:"SFeatureCls",AnnoCls:"AnnotationCls"};e.VectClsType=a,i.Zondy.Enum.VectClsType=a;var u={Unknown:0,Pnt:1,Lin:2,Reg:3};e.FeatureType=u,i.Zondy.Enum.FeatureType=u;var l={Positive:0,LeftOblique:1,RightOblique:2,LeftTowering:3,RightTowering:4};e.FontShape=l,i.Zondy.Enum.FontShape=l;var c={Curved:0,Forward:1,Horizontal:2,Tangent:3};e.LabelLinType=c,i.Zondy.Enum.LabelLinType=c;var h={Curved:0,Forward:1,Horizontal:2,Boundray:3,Outside:4};e.LabelRegType=h,i.Zondy.Enum.LabelRegType=h;var f={PntAnyDir:0,PntEightDir:1,PntOnFea:2};e.LabelPntType=f,i.Zondy.Enum.LabelPntType=f;var p={Auto:0,NoRep:1,OnStep:2};e.RepeatType=p,i.Zondy.Enum.RepeatType=p;var d={AutoSpread:0,Centralization:1,Decentralization:2};e.LabelSpreadType=d,i.Zondy.Enum.LabelSpreadType=d;var y={Left:0,Right:1,Above:2,Below:3,Both:4,NoRes:5};e.LineConstrain=y,i.Zondy.Enum.LineConstrain=y;var g={East:0,North:1,NorthEast:2,NorthWest:3,South:4,SouthEast:5,SouthWest:6,West:7,NoDir:8};e.EightDirType=g,i.Zondy.Enum.EightDirType=g;var v={Reg:0,Arc:1,All:2};e.ISShowArc=v,i.Zondy.Enum.ISShowArc=v;var m=(o(n={UserMode:"UserMode",SysModeCommwayPrefer:"SysModeCommwayPrefer",SysModeHighWayPrefer:"SysModeHighWayPrefer",SysModeMinCost:"SysModeMinCost",SysModeMinDis:"SysModeMinDis"},"SysModeMinDis","SysModeMinDis"),o(n,"SysModeSysRecommend","SysModeSysRecommend"),n);e.NetAnalyType=m,i.Zondy.Enum.Net.NetAnalyType=m;var _={Node:1,Edge:2,CNode:3,Chain:4,Center:5,Source:13,Sink:13};e.NetElemType=_,i.Zondy.Enum.Net.NetElemType=_;var b={Adjust:0,NoAdjust:1};e.CLinAdjustType=b,i.Zondy.Enum.Theme.CLinAdjustType=b;var x={Round:0,Square:1,Butt:2};e.CLinHeadType=x,i.Zondy.Enum.Theme.CLinHeadType=x;var w={Round:0,Square:1,Butt:2};e.CLinJointType=w,i.Zondy.Enum.Theme.CLinJointType=w;var S={Byrule:0,Bypoint:1};e.CLinStyleMakeType=S,i.Zondy.Enum.Theme.CLinStyleMakeType=S;var P={Unknown:0,UniqueTheme:1,RangeTheme:2};e.CItemType=P,i.Zondy.Enum.Theme.CItemType=P;var E={Doc:"mapType",Tile:"tileType"};e.MapType=E,i.Zondy.Enum.Map.MapType=E;var O={Show:"show",Hide:"hide",Include:"include",Exclude:"exclude"};e.LayerStatusType=O,i.Zondy.Enum.Map.LayerStatusType=O},function(t,e,r){"use strict";var n=r(138),i=r(238),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return e},extend:function(t,e,r){return l(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2D=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(14);var o=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.x=void 0!==t?t:null,o.y=void 0!==r?r:null,o.nearDis=void 0!==i.nearDis?parseFloat(i.nearDis):null,o.CLASS_NAME="Zondy.Object.Point2D",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),n(e,[{key:"getGeometryType",value:function(){return"point"}},{key:"setByOL",value:function(t){if(void 0!==t){var e=t.getCoordinates();this.x=e[0],this.y=e[1]}}},{key:"toString",value:function(){if(null===this.x||null===this.y)return"";var t=this.x+","+this.y;return void 0!==this.nearDis&&(t+=";"+this.nearDis),t}}]),e}();e.Point2D=o,Zondy.Object.Point2D=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CTheme=void 0;var n=r(0),i=r(1);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=void 0!==e?e:{};(0,i.extend)(this,r),this.Name=r&&r.Name?r.Name:null,this.IsBaseTheme=!r||!r.IsBaseTheme||r.IsBaseTheme,this.Visible=!r||!r.Visible||r.Visible};e.CTheme=o,n.Zondy.Object.Theme.CTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataStoreService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(27)),o=r(5),s=r(3);var a=e.DataStoreService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.fixParams(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"fixParams",value:function(t){this.params=t,delete this.params.url,delete this.params.ip,delete this.params.port,delete this.params.domain,delete this.params.baseUrl,delete this.params.networkProtocol,delete this.params.partUrl}},{key:"getBaseUrl",value:function(){var t="",e=this.baseUrl,r=this.ip,n=this.port,i=this.domain,o=this.networkProtocol;return e?t=e:i?t=i:o&&r&&n&&(t=o+"://"+r+":"+n),t}},{key:"getFullUrl",value:function(t,e){return this.getBaseUrl()+t+"?"+i.default.stringify(e)}},{key:"get",value:function(t,e,r){new s.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"post",value:function(t,e,r,n){new s.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnalysisBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(5),a=r(3);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};r.baseUrl="igs/rest/mrfws";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.flowID=void 0!==r.flowID?r.flowID:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.ServiceBase),n(e,[{key:"execute",value:function(t,e,r){var n={};if((0,o.copyExcluce)(n,this,["port","ip","baseUrl","partUrl","flowID"]),e||(e="get"),"get"===e.toLowerCase()&&(this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json",null!==n)){var i=(0,o.getWFParameterString)(n);null===i&&""===i||(this.partUrl+="&paraValues="+i)}if("post"===e.toLowerCase()){this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json";var s=new Array;if(null!==n)for(var u in n)if(null!==n[u]){var l={};l.Key=u,l.Value=n[u].toString(),s.push(l)}n=s}var c=this.getFullUrl(),h=new a.IgsServiceBase(c,{eventListeners:{scope:this,processCompleted:t,processFailed:r}});"post"===e.toLowerCase()?h.processAsync({method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):h.processAsync()}}]),e}();e.AnalysisBase=u,i.Zondy.Service.AnalysisBase=u},function(t,e,r){"use strict";const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",o=new RegExp("^"+i+"$");e.isExist=function(t){return void 0!==t},e.isEmptyObject=function(t){return 0===Object.keys(t).length},e.merge=function(t,e,r){if(e){const n=Object.keys(e),i=n.length;for(let o=0;o<i;o++)t[n[o]]="strict"===r?[e[n[o]]]:e[n[o]]}},e.getValue=function(t){return e.isExist(t)?t:""},e.buildOptions=function(t,e,r){var n={};if(!t)return e;for(let i=0;i<r.length;i++)void 0!==t[r[i]]?n[r[i]]=t[r[i]]:n[r[i]]=e[r[i]];return n},e.isTagNameInArrayMode=function(t,e,r){return!1!==e&&(e instanceof RegExp?e.test(t):"function"==typeof e?!!e(t,r):"strict"===e)},e.isName=function(t){const e=o.exec(t);return!(null===e||void 0===e)},e.getAllMatches=function(t,e){const r=[];let n=e.exec(t);for(;n;){const i=[],o=n.length;for(let t=0;t<o;t++)i.push(n[t]);r.push(i),n=e.exec(t)}return r},e.nameRegexp=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CThemeInfo=void 0;var n=r(0),i=r(1);r(41),r(122),r(123);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=void 0!==e?e:{};(0,i.extend)(this,r),this.Caption=void 0!==r.Caption?r.Caption:null,this.IsVisible=void 0===r.IsVisible||r.IsVisible,this.MaxScale=void 0!==r.MaxScale?parseFloat(r.MaxScale):0,this.MinScale=void 0!==r.MinScale?parseFloat(r.MinScale):0,this.RegInfo=void 0!==r.RegInfo?r.RegInfo:null,this.LinInfo=void 0!==r.LinInfo?r.LinInfo:null,this.PntInfo=void 0!==r.PntInfo?r.PntInfo:null};e.CThemeInfo=o,n.Zondy.Object.Theme.CThemeInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tangram=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e||{};(0,o.extend)(this,r)}return n(t,[{key:"setByOL",value:function(t){return null}},{key:"toString",value:function(){return""}},{key:"getGeometryType",value:function(){}},{key:"Trim",value:function(t,e){var r;return r=t.replace(/(^\s+)|(\s+$)/g,""),"g"===e.toLowerCase()&&(r=r.replace(/\s/g,"")),r}}]),t}();e.Tangram=s,i.Zondy.Object.Tangram=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryAnalysisBase=void 0;var n=r(0),i=r(5);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return r.baseUrl="igs/rest/mrgs",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.GeometryAnalysisBase=o,n.Zondy.Service.GeometryAnalysisBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogService=void 0;var n=r(0),i=r(5);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return r.baseUrl="igs/rest/mrcs",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.CatalogService=o,n.Zondy.Catalog.CatalogService=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseParameter=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layers=[],this.pageIndex=0,this.pagination=100,this.resultFormat="json",this.IncludeAttribute=!0,this.IncludeGeometry=!0,this.IncludeWebGraphic=!1,this.orderBy=void 0,this.isAsc=void 0,this.proj=void 0,this.fields=void 0,this.coordPrecision=void 0,this.cursorType="backward"}return n(t,null,[{key:"formatParam",value:function(t){for(var e=["IncludeAttribute","IncludeGeometry","IncludeWebGraphic","isAsc","compareRectOnly","enableDisplayCondition"],r=0;r<e.length;r++)"string"==typeof t[e[r]]&&(t[e[r]]="true"===t[e[r]]);return t}}]),t}();o.prototype.formatParameter=function(t,e){var r=void 0,n=this;return n._crs=e,"typename"===t?(r={layers:t,pagination:"maxfeatures",rectangle:"bbox",where:"filter",geometry:"filter",objectIds:"featureId"},this.where&&this.geometry&&delete r.geometry,Object.keys(r).forEach(function(t){n.hasOwnProperty(t)&&n[t]&&(n[t]instanceof Array?r[r[t]]=n[t].join(","):r[r[t]]="where"===t||"geometry"===t?initFilter(n[t],n.geometry,n):n[t]),delete r[t]}),r):(r={layers:t,pageIndex:"Page",pagination:"pageCount",resultFormat:"f",includeAttribute:"IncludeAttribute",includeGeometry:"IncludeGeometry",includeWebGraphic:"IncludeWebGraphic",orderBy:"orderField"},Object.keys(r).forEach(function(t){n.hasOwnProperty(t)&&(n[r[t]]=n[t],delete n[t])}),this)},e.BaseParameter=o,i.Zondy.Service.BaseParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=void 0;var n=r(0),i=r(5);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return r.baseUrl="igs/rest/mrms",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.MapServiceBase=o,n.Zondy.Service.MapServiceBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisBaseParam=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"clone",value:function(){return(0,i.cloneObject)(this)}},{key:"toJSON",value:function(){var t={};for(var e in this)"function"!=typeof this[e]&&"CLASS_NAME"!==e&&this[e]&&(t[e]=this[e]);return t.spatialRel="esriSpatialRelIntersects",t}}],[{key:"fromJSON",value:function(t){var e=new this;if(t instanceof Object)for(var r in t)e.hasOwnProperty(r)&&(e[r]=t[r]);return e}}]),t}();e.ArcGisBaseParam=o,i.Zondy.Service.ArcGisBaseParam=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisGeometry=void 0;var n=r(2),i=r(19),o=r(148);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.cache={},r.extent=null,r.hasM=!1,r.hasZ=!1,r.spatialReference=new o.ArcGisSpatialReference({wkid:4326,wkt:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),r.type=null,(0,n.extend)(r,t),t&&t.hasOwnProperty("spatialReference")&&(t.spatialReference=new o.ArcGisSpatialReference(t.spatialReference)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();e.ArcGisGeometry=s,n.Zondy.Service.ArcGisGeometry=s},function(t,e){t.exports=function(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}},function(t,e){t.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(5),a=r(94),u=r(39),l=r(3);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};r.baseUrl="igs/rest/mrfs";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.resultCallBack=void 0!==r.resultCallBack?r.resultCallBack:null,n.queryParam=void 0!==r.queryParam?r.queryParam:null,n.requestType=void 0!==r.requestType?r.requestType:"GET",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.ServiceBase),n(e,[{key:"processResult",value:function(t){var e=new a.FeatureSet;(0,o.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"processGeoJsonResult",value:function(t){var e={};(0,o.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"restQuery",value:function(t,e,r,n,i,o){this.resultCallBack=r;var s=new l.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:"geojson"!==o?this.processResult:this.processGeoJsonResult,processFailed:i}});"GET"===n?s.processAsync():s.processAsync({method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"query",value:function(t,e,r){if(null!==this.queryParam){var n="";if(this.queryParam instanceof u.QueryParameter){n=this.getFullUrl();var i="",o=null;"GET"===(i=r||(this.requestType?this.requestType:"GET")).toUpperCase()?n+=encodeURI("?"+this.queryParam.getParameterURL()):o=this.queryParam.getParameterObject(),this.restQuery(n,o,t,i,e,this.queryParam.resultFormat.toLowerCase())}}}}]),e}();e.QueryServiceBase=c,i.Zondy.Service.QueryServiceBase=c},function(t,e,r){"use strict";r.r(e),r.d(e,"earthRadius",function(){return n}),r.d(e,"factors",function(){return i}),r.d(e,"unitsFactors",function(){return o}),r.d(e,"areaFactors",function(){return s}),r.d(e,"feature",function(){return a}),r.d(e,"geometry",function(){return u}),r.d(e,"point",function(){return l}),r.d(e,"points",function(){return c}),r.d(e,"polygon",function(){return h}),r.d(e,"polygons",function(){return f}),r.d(e,"lineString",function(){return p}),r.d(e,"lineStrings",function(){return d}),r.d(e,"featureCollection",function(){return y}),r.d(e,"multiLineString",function(){return g}),r.d(e,"multiPoint",function(){return v}),r.d(e,"multiPolygon",function(){return m}),r.d(e,"geometryCollection",function(){return _}),r.d(e,"round",function(){return b}),r.d(e,"radiansToLength",function(){return x}),r.d(e,"lengthToRadians",function(){return w}),r.d(e,"lengthToDegrees",function(){return S}),r.d(e,"bearingToAzimuth",function(){return P}),r.d(e,"radiansToDegrees",function(){return E}),r.d(e,"degreesToRadians",function(){return O}),r.d(e,"convertLength",function(){return C}),r.d(e,"convertArea",function(){return I}),r.d(e,"isNumber",function(){return M}),r.d(e,"isObject",function(){return N}),r.d(e,"validateBBox",function(){return T}),r.d(e,"validateId",function(){return A});var n=6371008.8,i={centimeters:100*n,centimetres:100*n,degrees:n/111325,feet:3.28084*n,inches:39.37*n,kilometers:n/1e3,kilometres:n/1e3,meters:n,metres:n,miles:n/1609.344,millimeters:1e3*n,millimetres:1e3*n,nauticalmiles:n/1852,radians:1,yards:n/1.0936},o={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n,yards:1/1.0936},s={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function a(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function u(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return l(e).geometry;case"LineString":return p(e).geometry;case"Polygon":return h(e).geometry;case"MultiPoint":return v(e).geometry;case"MultiLineString":return g(e).geometry;case"MultiPolygon":return m(e).geometry;default:throw new Error(t+" is invalid")}}function l(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(t[0])||!M(t[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:t},e,r)}function c(t,e,r){return void 0===r&&(r={}),y(t.map(function(t){return l(t,e)}),r)}function h(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return a({type:"Polygon",coordinates:t},e,r)}function f(t,e,r){return void 0===r&&(r={}),y(t.map(function(t){return h(t,e)}),r)}function p(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return a({type:"LineString",coordinates:t},e,r)}function d(t,e,r){return void 0===r&&(r={}),y(t.map(function(t){return p(t,e)}),r)}function y(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function g(t,e,r){return void 0===r&&(r={}),a({type:"MultiLineString",coordinates:t},e,r)}function v(t,e,r){return void 0===r&&(r={}),a({type:"MultiPoint",coordinates:t},e,r)}function m(t,e,r){return void 0===r&&(r={}),a({type:"MultiPolygon",coordinates:t},e,r)}function _(t,e,r){return void 0===r&&(r={}),a({type:"GeometryCollection",geometries:t},e,r)}function b(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r}function x(t,e){void 0===e&&(e="kilometers");var r=i[e];if(!r)throw new Error(e+" units is invalid");return t*r}function w(t,e){void 0===e&&(e="kilometers");var r=i[e];if(!r)throw new Error(e+" units is invalid");return t/r}function S(t,e){return E(w(t,e))}function P(t){var e=t%360;return e<0&&(e+=360),e}function E(t){return 180*(t%(2*Math.PI))/Math.PI}function O(t){return t%360*Math.PI/180}function C(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return x(w(t,e),r)}function I(t,e,r){if(void 0===e&&(e="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var n=s[e];if(!n)throw new Error("invalid original units");var i=s[r];if(!i)throw new Error("invalid final units");return t/n*i}function M(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function N(t){return!!t&&t.constructor===Object}function T(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!M(t))throw new Error("bbox must only contain numbers")})}function A(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},function(t,e,r){(function(t){!function(e){"use strict";var r=6371008.8,n={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*r,kilometers:6371.0088,kilometres:6371.0088,meters:r,metres:r,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:r/1852,radians:1,yards:5825721.287490856},i={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r,yards:1/1.0936},o={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046};function s(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function a(t,e,r){switch(t){case"Point":return u(e).geometry;case"LineString":return f(e).geometry;case"Polygon":return c(e).geometry;case"MultiPoint":return g(e).geometry;case"MultiLineString":return y(e).geometry;case"MultiPolygon":return v(e).geometry;default:throw new Error(t+" is invalid")}}function u(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!I(t[0])||!I(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),d(t.map(function(t){return u(t,e)}),r)}function c(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return s({type:"Polygon",coordinates:t},e,r)}function h(t,e,r){return void 0===r&&(r={}),d(t.map(function(t){return c(t,e)}),r)}function f(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return s({type:"LineString",coordinates:t},e,r)}function p(t,e,r){return void 0===r&&(r={}),d(t.map(function(t){return f(t,e)}),r)}function d(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function y(t,e,r){return void 0===r&&(r={}),s({type:"MultiLineString",coordinates:t},e,r)}function g(t,e,r){return void 0===r&&(r={}),s({type:"MultiPoint",coordinates:t},e,r)}function v(t,e,r){return void 0===r&&(r={}),s({type:"MultiPolygon",coordinates:t},e,r)}function m(t,e,r){return void 0===r&&(r={}),s({type:"GeometryCollection",geometries:t},e,r)}function _(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r}function b(t,e){void 0===e&&(e="kilometers");var r=n[e];if(!r)throw new Error(e+" units is invalid");return t*r}function x(t,e){void 0===e&&(e="kilometers");var r=n[e];if(!r)throw new Error(e+" units is invalid");return t/r}function w(t,e){return P(x(t,e))}function S(t){var e=t%360;return e<0&&(e+=360),e}function P(t){return t%(2*Math.PI)*180/Math.PI}function E(t){return t%360*Math.PI/180}function O(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return b(x(t,e),r)}function C(t,e,r){if(void 0===e&&(e="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var n=o[e];if(!n)throw new Error("invalid original units");var i=o[r];if(!i)throw new Error("invalid final units");return t/n*i}function I(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function M(t){return!!t&&t.constructor===Object}function N(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!I(t))throw new Error("bbox must only contain numbers")})}function T(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}var A=Object.freeze({__proto__:null,earthRadius:r,factors:n,unitsFactors:i,areaFactors:o,feature:s,geometry:a,point:u,points:l,polygon:c,polygons:h,lineString:f,lineStrings:p,featureCollection:d,multiLineString:y,multiPoint:g,multiPolygon:v,geometryCollection:m,round:_,radiansToLength:b,lengthToRadians:x,lengthToDegrees:w,bearingToAzimuth:S,radiansToDegrees:P,degreesToRadians:E,convertLength:O,convertArea:C,isNumber:I,isObject:M,validateBBox:N,validateId:T});function L(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function j(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function R(t){if(t.length>1&&I(t[0])&&I(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return R(t[0]);throw new Error("coordinates must only contain numbers")}function F(t,e,r){if(!e||!r)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.type)}function D(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function k(t,e,r){if(!t)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,i=t.features;n<i.length;n++){var o=i[n];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+o.geometry.type)}}function G(t){return"Feature"===t.type?t.geometry:t}function B(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}var U=Object.freeze({__proto__:null,getCoord:L,getCoords:j,containsNumber:R,geojsonType:F,featureOf:D,collectionOf:k,getGeom:G,getType:B});function q(t,e,r){if(null!==t)for(var n,i,o,s,a,u,l,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,y="Feature"===p,g=d?t.features.length:1,v=0;v<g;v++){a=(c=!!(l=d?t.features[v].geometry:y?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<a;m++){var _=0,b=0;if(null!==(s=c?l.geometries[m]:l)){u=s.coordinates;var x=s.type;switch(h=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,f,v,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],f,v,_,b))return!1;f++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-h;i++){if(!1===e(u[n][i],f,v,_,b))return!1;f++}"MultiLineString"===x&&_++,"Polygon"===x&&b++}"Polygon"===x&&_++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(b=0,i=0;i<u[n].length;i++){for(o=0;o<u[n][i].length-h;o++){if(!1===e(u[n][i][o],f,v,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===q(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function z(t,e,r,n){var i=r;return q(t,function(t,n,o,s,a){i=0===n&&void 0===r?t:e(i,t,n,o,s,a)},n),i}function V(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function Z(t,e,r){var n=r;return V(t,function(t,i){n=0===i&&void 0===r?t:e(n,t,i)}),n}function W(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function X(t,e,r){var n=r;return W(t,function(t,i){n=0===i&&void 0===r?t:e(n,t,i)}),n}function Y(t){var e=[];return q(t,function(t){e.push(t)}),e}function Q(t,e){var r,n,i,o,s,a,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,y=p?t.features.length:1;for(r=0;r<y;r++){for(a=p?t.features[r].geometry:d?t.geometry:t,l=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,h=p?t.features[r].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,c,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function H(t,e,r){var n=r;return Q(t,function(t,i,o,s,a){n=0===i&&void 0===r?t:e(n,t,i,o,s,a)}),n}function J(t,e){Q(t,function(t,r,n,i,o){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(s(t,n,{bbox:i,id:o}),r,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c=t.coordinates[l];if(!1===e(s({type:a,coordinates:c},n),r,l))return!1}})}function K(t,e,r){var n=r;return J(t,function(t,i,o){n=0===i&&0===o&&void 0===r?t:e(n,t,i,o)}),n}function $(t,e){J(t,function(t,r,n){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,u=0,l=0;return!1!==q(t,function(o,c,h,p,d){if(void 0===s||r>a||p>u||d>l)return s=o,a=r,u=p,l=d,void(i=0);var y=f([s,o],t.properties);if(!1===e(y,r,n,d,i))return!1;i++,s=o})&&void 0}}})}function tt(t,e,r){var n=r,i=!1;return $(t,function(t,o,s,a,u){n=!1===i&&void 0===r?t:e(n,t,o,s,a,u),i=!0}),n}function et(t,e){if(!t)throw new Error("geojson is required");J(t,function(t,r,n){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(f(o[s],t.properties),r,n,s))return!1}}})}function rt(t,e,r){var n=r;return et(t,function(t,i,o,s){n=0===i&&void 0===r?t:e(n,t,i,o,s)}),n}function nt(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),f([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),f([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),f([u[i][s],u[i][s+1]],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),f([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error("geojson is invalid")}function it(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return u(l,a,e);case"MultiPoint":return i<0&&(i=l.length+i),u(l[i],a,e);case"LineString":return s<0&&(s=l.length+s),u(l[s],a,e);case"Polygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),u(l[o][s],a,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),u(l[i][s],a,e);case"MultiPolygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),s<0&&(s=l[i][o].length-s),u(l[i][o][s],a,e)}throw new Error("geojson is invalid")}var ot=Object.freeze({__proto__:null,coordEach:q,coordReduce:z,propEach:V,propReduce:Z,featureEach:W,featureReduce:X,coordAll:Y,geomEach:Q,geomReduce:H,flattenEach:J,flattenReduce:K,segmentEach:$,segmentReduce:tt,lineEach:et,lineReduce:rt,findSegment:nt,findPoint:it});function st(t){var e=[1/0,1/0,-1/0,-1/0];return q(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}st.default=st;
/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */
var at=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,ct=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,i=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in r=Object(arguments[o]))ut.call(r,s)&&(i[s]=r[s]);if(at){n=at(r);for(var a=0;a<n.length;a++)lt.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},ht={successCallback:null,verbose:!1},ft={};
/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */
function pt(t,e,r){r=r||{};for(var n=Object.keys(ht),i=0;i<n.length;i++){var o=n[i],s=r[o];s=null!=s?s:ht[o],ft[o]=s}ft.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],r=0;return t.cells.forEach(function(n,i){n.forEach(function(n,o){if(void 0!==n&&5!==(f=n).cval&&10!==f.cval&&!yt(n)){var s=function(t,e,r){var n,i,o=t.length,s=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],c=t[e][r],h=c.cval,f=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h],p=vt(c,f);s.push([r+p[0],e+p[1]]),p=vt(c,f=l[h]),s.push([r+p[0],e+p[1]]),gt(c);for(var d=r+a[h],y=e+u[h],g=h;d>=0&&y>=0&&y<o&&(d!=r||y!=e)&&void 0!==(c=t[y][d]);){if(0===(h=c.cval)||15===h)return{path:s,info:"mergeable"};f=l[h],n=a[h],i=u[h],5!==h&&10!==h||(5===h?c.flipped?-1===u[g]?(f="left",n=-1,i=0):(f="right",n=1,i=0):-1===a[g]&&(f="bottom",n=0,i=-1):10===h&&(c.flipped?-1===a[g]?(f="top",n=0,i=1):(f="bottom",n=0,i=-1):1===u[g]&&(f="left",n=-1,i=0))),p=vt(c,f),s.push([d+p[0],y+p[1]]),gt(c),d+=n,y+=i,g=h}return{path:s,info:"closed"}}(t.cells,i,o),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=r-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[r++]=s.path)}var f})}),e}(function(t,e){for(var r=t.length-1,n=t[0].length-1,i={rows:r,cols:n,cells:[]},o=0;o<r;++o){i.cells[o]=[];for(var s=0;s<n;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var f,p,d,y,g=!1;if(5==(a|=h>=e?1:0)||10===a){var v=(u+l+c+h)/4;5===a&&v<e?(a=10,g=!0):10===a&&v<e&&(a=5,g=!0)}0!==a&&15!==a&&(f=p=d=y=.5,1===a?(d=1-dt(e,u,h),p=1-dt(e,c,h)):2===a?(p=dt(e,h,c),y=1-dt(e,l,c)):3===a?(d=1-dt(e,u,h),y=1-dt(e,l,c)):4===a?(f=dt(e,u,l),y=dt(e,c,l)):5===a?(f=dt(e,u,l),y=dt(e,c,l),p=1-dt(e,c,h),d=1-dt(e,u,h)):6===a?(p=dt(e,h,c),f=dt(e,u,l)):7===a?(d=1-dt(e,u,h),f=dt(e,u,l)):8===a?(d=dt(e,h,u),f=1-dt(e,l,u)):9===a?(p=1-dt(e,c,h),f=1-dt(e,l,u)):10===a?(f=1-dt(e,l,u),y=1-dt(e,l,c),p=dt(e,h,c),d=dt(e,h,u)):11===a?(f=1-dt(e,l,u),y=1-dt(e,l,c)):12===a?(d=dt(e,h,u),y=dt(e,c,l)):13===a?(p=1-dt(e,c,h),y=dt(e,c,l)):14===a?(d=dt(e,h,u),p=dt(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:g,top:f,right:y,bottom:p,left:d})}}}return i}(t,e));return"function"==typeof ft.successCallback&&ft.successCallback(a),a}function dt(t,e,r){return(t-e)/(r-e)}function yt(t){return 0===t.cval||15===t.cval}function gt(t){yt(t)||5===t.cval||10===t.cval||(t.cval=15)}function vt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}var mt=bt,_t=bt;function bt(t,e,r,n,i){!function t(e,r,n,i,o){for(;i>n;){if(i-n>600){var s=i-n+1,a=r-n+1,u=Math.log(s),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(s-l)/s)*(a-s/2<0?-1:1);t(e,r,Math.max(n,Math.floor(r-a*l/s+c)),Math.min(i,Math.floor(r+(s-a)*l/s+c)),o)}var h=e[r],f=n,p=i;for(xt(e,n,r),o(e[i],h)>0&&xt(e,n,i);f<p;){for(xt(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[n],h)?xt(e,n,p):xt(e,++p,i),p<=r&&(n=p+1),r<=p&&(i=p-1)}}(t,e,r||0,n||t.length-1,i||wt)}function xt(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function wt(t,e){return t<e?-1:t>e?1:0}mt.default=_t;var St=Et,Pt=Et;function Et(t,e){if(!(this instanceof Et))return new Et(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ot(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function Ct(t,e){It(t,0,t.children.length,e,t)}function It(t,e,r,n,i){i||(i=Ft(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<r;s++)o=t.children[s],Mt(i,t.leaf?n(o):o);return i}function Mt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Nt(t,e){return t.minX-e.minX}function Tt(t,e){return t.minY-e.minY}function At(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Lt(t){return t.maxX-t.minX+(t.maxY-t.minY)}function jt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Rt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Ft(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Dt(t,e,r,n,i){for(var o,s=[e,r];s.length;)(r=s.pop())-(e=s.pop())<=n||(o=e+Math.ceil((r-e)/n/2)*n,mt(t,o,e,r,i),s.push(e,o,o,r))}function kt(t){var e={exports:{}};return t(e,e.exports),e.exports}Et.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!Rt(t,e))return r;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],Rt(t,a=e.leaf?n(s):s)&&(e.leaf?r.push(s):jt(t,a)?this._all(s,r):u.push(s));e=u.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!Rt(t,e))return!1;for(var n,i,o,s,a=[];e;){for(n=0,i=e.children.length;n<i;n++)if(o=e.children[n],Rt(t,s=e.leaf?r(o):o)){if(e.leaf||jt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Ft([]),this},remove:function(t,e){if(!t)return this;for(var r,n,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),n=u[u.length-1],r=l.pop(),o=!0),s.leaf&&-1!==(i=Ot(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!jt(s,a)?n?(r++,s=n.children[r],o=!1):s=null:(u.push(s),l.push(r),r=0,n=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Nt,compareMinY:Tt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var i,o=r-e+1,s=this._maxEntries;if(o<=s)return Ct(i=Ft(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=Ft([])).leaf=!1,i.height=n;var a,u,l,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(Dt(t,e,r,f,this.compareMinX),a=e;a<=r;a+=f)for(Dt(t,a,l=Math.min(a+f-1,r),h,this.compareMinY),u=a;u<=l;u+=h)c=Math.min(u+h-1,l),i.children.push(this._build(t,u,c,n-1));return Ct(i,this.toBBox),i},_chooseSubtree:function(t,e,r,n){for(var i,o,s,a,u,l,c,h,f,p;n.push(e),!e.leaf&&n.length-1!==r;){for(c=h=1/0,i=0,o=e.children.length;i<o;i++)u=At(s=e.children[i]),f=t,p=s,(l=(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-u)<h?(h=l,c=u<c?u:c,a=s):l===h&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,i=r?t:n(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),Mt(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=Ft(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,Ct(r,this.toBBox),Ct(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data=Ft([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ct(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,i,o,s,a,u,l,c,h,f,p,d,y,g;for(u=l=1/0,n=e;n<=r-e;n++)i=It(t,0,n,this.toBBox),o=It(t,n,r,this.toBBox),h=i,f=o,p=void 0,d=void 0,y=void 0,g=void 0,p=Math.max(h.minX,f.minX),d=Math.max(h.minY,f.minY),y=Math.min(h.maxX,f.maxX),g=Math.min(h.maxY,f.maxY),s=Math.max(0,y-p)*Math.max(0,g-d),a=At(i)+At(o),s<u?(u=s,c=n,l=a<l?a:l):s===u&&a<l&&(l=a,c=n);return c},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:Nt,i=t.leaf?this.compareMinY:Tt;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var i,o,s=this.toBBox,a=It(t,0,e,s),u=It(t,r-e,r,s),l=Lt(a)+Lt(u);for(i=e;i<r-e;i++)o=t.children[i],Mt(a,t.leaf?s(o):o),l+=Lt(a);for(i=r-e-1;i>=e;i--)o=t.children[i],Mt(u,t.leaf?s(o):o),l+=Lt(u);return l},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)Mt(e[n],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():Ct(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},St.default=Pt;var Gt=function(t,e,r){var n=t*e,i=Bt*t,o=i-(i-t),s=t-o,a=Bt*e,u=a-(a-e),l=e-u,c=s*l-(n-o*u-s*u-o*l);return r?(r[0]=c,r[1]=n,r):[c,n]},Bt=+(Math.pow(2,27)+1),Ut=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);return i?[i,r]:[r]}(t[0],e[0]);var i,o,s=new Array(r+n),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=e[l],d=c(p);f<d?(o=h,(u+=1)<r&&(h=t[u],f=c(h))):(o=p,(l+=1)<n&&(p=e[l],d=c(p))),u<r&&f<d||l>=n?(i=h,(u+=1)<r&&(h=t[u],f=c(h))):(i=p,(l+=1)<n&&(p=e[l],d=c(p)));for(var y,g,v=i+o,m=v-i,_=o-m,b=_,x=v;u<r&&l<n;)f<d?(i=h,(u+=1)<r&&(h=t[u],f=c(h))):(i=p,(l+=1)<n&&(p=e[l],d=c(p))),(_=(o=b)-(m=(v=i+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y;for(;u<r;)(_=(o=b)-(m=(v=(i=h)+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y,(u+=1)<r&&(h=t[u]);for(;l<n;)(_=(o=b)-(m=(v=(i=p)+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y,(l+=1)<n&&(p=e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},qt=function(t,e,r){var n=t+e,i=n-t,o=e-i,s=t-(n-i);return r?(r[0]=s+o,r[1]=n,r):[s+o,n]},zt=function(t,e){var r=t.length;if(1===r){var n=Gt(t[0],e);return n[0]?n:[n[1]]}var i=new Array(2*r),o=[.1,.1],s=[.1,.1],a=0;Gt(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<r;++u){Gt(t[u],e,s);var l=o[1];qt(l,s[0],o),o[0]&&(i[a++]=o[0]);var c=s[1],h=o[1],f=c+h,p=h-(f-c);o[1]=f,p&&(i[a++]=p)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Vt=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);return i?[i,r]:[r]}(t[0],-e[0]);var i,o,s=new Array(r+n),a=0,u=0,l=0,c=Math.abs,h=t[u],f=c(h),p=-e[l],d=c(p);f<d?(o=h,(u+=1)<r&&(h=t[u],f=c(h))):(o=p,(l+=1)<n&&(p=-e[l],d=c(p))),u<r&&f<d||l>=n?(i=h,(u+=1)<r&&(h=t[u],f=c(h))):(i=p,(l+=1)<n&&(p=-e[l],d=c(p)));for(var y,g,v=i+o,m=v-i,_=o-m,b=_,x=v;u<r&&l<n;)f<d?(i=h,(u+=1)<r&&(h=t[u],f=c(h))):(i=p,(l+=1)<n&&(p=-e[l],d=c(p))),(_=(o=b)-(m=(v=i+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y;for(;u<r;)(_=(o=b)-(m=(v=(i=h)+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y,(u+=1)<r&&(h=t[u]);for(;l<n;)(_=(o=b)-(m=(v=(i=p)+o)-i))&&(s[a++]=_),b=x-((y=x+v)-(g=y-x))+(v-g),x=y,(l+=1)<n&&(p=-e[l]);return b&&(s[a++]=b),x&&(s[a++]=x),a||(s[a++]=0),s.length=a,s},Zt=kt(function(t){function e(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var i=r[n-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[n][o]);return r}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function n(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var i=[],o=0;o<t.length;++o)i.push(["scale(",r(n(e(t,o))),",",(s=o,1&s?"-":""),t[0][o],")"].join(""));return i;var s}function i(t){for(var i=[],o=[],s=function(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?i.push.apply(i,n(e(s,u))):o.push.apply(o,n(e(s,u))),a.push("m"+u);var l=r(i),c=r(o),h="orientation"+t+"Exact",f=["function ",h,"(",a.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(Ut,Gt,zt,Vt)}var o=i(3),s=i(4),a=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),s=(t[0]-r[0])*(e[1]-r[1]),a=i-s;if(i>0){if(s<=0)return a;n=i+s}else{if(!(i<0))return a;if(s>=0)return a;n=-(i+s)}var u=3.3306690738754716e-16*n;return a>=u||a<=-u?a:o(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],o=e[0]-n[0],a=r[0]-n[0],u=t[1]-n[1],l=e[1]-n[1],c=r[1]-n[1],h=t[2]-n[2],f=e[2]-n[2],p=r[2]-n[2],d=o*c,y=a*l,g=a*u,v=i*c,m=i*l,_=o*u,b=h*(d-y)+f*(g-v)+p*(m-_),x=7.771561172376103e-16*((Math.abs(d)+Math.abs(y))*Math.abs(h)+(Math.abs(g)+Math.abs(v))*Math.abs(f)+(Math.abs(m)+Math.abs(_))*Math.abs(p));return b>x||-b>x?b:s(t,e,r,n)}];!function(){for(;a.length<=5;)a.push(i(a.length));for(var e=[],r=["slow"],n=0;n<=5;++n)e.push("a"+n),r.push("o"+n);var o=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=5;++n)o.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");o.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(o.join(""));var s=Function.apply(void 0,r);for(t.exports=s.apply(void 0,[function(t){var e=a[t.length];return e||(e=a[t.length]=i(t.length)),e.apply(void 0,t)}].concat(a)),n=0;n<=5;++n)t.exports[n]=a[n]}()}),Wt=function(t){var e=t.length;if(e<3){for(var r=new Array(e),n=0;n<e;++n)r[n]=n;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:r}var i=new Array(e);for(n=0;n<e;++n)i[n]=n;i.sort(function(e,r){var n=t[e][0]-t[r][0];return n||t[e][1]-t[r][1]});var o=[i[0],i[1]],s=[i[0],i[1]];for(n=2;n<e;++n){for(var a=i[n],u=t[a],l=o.length;l>1&&Xt(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&Xt(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}r=new Array(s.length+o.length-2);for(var c=0,h=(n=0,o.length);n<h;++n)r[c++]=o[n];for(var f=s.length-2;f>0;--f)r[c++]=s[f];return r},Xt=Zt[3],Yt=Ht,Qt=Ht;function Ht(t,e){if(!(this instanceof Ht))return new Ht(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||Jt,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function Jt(t,e){return t<e?-1:t>e?1:0}Ht.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var i=t-1>>1,o=e[i];if(r(n,o)>=0)break;e[t]=o,t=i}e[t]=n},_down:function(t){for(var e=this.data,r=this.compare,n=this.length>>1,i=e[t];t<n;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&r(e[s],a)<0&&(o=s,a=e[s]),r(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},Yt.default=Qt;var Kt=function(t,e){for(var r=t[0],n=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],c=e[s][1];u>n!=c>n&&r<(l-a)*(n-u)/(c-u)+a&&(i=!i)}return i},$t=Zt[3],te=re,ee=re;function re(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;for(var n,i=function(t){for(var e=t[0],r=t[0],n=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>i[1]&&(i=s)}var a=[e,r,n,i],u=a.slice();for(o=0;o<t.length;o++)Kt(t[o],a)||u.push(t[o]);var l=Wt(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=St(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),n=le(u,n),s.push(n)}var l=St(16);for(a=0;a<s.length;a++)l.insert(ue(s[a]));for(var c=e*e,h=r*r;s.length;){var f=s.shift(),p=f.p,d=f.next.p,y=ce(p,d);if(!(y<h)){var g=y/c;(u=ne(o,f.prev.p,p,d,f.next.next.p,g,l))&&Math.min(ce(u,p),ce(u,d))<=g&&(s.push(f),s.push(le(u,f)),o.remove(u),l.remove(f),l.insert(ue(f)),l.insert(ue(f.next)))}}f=n;var v=[];do{v.push(f.p),f=f.next}while(f!==n);return v.push(f.p),v}function ne(t,e,r,n,i,o,s){for(var a=new Yt(null,ie),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?he(c,r,n):oe(r,n,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=he(p,e,r),y=he(p,n,i);if(f.dist<d&&f.dist<y&&ae(r,p,s)&&ae(n,p,s))return p}(u=a.pop())&&(u=u.node)}return null}function ie(t,e){return t.dist-e.dist}function oe(t,e,r){if(se(t,r)||se(e,r))return 0;var n=fe(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var i=fe(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===i)return 0;var o=fe(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===o)return 0;var s=fe(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===s?0:Math.min(n,i,o,s)}function se(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function ae(t,e,r){for(var n,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),h=r.search({minX:a,minY:u,maxX:l,maxY:c}),f=0;f<h.length;f++)if(n=h[f].p,i=h[f].next.p,o=t,n!==(s=e)&&i!==o&&$t(n,i,o)>0!=$t(n,i,s)>0&&$t(o,s,n)>0!=$t(o,s,i)>0)return!1;return!0}function ue(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function le(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function ce(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function he(t,e,r){var n=e[0],i=e[1],o=r[0]-n,s=r[1]-i;if(0!==o||0!==s){var a=((t[0]-n)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(n=r[0],i=r[1]):a>0&&(n+=o*a,i+=s*a)}return(o=t[0]-n)*o+(s=t[1]-i)*s}function fe(t,e,r,n,i,o,s,a){var u,l,c,h,f=r-t,p=n-e,d=s-i,y=a-o,g=t-i,v=e-o,m=f*f+p*p,_=f*d+p*y,b=d*d+y*y,x=f*g+p*v,w=d*g+y*v,S=m*b-_*_,P=S,E=S;0===S?(l=0,P=1,h=w,E=b):(h=m*w-_*x,(l=_*w-b*x)<0?(l=0,h=w,E=b):l>P&&(l=P,h=w+_,E=b)),h<0?(h=0,-x<0?l=0:-x>m?l=P:(l=-x,P=m)):h>E&&(h=E,-x+_<0?l=0:-x+_>m?l=P:(l=-x+_,P=m));var O=(1-(c=0===h?0:h/E))*i+c*s-((1-(u=0===l?0:l/P))*t+u*r),C=(1-c)*o+c*a-((1-u)*e+u*n);return O*O+C*C}function pe(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var r=[];if(q(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var n=te(r,e.concavity);return n.length>3?c([n]):null}function de(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=L(t),i=G(e),o=i.type,s=e.bbox,a=i.coordinates;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(n,s))return!1;"Polygon"===o&&(a=[a]);for(var u=!1,l=0;l<a.length&&!u;l++)if(ye(n,a[l][0],r.ignoreBoundary)){for(var c=!1,h=1;h<a[l].length&&!c;)ye(n,a[l][h],!r.ignoreBoundary)&&(c=!0),h++;c||(u=!0)}return u}function ye(t,e,r){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!r;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(n=!n)}return n}function ge(t,e){var r=[];return W(t,function(t){var n=!1;Q(e,function(e){de(t,e)&&(n=!0)}),n&&r.push(t)}),d(r)}function ve(t,e,r){void 0===r&&(r={});var n=L(t),i=L(e),o=E(i[1]-n[1]),s=E(i[0]-n[0]),a=E(n[1]),u=E(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(u);return b(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),r.units)}function me(t,e){var r=!1;return d(function(t){if(t.length<3)return[];t.sort(be);for(var e,r,n,i,o,s,a=t.length-1,u=t[a].x,l=t[0].x,c=t[a].y,h=c;a--;)t[a].y<c&&(c=t[a].y),t[a].y>h&&(h=t[a].y);var f,p=l-u,d=h-c,y=p>d?p:d,g=.5*(l+u),v=.5*(h+c),m=[new _e({__sentinel:!0,x:g-20*y,y:v-y},{__sentinel:!0,x:g,y:v+20*y},{__sentinel:!0,x:g+20*y,y:v-y})],_=[],b=[];for(a=t.length;a--;){for(b.length=0,f=m.length;f--;)(p=t[a].x-m[f].x)>0&&p*p>m[f].r?(_.push(m[f]),m.splice(f,1)):p*p+(d=t[a].y-m[f].y)*d>m[f].r||(b.push(m[f].a,m[f].b,m[f].b,m[f].c,m[f].c,m[f].a),m.splice(f,1));for(xe(b),f=b.length;f;)r=b[--f],e=b[--f],n=t[a],i=r.x-e.x,o=r.y-e.y,s=2*(i*(n.y-r.y)-o*(n.x-r.x)),Math.abs(s)>1e-12&&m.push(new _e(e,r,n))}for(Array.prototype.push.apply(_,m),a=_.length;a--;)(_[a].a.__sentinel||_[a].b.__sentinel||_[a].c.__sentinel)&&_.splice(a,1);return _}(t.features.map(function(t){var n={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?n.z=t.properties[e]:3===t.geometry.coordinates.length&&(r=!0,n.z=t.geometry.coordinates[2]),n})).map(function(t){var e=[t.a.x,t.a.y],n=[t.b.x,t.b.y],i=[t.c.x,t.c.y],o={};return r?(e.push(t.a.z),n.push(t.b.z),i.push(t.c.z)):o={a:t.a.z,b:t.b.z,c:t.c.z},c([[e,n,i,e]],o)}))}te.default=ee;var _e=function(t,e,r){this.a=t,this.b=e,this.c=r;var n,i,o=e.x-t.x,s=e.y-t.y,a=r.x-t.x,u=r.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+r.x)+u*(t.y+r.y),h=2*(o*(r.y-e.y)-s*(r.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,n=this.x-t.x,i=this.y-t.y,this.r=n*n+i*i};function be(t,e){return e.x-t.x}function xe(t){var e,r,n,i,o,s=t.length;t:for(;s;)for(r=t[--s],e=t[--s],n=s;n;)if(o=t[--n],e===(i=t[--n])&&r===o||e===o&&r===i){t.splice(s,2),t.splice(n,2),s-=2;continue t}}function we(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Se(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(r){switch(r){case"type":case"features":return;default:e[r]=t[r]}}),e.features=t.features.map(function(t){return Se(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Pe(t);default:throw new Error("unknown GeoJSON type")}}function Se(t){var e={type:"Feature"};return Object.keys(t).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}}),e.properties=function t(e){var r={};return e?(Object.keys(e).forEach(function(n){var i=e[n];"object"==typeof i?null===i?r[n]=null:Array.isArray(i)?r[n]=i.map(function(t){return t}):r[n]=t(i):r[n]=i}),r):r}(t.properties),e.geometry=Pe(t.geometry),e}function Pe(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Pe(t)}),e):(e.coordinates=function t(e){var r=e;return"object"!=typeof r[0]?r.slice():r.map(function(e){return t(e)})}(t.coordinates),e)}function Ee(t){return t[0].toString()+","+t[1].toString()}function Oe(t){return t}function Ce(t,e){var r=function(t){if(null==t)return Oe;var e,r,n=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=r=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*n+o,c[1]=(r+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}}(t.transform),n=t.arcs;function i(t,e){e.length&&e.pop();for(var i=n[t<0?~t:t],o=0,s=i.length;o<s;++o)e.push(r(i[o],o));t<0&&function(t,e){for(var r,n=t.length,i=n-e;i<--n;)r=t[i],t[i++]=t[n],t[n]=r}(e,s)}function o(t){return r(t)}function s(t){for(var e=[],r=0,n=t.length;r<n;++r)i(t[r],e);return e.length<2&&e.push(e[0]),e}function a(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(a)}return function t(e){var r,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(t)};case"Point":r=o(e.coordinates);break;case"MultiPoint":r=e.coordinates.map(o);break;case"LineString":r=s(e.arcs);break;case"MultiLineString":r=e.arcs.map(s);break;case"Polygon":r=u(e.arcs);break;case"MultiPolygon":r=e.arcs.map(u);break;default:return null}return{type:n,coordinates:r}}(e)}function Ie(t,e,r,n,i,o){3===arguments.length&&(n=o=Array,i=null);for(var s=new n(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;return{set:function(n,o){for(var l=e(n)&u,c=s[l],h=0;c!=i;){if(r(c,n))return a[l]=o;if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=n,a[l]=o,o},maybeSet:function(n,o){for(var l=e(n)&u,c=s[l],h=0;c!=i;){if(r(c,n))return a[l];if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=n,a[l]=o,o},get:function(n,o){for(var l=e(n)&u,c=s[l],h=0;c!=i;){if(r(c,n))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,r=s.length;e<r;++e){var n=s[e];n!=i&&t.push(n)}return t}}}function Me(t,e){return t[0]===e[0]&&t[1]===e[1]}var Ne=new ArrayBuffer(16),Te=new Float64Array(Ne),Ae=new Uint32Array(Ne);function Le(t){Te[0]=t[0],Te[1]=t[1];var e=Ae[0]^Ae[1];return 2147483647&(e=e<<5^e>>7^Ae[2]^Ae[3])}function je(t,e,r,n){Re(t,e,r),Re(t,e,e+n),Re(t,e+n,r)}function Re(t,e,r){for(var n,i=e+(r---e>>1);e<i;++e,--r)n=t[e],t[e]=t[r],t[r]=n}function Fe(t){var e={type:"GeometryCollection",geometries:t.features.map(De)};return null!=t.bbox&&(e.bbox=t.bbox),e}function De(t){var e,r=ke(t.geometry);for(e in null!=t.id&&(r.id=t.id),null!=t.bbox&&(r.bbox=t.bbox),t.properties){r.properties=t.properties;break}return r}function ke(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(ke)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Ge(t,e){var r=function(t){var e=1/0,r=1/0,n=-1/0,i=-1/0;function o(t){null!=t&&s.hasOwnProperty(t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},Point:function(t){a(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(a)},LineString:function(t){u(t.arcs)},MultiLineString:function(t){t.arcs.forEach(u)},Polygon:function(t){t.arcs.forEach(u)},MultiPolygon:function(t){t.arcs.forEach(l)}};function a(t){var o=t[0],s=t[1];o<e&&(e=o),o>n&&(n=o),s<r&&(r=s),s>i&&(i=s)}function u(t){t.forEach(a)}function l(t){t.forEach(u)}for(var c in t)o(t[c]);return n>=e&&i>=r?[e,r,n,i]:void 0}(t=function(t){var e,r,n={};for(e in t)n[e]=null==(r=t[e])?{type:null}:("FeatureCollection"===r.type?Fe:"Feature"===r.type?De:ke)(r);return n}(t)),n=e>0&&r&&function(t,e,r){var n=e[0],i=e[1],o=e[2],s=e[3],a=o-n?(r-1)/(o-n):1,u=s-i?(r-1)/(s-i):1;function l(t){return[Math.round((t[0]-n)*a),Math.round((t[1]-i)*u)]}function c(t,e){for(var r,o,s,l,c,h=-1,f=0,p=t.length,d=new Array(p);++h<p;)r=t[h],l=Math.round((r[0]-n)*a),c=Math.round((r[1]-i)*u),l===o&&c===s||(d[f++]=[o=l,s=c]);for(d.length=f;f<e;)f=d.push([d[0][0],d[0][1]]);return d}function h(t){return c(t,2)}function f(t){return c(t,4)}function p(t){return t.map(f)}function d(t){null!=t&&y.hasOwnProperty(t.type)&&y[t.type](t)}var y={GeometryCollection:function(t){t.geometries.forEach(d)},Point:function(t){t.coordinates=l(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(l)},LineString:function(t){t.arcs=h(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(h)},Polygon:function(t){t.arcs=p(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(p)}};for(var g in t)d(t[g]);return{scale:[1/a,1/u],translate:[n,i]}}(t,r,e),i=function(t){var e,r,n,i,o=t.coordinates,s=t.lines,a=t.rings,u=s.length+a.length;for(delete t.lines,delete t.rings,n=0,i=s.length;n<i;++n)for(e=s[n];e=e.next;)++u;for(n=0,i=a.length;n<i;++n)for(r=a[n];r=r.next;)++u;var l=Ie(2*u*1.4,Le,Me),c=t.arcs=[];for(n=0,i=s.length;n<i;++n){e=s[n];do{h(e)}while(e=e.next)}for(n=0,i=a.length;n<i;++n)if((r=a[n]).next)do{h(r)}while(r=r.next);else f(r);function h(t){var e,r,n,i,s,a,u,h;if(n=l.get(e=o[t[0]]))for(u=0,h=n.length;u<h;++u)if(p(i=n[u],t))return t[0]=i[0],void(t[1]=i[1]);if(s=l.get(r=o[t[1]]))for(u=0,h=s.length;u<h;++u)if(d(a=s[u],t))return t[1]=a[0],void(t[0]=a[1]);n?n.push(t):l.set(e,[t]),s?s.push(t):l.set(r,[t]),c.push(t)}function f(t){var e,r,n,i,s;if(r=l.get(o[t[0]]))for(i=0,s=r.length;i<s;++i){if(y(n=r[i],t))return t[0]=n[0],void(t[1]=n[1]);if(g(n,t))return t[0]=n[1],void(t[1]=n[0])}if(r=l.get(e=o[t[0]+v(t)]))for(i=0,s=r.length;i<s;++i){if(y(n=r[i],t))return t[0]=n[0],void(t[1]=n[1]);if(g(n,t))return t[0]=n[1],void(t[1]=n[0])}r?r.push(t):l.set(e,[t]),c.push(t)}function p(t,e){var r=t[0],n=e[0],i=t[1];if(r-i!=n-e[1])return!1;for(;r<=i;++r,++n)if(!Me(o[r],o[n]))return!1;return!0}function d(t,e){var r=t[0],n=e[0],i=t[1],s=e[1];if(r-i!=n-s)return!1;for(;r<=i;++r,--s)if(!Me(o[r],o[s]))return!1;return!0}function y(t,e){var r=t[0],n=e[0],i=t[1]-r;if(i!==e[1]-n)return!1;for(var s=v(t),a=v(e),u=0;u<i;++u)if(!Me(o[r+(u+s)%i],o[n+(u+a)%i]))return!1;return!0}function g(t,e){var r=t[0],n=e[0],i=t[1],s=e[1],a=i-r;if(a!==s-n)return!1;for(var u=v(t),l=a-v(e),c=0;c<a;++c)if(!Me(o[r+(c+u)%a],o[s-(c+l)%a]))return!1;return!0}function v(t){for(var e=t[0],r=t[1],n=e,i=n,s=o[n];++n<r;){var a=o[n];(a[0]<s[0]||a[0]===s[0]&&a[1]<s[1])&&(i=n,s=a)}return i-e}return t}(function(t){var e,r,n,i=function(t){var e,r,n,i,o=t.coordinates,s=t.lines,a=t.rings,u=function(){for(var t=Ie(1.4*o.length,x,w,Int32Array,-1,Int32Array),e=new Int32Array(o.length),r=0,n=o.length;r<n;++r)e[r]=t.maybeSet(r,r);return e}(),l=new Int32Array(o.length),c=new Int32Array(o.length),h=new Int32Array(o.length),f=new Int8Array(o.length),p=0;for(e=0,r=o.length;e<r;++e)l[e]=c[e]=h[e]=-1;for(e=0,r=s.length;e<r;++e){var d=s[e],y=d[0],g=d[1];for(n=u[y],i=u[++y],++p,f[n]=1;++y<=g;)b(e,n,n=i,i=u[y]);++p,f[i]=1}for(e=0,r=o.length;e<r;++e)l[e]=-1;for(e=0,r=a.length;e<r;++e){var v=a[e],m=v[0]+1,_=v[1];for(b(e,u[_-1],n=u[m-1],i=u[m]);++m<=_;)b(e,n,n=i,i=u[m])}function b(t,e,r,n){if(l[r]!==t){l[r]=t;var i=c[r];if(i>=0){var o=h[r];i===e&&o===n||i===n&&o===e||(++p,f[r]=1)}else c[r]=e,h[r]=n}}function x(t){return Le(o[t])}function w(t,e){return Me(o[t],o[e])}l=c=h=null;var S,P=function(t,e,r,n,i){3===arguments.length&&(n=Array,i=null);for(var o=new n(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(n){for(var a=e(n)&s,u=o[a],l=0;u!=i;){if(r(u,n))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=n,!0},has:function(n){for(var a=e(n)&s,u=o[a],l=0;u!=i;){if(r(u,n))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,r=o.length;e<r;++e){var n=o[e];n!=i&&t.push(n)}return t}}}(1.4*p,Le,Me);for(e=0,r=o.length;e<r;++e)f[S=u[e]]&&P.add(o[S]);return P}(t),o=t.coordinates,s=t.lines,a=t.rings;for(r=0,n=s.length;r<n;++r)for(var u=s[r],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(r=0,n=a.length;r<n;++r)for(var h=a[r],f=h[0],p=f,d=h[1],y=i.has(o[f]);++p<d;)i.has(o[p])&&(y?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(je(o,f,d,d-p),o[d]=o[f],y=!0,p=f));return t}(function(t){var e=-1,r=[],n=[],i=[];function o(t){t&&s.hasOwnProperty(t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(o)},LineString:function(t){t.arcs=a(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(a)},Polygon:function(t){t.arcs=t.arcs.map(u)},MultiPolygon:function(t){t.arcs=t.arcs.map(l)}};function a(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var s={0:e-o+1,1:e};return r.push(s),s}function u(t){for(var r=0,o=t.length;r<o;++r)i[++e]=t[r];var s={0:e-o+1,1:e};return n.push(s),s}function l(t){return t.map(u)}for(var c in t)o(t[c]);return{type:"Topology",coordinates:i,lines:r,rings:n,objects:t}}(t))),o=i.coordinates,s=Ie(1.4*i.arcs.length,Be,Ue);function a(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}t=i.objects,i.bbox=r,i.arcs=i.arcs.map(function(t,e){return s.set(t,e),o.slice(t[0],t[1]+1)}),delete i.coordinates,o=null;var u={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=l(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(l)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function l(t){var e=[];do{var r=s.get(t);e.push(t[0]<t[1]?r:~r)}while(t=t.next);return e}function c(t){return t.map(l)}for(var h in t)a(t[h]);return n&&(i.transform=n,i.arcs=function(t){for(var e=-1,r=t.length;++e<r;){for(var n,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)n=(l=o[s])[0],i=l[1],n===c&&i===h||(o[a++]=[n-c,i-h],c=n,h=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(i.arcs)),i}function Be(t){var e,r=t[0],n=t[1];return n<r&&(e=r,r=n,n=e),r+31*n}function Ue(t,e){var r,n=t[0],i=t[1],o=e[0],s=e[1];return i<n&&(r=n,n=i,i=r),s<o&&(r=o,o=s,s=r),n===o&&i===s}function qe(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==B(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=we(t));var r=[];J(t,function(t){r.push(t.geometry)});var n=Ge({geoms:m(r).geometry});return function(t){return Ce(t,function(t,e){var r={},n=[],i=[];function o(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),n.push(t)}function s(e){return function(t){for(var e,r=-1,n=t.length,i=t[n-1],o=0;++r<n;)e=i,i=t[r],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(Ce(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}}),n.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,i.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),n.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:i.map(function(e){var n,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&i.push(t)})})}),(n=(i=function(t,e){var r={},n={},i={},o=[],s=-1;function a(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){r[t<0?~t:t]=1}),o.push(i)}}return e.forEach(function(r,n){var i,o=t.arcs[r<0?~r:r];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=r,e[n]=i)}),e.forEach(function(e){var r,o,s=function(e){var r,n=t.arcs[e<0?~e:e],i=n[0];return t.transform?(r=[0,0],n.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=n[n.length-1],e<0?[r,i]:[i,r]}(e),a=s[0],u=s[1];if(r=i[a])if(delete i[r.end],r.push(e),r.end=u,o=n[u]){delete n[o.start];var l=o===r?r:r.concat(o);n[l.start=r.start]=i[l.end=o.end]=l}else n[r.start]=i[r.end]=r;else if(r=n[u])if(delete n[r.start],r.unshift(e),r.start=a,o=i[a]){delete i[o.end];var c=o===r?r:o.concat(r);n[c.start=o.start]=i[c.end=r.end]=c}else n[r.start]=i[r.end]=r;else n[(r=[e]).start=a]=i[r.end=u]=r}),a(i,n),a(n,i),e.forEach(function(t){r[t<0?~t:t]||o.push([t])}),o}(t,i)).length)>1)for(var o,a,u=1,l=s(i[0]);u<n;++u)(o=s(i[u]))>l&&(a=i[0],i[0]=i[u],i[u]=a,l=o);return i})}}.apply(this,arguments))}(n,n.objects.geoms.geometries)}function ze(t,e){if(void 0===e&&(e={}),!M(e=e||{}))throw new Error("options is invalid");var r=e.mutate;if("FeatureCollection"!==B(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(t=we(t));var n=function(t){var e={};J(t,function(t){e[t.geometry.type]=!0});var r=Object.keys(e);return 1===r.length?r[0]:null}(t);if(!n)throw new Error("geojson must be homogenous");var i=t;switch(n){case"LineString":return function(t,e){if(void 0===e&&(e={}),!M(e=e||{}))throw new Error("options is invalid");var r=e.mutate;if("FeatureCollection"!==B(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==r&&void 0!==r||(t=we(t));var n=[],i=rt(t,function(t,e){var r=function(t,e){var r,n=t.geometry.coordinates,i=e.geometry.coordinates,o=Ee(n[0]),s=Ee(n[n.length-1]),a=Ee(i[0]),u=Ee(i[i.length-1]);if(o===u)r=i.concat(n.slice(1));else if(a===s)r=n.concat(i.slice(1));else if(o===a)r=n.slice(1).reverse().concat(i);else{if(s!==u)return null;r=n.concat(i.reverse().slice(1))}return f(r)}(t,e);return r||(n.push(t),e)});return i&&n.push(i),n.length?1===n.length?n[0]:y(n.map(function(t){return t.coordinates})):null}(i,e);case"Polygon":return qe(i,e);default:throw new Error(n+" is not supported")}}function Ve(t,e){void 0===e&&(e={});var r="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var n=B(t),i=[];switch(n){case"LineString":i=Ze(t);break;case"MultiLineString":case"Polygon":j(t).forEach(function(t){i.push(Ze(t))});break;case"MultiPolygon":j(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Ze(t))}),i.push(e)});break;case"Point":return t;case"MultiPoint":var o={};j(t).forEach(function(t){var e=t.join("-");o.hasOwnProperty(e)||(i.push(t),o[e]=!0)});break;default:throw new Error(n+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=i,t):{type:n,coordinates:i}:!0===r?(t.geometry.coordinates=i,t):s({type:n,coordinates:i},t.properties,{bbox:t.bbox,id:t.id})}function Ze(t){var e=j(t);if(2===e.length&&!We(e[0],e[1]))return e;var r=[],n=e.length-1,i=r.length;r.push(e[0]);for(var o=1;o<n;o++){var s=r[r.length-1];e[o][0]===s[0]&&e[o][1]===s[1]||(r.push(e[o]),(i=r.length)>2&&Xe(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1))}if(r.push(e[e.length-1]),i=r.length,We(e[0],e[e.length-1])&&i<4)throw new Error("invalid polygon");return Xe(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1),r}function We(t,e){return t[0]===e[0]&&t[1]===e[1]}function Xe(t,e,r){var n=r[0],i=r[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return 0==(n-o)*c-(i-s)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=n&&n<=a:a<=n&&n<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)}function Ye(t,e,r){var n=e.x,i=e.y,o=r.x-n,s=r.y-i;if(0!==o||0!==s){var a=((t.x-n)*o+(t.y-i)*s)/(o*o+s*s);a>1?(n=r.x,i=r.y):a>0&&(n+=o*a,i+=s*a)}return(o=t.x-n)*o+(s=t.y-i)*s}function Qe(t,e){var r=t.length-1,n=[t[0]];return function t(e,r,n,i,o){for(var s,a=i,u=r+1;u<n;u++){var l=Ye(e[u],e[r],e[n]);l>a&&(s=u,a=l)}a>i&&(s-r>1&&t(e,r,s,i,o),o.push(e[s]),n-s>1&&t(e,s,n,i,o))}(t,0,r,e,n),n.push(t[r]),n}function He(t,e,r){if(t.length<=2)return t;var n=void 0!==e?e*e:1;return t=Qe(t=r?t:function(t,e){for(var r,n,i,o,s,a=t[0],u=[a],l=1,c=t.length;l<c;l++)r=t[l],i=a,o=void 0,s=void 0,o=(n=r).x-i.x,s=n.y-i.y,o*o+s*s>e&&(u.push(r),a=r);return a!==r&&u.push(r),u}(t,n),n)}function Je(t,e,r){return He(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,r).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function Ke(t,e,r){return t.map(function(t){var n=t.map(function(t){return{x:t[0],y:t[1]}});if(n.length<4)throw new Error("invalid polygon");for(var i=He(n,e,r).map(function(t){return[t.x,t.y]});!$e(i);)i=He(n,e-=.01*e,r).map(function(t){return[t.x,t.y]});return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i})}function $e(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var tr=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var r=this.points[e],n=this.points[e+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],r=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var i=this.pos(n);Math.sqrt((i.x-r.x)*(i.x-r.x)+(i.y-r.y)*(i.y-r.y)+(i.z-r.z)*(i.z-r.z))>t&&(e.push(n),r=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var r=e/this.duration;if(r>=1)return this.points[this.length-1];var n=Math.floor((this.points.length-1)*r);return function(t,e,r,n,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+n.x*o[1]+r.x*o[2]+e.x*o[3],y:i.y*o[0]+n.y*o[1]+r.y*o[2]+e.y*o[3],z:i.z*o[0]+n.z*o[1]+r.z*o[2]+e.z*o[3]}}((this.length-1)*r-n,this.points[n],this.controls[n][1],this.controls[n+1][0],this.points[n+1])},t}();function er(t,e){void 0===e&&(e={});for(var r=e.resolution||1e4,n=e.sharpness||.85,i=[],o=G(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),s=new tr({duration:r,points:o,sharpness:n}),a=0;a<s.duration;a+=10){var u=s.pos(a);Math.floor(a/100)%2==0&&i.push([u.x,u.y])}return f(i,e.properties)}function rr(t,e){void 0===e&&(e={});var r=Number(t[0]),n=Number(t[1]),i=Number(t[2]),o=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[r,n];return c([[s,[i,n],[i,o],[r,o],s]],e.properties,{bbox:t,id:e.id})}function nr(t){return rr(st(t))}function ir(t){var e=t[0],r=t[1],n=t[2],i=t[3];if(ve(t.slice(0,2),[n,r])>=ve(t.slice(0,2),[e,i])){var o=(r+i)/2;return[e,o-(n-e)/2,n,o+(n-e)/2]}var s=(e+n)/2;return[s-(i-r)/2,r,s+(i-r)/2,i]}function or(t,e,r,n){void 0===n&&(n={});var i=L(t),o=E(i[0]),s=E(i[1]),a=E(r),l=x(e,n.units),c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(a));return u([P(o+Math.atan2(Math.sin(a)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c))),P(c)],n.properties)}function sr(t,e,r){void 0===r&&(r={});for(var n=r.steps||64,i=r.properties?r.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},o=[],s=0;s<n;s++)o.push(or(t,e,-360*s/n,r).geometry.coordinates);return o.push(o[0]),c([o],i)}function ar(t,e,r){if(void 0===r&&(r={}),!0===r.final)return function(t,e){var r=ar(e,t);return r=(r+180)%360}(t,e);var n=L(t),i=L(e),o=E(n[0]),s=E(i[0]),a=E(n[1]),u=E(i[1]),l=Math.sin(s-o)*Math.cos(u),c=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return P(Math.atan2(l,c))}function ur(t,e){void 0===e&&(e={});var r=st(t);return u([(r[0]+r[2])/2,(r[1]+r[3])/2],e.properties,e)}function lr(t,e){void 0===e&&(e={});var r=0,n=0,i=0;return q(t,function(t){r+=t[0],n+=t[1],i++},!0),u([r/i,n/i],e.properties)}function cr(t){var e=[];return"FeatureCollection"===t.type?W(t,function(t){q(t,function(r){e.push(u(r,t.properties))})}):q(t,function(r){e.push(u(r,t.properties))}),d(e)}var hr=pr,fr=pr;function pr(t,e,r){r=r||2;var n,i,o,s,a,u,l,c=e&&e.length,h=c?e[0]*r:t.length,f=dr(t,0,h,r,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,r,n){var i,o,s,a=[];for(i=0,o=e.length;i<o;i++)(s=dr(t,e[i]*n,i<o-1?e[i+1]*n:t.length,n,!1))===s.next&&(s.steiner=!0),a.push(Pr(s));for(a.sort(xr),i=0;i<a.length;i++)wr(a[i],r),r=yr(r,r.next);return r}(t,e,f,r)),t.length>80*r){n=o=t[0],i=s=t[1];for(var d=r;d<h;d+=r)(a=t[d])<n&&(n=a),(u=t[d+1])<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-n,s-i))?1/l:0}return gr(f,p,r,n,i,l),p}function dr(t,e,r,n,i){var o,s;if(i===Rr(t,e,r,n)>0)for(o=e;o<r;o+=n)s=Ar(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=Ar(o,t[o],t[o+1],s);return s&&Ir(s,s.next)&&(Lr(s),s=s.next),s}function yr(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Ir(n,n.next)&&0!==Cr(n.prev,n,n.next))n=n.next;else{if(Lr(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function gr(t,e,r,n,i,o,s){if(t){!s&&o&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=Sr(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,s,a,u,l=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(u=l;a>0||u>0&&n;)0!==a&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(s>1)}(i)}(t,n,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?mr(t,n,i,o):vr(t))e.push(a.i/r),e.push(t.i/r),e.push(u.i/r),Lr(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?gr(t=_r(t,e,r),e,r,n,i,o,2):2===s&&br(t,e,r,n,i,o):gr(yr(t),e,r,n,i,o,1);break}}}function vr(t){var e=t.prev,r=t,n=t.next;if(Cr(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Er(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Cr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function mr(t,e,r,n){var i=t.prev,o=t,s=t.next;if(Cr(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=Sr(a,u,e,r,n),f=Sr(l,c,e,r,n),p=t.prevZ,d=t.nextZ;p&&p.z>=h&&d&&d.z<=f;){if(p!==t.prev&&p!==t.next&&Er(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Cr(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,d!==t.prev&&d!==t.next&&Er(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Cr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&Er(i.x,i.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Cr(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&Er(i.x,i.y,o.x,o.y,s.x,s.y,d.x,d.y)&&Cr(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function _r(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Ir(i,o)&&Mr(i,n,n.next,o)&&Nr(i,o)&&Nr(o,i)&&(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),Lr(n),Lr(n.next),n=t=o),n=n.next}while(n!==t);return n}function br(t,e,r,n,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Or(s,a)){var u=Tr(s,a);return s=yr(s,s.next),u=yr(u,u.next),gr(s,e,r,n,i,o),void gr(u,e,r,n,i,o)}a=a.next}s=s.next}while(s!==t)}function xr(t,e){return t.x-e.x}function wr(t,e){if(e=function(t,e){var r,n=e,i=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s){if(s=a,a===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===s)return r.prev;var u,l=r,c=r.x,h=r.y,f=1/0;for(n=r.next;n!==l;)i>=n.x&&n.x>=c&&i!==n.x&&Er(o<h?i:s,o,c,h,o<h?s:i,o,n.x,n.y)&&((u=Math.abs(o-n.y)/(i-n.x))<f||u===f&&n.x>r.x)&&Nr(n,t)&&(r=n,f=u),n=n.next;return r}(t,e)){var r=Tr(e,t);yr(r,r.next)}}function Sr(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Pr(t){var e=t,r=t;do{e.x<r.x&&(r=e),e=e.next}while(e!==t);return r}function Er(t,e,r,n,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(i-s)*(n-a)>=0}function Or(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Mr(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&Nr(t,e)&&Nr(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)}function Cr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Ir(t,e){return t.x===e.x&&t.y===e.y}function Mr(t,e,r,n){return!!(Ir(t,e)&&Ir(r,n)||Ir(t,n)&&Ir(r,e))||Cr(t,e,r)>0!=Cr(t,e,n)>0&&Cr(r,n,t)>0!=Cr(r,n,e)>0}function Nr(t,e){return Cr(t.prev,t,t.next)<0?Cr(t,e,t.next)>=0&&Cr(t,t.prev,e)>=0:Cr(t,e,t.prev)<0||Cr(t,t.next,e)<0}function Tr(t,e){var r=new jr(t.i,t.x,t.y),n=new jr(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Ar(t,e,r,n){var i=new jr(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Lr(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jr(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Rr(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function Fr(t){var e=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}(t),r=hr(e.vertices,e.holes,2),n=[],i=[];r.forEach(function(t,n){var o=r[n];i.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var o=0;o<i.length;o+=3){var s=i.slice(o,o+3);s.push(i[o]),n.push(c([s]))}return n}function Dr(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var r,n=1/0,i=0;return W(e,function(e,r){var o=ve(t,e);o<n&&(i=r,n=o)}),(r=we(e.features[i])).properties.featureIndex=i,r.properties.distanceToPoint=n,r}function kr(t){if(!t)throw new Error("geojson is required");var e=[];return J(t,function(t){!function(t,e){var r=[],n=t.geometry;if(null!==n){switch(n.type){case"Polygon":r=j(n);break;case"LineString":r=[j(n)]}r.forEach(function(r){(function(t,e){var r=[];return t.reduce(function(t,n){var i=f([t,n],e);return i.bbox=function(t,e){var r=t[0],n=t[1],i=e[0],o=e[1];return[r<i?r:i,n<o?n:o,r>i?r:i,n>o?n:o]}(t,n),r.push(i),n}),r})(r,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}}(t,e)}),d(e)}pr.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(Rr(t,0,o,r));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*r,c=a<u-1?e[a+1]*r:t.length;s-=Math.abs(Rr(t,l,c,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,p=n[a+1]*r,d=n[a+2]*r;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},pr.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r},hr.default=fr;var Gr=kt(function(t,e){function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function i(t,e,n){void 0===n&&(n={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function o(t,e,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function s(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function a(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function c(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t*n}function h(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw new Error(r+" units is invalid");return t/n}function f(t){return t%(2*Math.PI)*180/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(t){case"Point":return n(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),s(t.map(function(t){return n(t,e)}),r)},e.polygon=i,e.polygons=function(t,e,r){return void 0===r&&(r={}),s(t.map(function(t){return i(t,e)}),r)},e.lineString=o,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),s(t.map(function(t){return o(t,e)}),r)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=c,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(h(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[r];if(!i)throw new Error("invalid original units");var o=e.areaFactors[n];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!p(t))throw new Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}});function Br(t,e,r){if(null!==t)for(var n,i,o,s,a,u,l,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,y="Feature"===p,g=d?t.features.length:1,v=0;v<g;v++){a=(c=!!(l=d?t.features[v].geometry:y?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<a;m++){var _=0,b=0;if(null!==(s=c?l.geometries[m]:l)){u=s.coordinates;var x=s.type;switch(h=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(u,f,v,_,b))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],f,v,_,b))return!1;f++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-h;i++){if(!1===e(u[n][i],f,v,_,b))return!1;f++}"MultiLineString"===x&&_++,"Polygon"===x&&b++}"Polygon"===x&&_++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(b=0,i=0;i<u[n].length;i++){for(o=0;o<u[n][i].length-h;o++){if(!1===e(u[n][i][o],f,v,_,b))return!1;f++}b++}_++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===Br(s.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Ur(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function qr(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function zr(t,e){var r,n,i,o,s,a,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,y=p?t.features.length:1;for(r=0;r<y;r++){for(a=p?t.features[r].geometry:d?t.geometry:t,l=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,h=p?t.features[r].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,c,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function Vr(t,e){zr(t,function(t,r,n,i,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(Gr.feature(t,n,{bbox:i,id:o}),r,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<t.coordinates.length;u++){var l={type:s,coordinates:t.coordinates[u]};if(!1===e(Gr.feature(l,n),r,u))return!1}})}function Zr(t,e){Vr(t,function(t,r,n){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,u=0,l=0;return!1!==Br(t,function(o,c,h,f,p){if(void 0===s||r>a||f>u||p>l)return s=o,a=r,u=f,l=p,void(i=0);var d=Gr.lineString([s,o],t.properties);if(!1===e(d,r,n,p,i))return!1;i++,s=o})&&void 0}}})}function Wr(t,e){if(!t)throw new Error("geojson is required");Vr(t,function(t,r,n){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,n,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(Gr.lineString(o[s],t.properties),r,n,s))return!1}}})}var Xr=Br,Yr=Ur,Qr=qr,Hr=zr,Jr=Vr,Kr=Zr,$r=Wr,tn=Object.defineProperty({coordEach:Xr,coordReduce:function(t,e,r,n){var i=r;return Br(t,function(t,n,o,s,a){i=0===n&&void 0===r?t:e(i,t,n,o,s,a)},n),i},propEach:Yr,propReduce:function(t,e,r){var n=r;return Ur(t,function(t,i){n=0===i&&void 0===r?t:e(n,t,i)}),n},featureEach:Qr,featureReduce:function(t,e,r){var n=r;return qr(t,function(t,i){n=0===i&&void 0===r?t:e(n,t,i)}),n},coordAll:function(t){var e=[];return Br(t,function(t){e.push(t)}),e},geomEach:Hr,geomReduce:function(t,e,r){var n=r;return zr(t,function(t,i,o,s,a){n=0===i&&void 0===r?t:e(n,t,i,o,s,a)}),n},flattenEach:Jr,flattenReduce:function(t,e,r){var n=r;return Vr(t,function(t,i,o){n=0===i&&0===o&&void 0===r?t:e(n,t,i,o)}),n},segmentEach:Kr,segmentReduce:function(t,e,r){var n=r,i=!1;return Zr(t,function(t,o,s,a,u){n=!1===i&&void 0===r?t:e(n,t,o,s,a,u),i=!0}),n},lineEach:$r,lineReduce:function(t,e,r){var n=r;return Wr(t,function(t,i,o,s){n=0===i&&void 0===r?t:e(n,t,i,o,s)}),n},findSegment:function(t,e){if(e=e||{},!Gr.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),Gr.lineString([u[s],u[s+1]],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),Gr.lineString([u[o][s],u[o][s+1]],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),Gr.lineString([u[i][s],u[i][s+1]],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s-1),Gr.lineString([u[i][o][s],u[i][o][s+1]],a,e)}throw new Error("geojson is invalid")},findPoint:function(t,e){if(e=e||{},!Gr.isObject(e))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,a=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),a=a||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":a=a||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return Gr.point(u,a,e);case"MultiPoint":return i<0&&(i=u.length+i),Gr.point(u[i],a,e);case"LineString":return s<0&&(s=u.length+s),Gr.point(u[s],a,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),Gr.point(u[o][s],a,e);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),Gr.point(u[i][s],a,e);case"MultiPolygon":return i<0&&(i=u.length+i),o<0&&(o=u[i].length+o),s<0&&(s=u[i][o].length-s),Gr.point(u[i][o][s],a,e)}throw new Error("geojson is invalid")}},"__esModule",{value:!0});function en(t){var e=[1/0,1/0,-1/0,-1/0];return tn.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}en.default=en;var rn=en,nn=Object.defineProperty({default:rn},"__esModule",{value:!0}).default,on=tn.featureEach,sn=(tn.coordEach,Gr.polygon,Gr.featureCollection);function an(t){var e=St(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:nn(t),St.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:nn(t),e.push(t)}):on(t,function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:nn(t),e.push(t)}),St.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:nn(t),St.prototype.remove.call(this,t,e)},e.clear=function(){return St.prototype.clear.call(this)},e.search=function(t){var e=St.prototype.search.call(this,this.toBBox(t));return sn(e)},e.collides=function(t){return St.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=St.prototype.all.call(this);return sn(t)},e.toJSON=function(){return St.prototype.toJSON.call(this)},e.fromJSON=function(t){return St.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=nn(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=nn(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}var un=an,ln=an;function cn(t,e){var r={},n=[];if("LineString"===t.type&&(t=s(t)),"LineString"===e.type&&(e=s(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var i=hn(t,e);return i&&n.push(i),d(n)}var o=un();return o.load(kr(e)),W(kr(t),function(t){W(o.search(t),function(e){var i=hn(t,e);if(i){var o=j(i).join(",");r[o]||(r[o]=!0,n.push(i))}})}),d(n)}function hn(t,e){var r=j(t),n=j(e);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],s=r[1][0],a=r[1][1],l=n[0][0],c=n[0][1],h=n[1][0],f=n[1][1],p=(f-c)*(s-i)-(h-l)*(a-o),d=(h-l)*(o-c)-(f-c)*(i-l),y=(s-i)*(o-c)-(a-o)*(i-l);if(0===p)return null;var g=d/p,v=y/p;return g>=0&&g<=1&&v>=0&&v<=1?u([i+g*(s-i),o+g*(a-o)]):null}function fn(t,e,r){void 0===r&&(r={});var n=u([1/0,1/0],{dist:1/0}),i=0;return J(t,function(t){for(var o=j(t),s=0;s<o.length-1;s++){var a=u(o[s]);a.properties.dist=ve(e,a,r);var l=u(o[s+1]);l.properties.dist=ve(e,l,r);var c=ve(a,l,r),h=Math.max(a.properties.dist,l.properties.dist),p=ar(a,l),d=or(e,h,p+90,r),y=or(e,h,p-90,r),g=cn(f([d.geometry.coordinates,y.geometry.coordinates]),f([a.geometry.coordinates,l.geometry.coordinates])),v=null;g.features.length>0&&((v=g.features[0]).properties.dist=ve(e,v,r),v.properties.location=i+ve(a,v,r)),a.properties.dist<n.properties.dist&&((n=a).properties.index=s,n.properties.location=i),l.properties.dist<n.properties.dist&&((n=l).properties.index=s+1,n.properties.location=i+c),v&&v.properties.dist<n.properties.dist&&((n=v).properties.index=s),i+=c}}),n}function pn(t,e,n){void 0===n&&(n={});var i=L(t),o=L(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,O(function(t,e,n){var i=n=void 0===n?r:Number(n),o=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-o,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(l)>1e-11?a/l:Math.cos(o);return Math.sqrt(a*a+c*c*u*u)*i}(i,o),"meters",n.units)}function dn(t,e,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=u(t):"Point"===t.type?t=s(t):D(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=f(e):"LineString"===e.type?e=s(e):D(e,"LineString","line");var n=1/0,i=t.geometry.coordinates;return $(e,function(t){var e=t.geometry.coordinates[0],o=t.geometry.coordinates[1],s=function(t,e,r,n){var i=[r[0]-e[0],r[1]-e[1]],o=yn([t[0]-e[0],t[1]-e[1]],i);if(o<=0)return gn(t,e,{method:n.method,units:"degrees"});var s=yn(i,i);if(s<=o)return gn(t,r,{method:n.method,units:"degrees"});var a=o/s,u=[e[0]+a*i[0],e[1]+a*i[1]];return gn(t,u,{method:n.method,units:"degrees"})}(i,e,o,r);s<n&&(n=s)}),O(n,"degrees",r.units)}function yn(t,e){return t[0]*e[0]+t[1]*e[1]}function gn(t,e,r){return"planar"===r.method?pn(t,e,r):ve(t,e,r)}function vn(t,e,r,n,i,o,s,a){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(r-t)-(s-i)*(n-e))?null!==f.x&&null!==f.y&&f:(h=(r-t)*(l=e-o)-(n-e)*(c=t-i),l=((s-i)*l-(a-o)*c)/u,c=h/u,f.x=t+l*(r-t),f.y=e+l*(n-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}function mn(t){for(var e=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?d([s(t)]):d([t]):t}(t),r=ur(e),n=!1,i=0;!n&&i<e.features.length;){var o,a=e.features[i].geometry,l=!1;if("Point"===a.type)r.geometry.coordinates[0]===a.coordinates[0]&&r.geometry.coordinates[1]===a.coordinates[1]&&(n=!0);else if("MultiPoint"===a.type){var c=!1;for(o=0;!c&&o<a.coordinates.length;)r.geometry.coordinates[0]===a.coordinates[o][0]&&r.geometry.coordinates[1]===a.coordinates[o][1]&&(n=!0,c=!0),o++}else if("LineString"===a.type)for(o=0;!l&&o<a.coordinates.length-1;)_n(r.geometry.coordinates[0],r.geometry.coordinates[1],a.coordinates[o][0],a.coordinates[o][1],a.coordinates[o+1][0],a.coordinates[o+1][1])&&(l=!0,n=!0),o++;else if("MultiLineString"===a.type)for(var h=0;h<a.coordinates.length;){l=!1,o=0;for(var f=a.coordinates[h];!l&&o<f.length-1;)_n(r.geometry.coordinates[0],r.geometry.coordinates[1],f[o][0],f[o][1],f[o+1][0],f[o+1][1])&&(l=!0,n=!0),o++;h++}else"Polygon"!==a.type&&"MultiPolygon"!==a.type||de(r,a)&&(n=!0);i++}if(n)return r;var p=d([]);for(i=0;i<e.features.length;i++)p.features=p.features.concat(cr(e.features[i]).features);return u(Dr(r,p).geometry.coordinates)}function _n(t,e,r,n,i,o){return Math.sqrt((i-r)*(i-r)+(o-n)*(o-n))===Math.sqrt((t-r)*(t-r)+(e-n)*(e-n))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}un.default=ln;var bn=6378137;function xn(t){return H(t,function(t,e){return t+function(t){var e,r=0;switch(t.type){case"Polygon":return wn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)r+=wn(t.coordinates[e]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)},0)}function wn(t){var e=0;if(t&&t.length>0){e+=Math.abs(Sn(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(Sn(t[r]))}return e}function Sn(t){var e,r,n,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(n=u-2,i=u-1,o=0):s===u-1?(n=u-1,i=0,o=1):(n=s,i=s+1,o=s+2),e=t[n],r=t[i],a+=(Pn(t[o][0])-Pn(e[0]))*Math.sin(Pn(r[1]));a=a*bn*bn/2}return a}function Pn(t){return t*Math.PI/180}function En(t,e){return void 0===e&&(e={}),tt(t,function(t,r){var n=r.geometry.coordinates;return t+ve(n[0],n[1],e)},0)}function On(t,e,r,n){if(!M(n=n||{}))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,a,u,l=i.length,c=0,h=0;h<i.length&&!(e>=c&&h===i.length-1);h++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(i[h]),f(o);a=ar(i[h],i[h-1])-180,u=or(i[h],s,a,n),o.push(u.geometry.coordinates)}if(c>=r)return(s=r-c)?(a=ar(i[h],i[h-1])-180,u=or(i[h],s,a,n),o.push(u.geometry.coordinates),f(o)):(o.push(i[h]),f(o));if(c>=e&&o.push(i[h]),h===i.length-1)return f(o);c+=ve(i[h],i[h+1],n)}if(c<e&&i.length===l)throw new Error("Start position is beyond line");return f(i[i.length-1])}function Cn(t,e,r){void 0===r&&(r={});for(var n=L(t),i=j(e),o=0;o<i.length-1;o++){var s=!1;if(r.ignoreEndVertices&&(0===o&&(s="start"),o===i.length-2&&(s="end"),0===o&&o+1===i.length-1&&(s="both")),In(i[o],i[o+1],n,s))return!0}return!1}function In(t,e,r,n){var i=r[0],o=r[1],s=t[0],a=t[1],u=e[0],l=e[1],c=u-s,h=l-a;return 0==(r[0]-s)*h-(r[1]-a)*c&&(n?"start"===n?Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<=u:u<=i&&i<s:h>0?a<o&&o<=l:l<=o&&o<a:"end"===n?Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<u:u<i&&i<=s:h>0?a<=o&&o<l:l<o&&o<=a:"both"===n&&(Math.abs(c)>=Math.abs(h)?c>0?s<i&&i<u:u<i&&i<s:h>0?a<o&&o<l:l<o&&o<a):Math.abs(c)>=Math.abs(h)?c>0?s<=i&&i<=u:u<=i&&i<=s:h>0?a<=o&&o<=l:l<=o&&o<=a)}function Mn(t,e){var r=G(t),n=G(e),i=r.type,o=n.type;switch(i){case"Point":switch(o){case"MultiPoint":return function(t,e){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(Tn(e.coordinates[r],t.coordinates)){n=!0;break}return n}(r,n);case"LineString":return Cn(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return de(r,n,{ignoreBoundary:!0});default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"MultiPoint":return function(t,e){for(var r=0;r<t.coordinates.length;r++){for(var n=!1,i=0;i<e.coordinates.length;i++)Tn(t.coordinates[r],e.coordinates[i])&&(n=!0);if(!n)return!1}return!0}(r,n);case"LineString":return function(t,e){for(var r=!1,n=0;n<t.coordinates.length;n++){if(!Cn(t.coordinates[n],e))return!1;r||(r=Cn(t.coordinates[n],e,{ignoreEndVertices:!0}))}return r}(r,n);case"Polygon":case"MultiPolygon":return function(t,e){for(var r=!0,n=0;n<t.coordinates.length;n++){var i=de(t.coordinates[1],e);if(!i){r=!1;break}i=de(t.coordinates[1],e,{ignoreBoundary:!0})}return r&&i}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"LineString":return function(t,e){for(var r=0;r<t.coordinates.length;r++)if(!Cn(t.coordinates[r],e))return!1;return!0}(r,n);case"Polygon":case"MultiPolygon":return function(t,e){var r=st(e),n=st(t);if(!Nn(r,n))return!1;for(var i=!1,o=0;o<t.coordinates.length-1;o++){if(!de(t.coordinates[o],e))return!1;i||(i=de(t.coordinates[o],e,{ignoreBoundary:!0})),i||(i=de(An(t.coordinates[o],t.coordinates[o+1]),e,{ignoreBoundary:!0}))}return i}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Polygon":case"MultiPolygon":return function(t,e){var r=st(t);if(!Nn(st(e),r))return!1;for(var n=0;n<t.coordinates[0].length;n++)if(!de(t.coordinates[0][n],e))return!1;return!0}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}}function Nn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Tn(t,e){return t[0]===e[0]&&t[1]===e[1]}function An(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Ln(t,e,r){void 0===r&&(r={}),r.mask&&!r.units&&(r.units="kilometers");for(var n=[],i=t[0],o=t[1],s=t[2],a=t[3],l=e/ve([i,o],[s,o],r)*(s-i),c=e/ve([i,o],[i,a],r)*(a-o),h=s-i,f=a-o,p=Math.floor(h/l),y=(f-Math.floor(f/c)*c)/2,g=i+(h-p*l)/2;g<=s;){for(var v=o+y;v<=a;){var m=u([g,v],r.properties);r.mask?Mn(m,r.mask)&&n.push(m):n.push(m),v+=c}g+=l}return d(n)}function jn(t,e){void 0===e&&(e={});var r=e.precision,n=e.coordinates,i=e.mutate;if(r=null==r||isNaN(r)?6:r,n=null==n||isNaN(n)?3:n,!t)throw new Error("<geojson> is required");if("number"!=typeof r)throw new Error("<precision> must be a number");if("number"!=typeof n)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,r);return q(t,function(t){!function(t,e,r){t.length>r&&t.splice(r,t.length);for(var n=0;n<t.length;n++)t[n]=Math.round(t[n]*e)/e}(t,o,n)}),t}function Rn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]instanceof Array&&e[r]instanceof Array){if(!Rn(t[r],e[r]))return!1}else if(t[r]!==e[r])return!1;return!0}var Fn=function(t,e,r,n,i){this.coord=t,this.param=e,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=i},Dn=function(t,e,r,n,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function kn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Gn(t){for(var e=0,r=0;r<t.length-1;r++)t[r][0]<t[e][0]&&(e=r);if(kn([t[Un(e-1,t.length-1)],t[e],t[Un(e+1,t.length-1)]],!0))var n=1;else n=-1;return n}function Bn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]instanceof Array&&e[r]instanceof Array){if(!Bn(t[r],e[r]))return!1}else if(t[r]!=e[r])return!1;return!0}function Un(t,e){return(t%e+e)%e}var qn=Math.PI/180,zn=180/Math.PI,Vn=function(t,e){this.lon=t,this.lat=e,this.x=qn*t,this.y=qn*e};Vn.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},Vn.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new Vn(e,t)};var Zn=function(){this.coords=[],this.length=0};Zn.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Wn=function(t){this.properties=t||{},this.geometries=[]};Wn.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Wn.prototype.wkt=function(){for(var t="",e="LINESTRING(",r=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),t+=e.substring(0,e.length-1)+")"}return t};var Xn=function(t,e,r){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new Vn(t.x,t.y),this.end=new Vn(e.x,e.y),this.properties=r||{};var n=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function Yn(t,e){var r=[],n=un();return J(e,function(e){if(r.forEach(function(t,e){t.id=e}),r.length){var i=n.search(e);if(i.features.length){var o=Hn(e,i);r=r.filter(function(t){return t.id!==o.id}),n.remove(o),W(Qn(o,e),function(t){r.push(t),n.insert(t)})}}else(r=Qn(t,e).features).forEach(function(t){t.bbox||(t.bbox=ir(st(t)))}),n.load(d(r))}),d(r)}function Qn(t,e){var r=[],n=j(t)[0],i=j(t)[t.geometry.coordinates.length-1];if(Jn(n,L(e))||Jn(i,L(e)))return d([t]);var o=un(),s=kr(t);o.load(s);var a=o.search(e);if(!a.features.length)return d([t]);var u=Hn(e,a),l=X(s,function(t,n,i){var o=j(n)[1],s=L(e);return i===u.id?(t.push(s),r.push(f(t)),Jn(s,o)?[s]:[s,o]):(t.push(o),t)},[n]);return l.length>1&&r.push(f(l)),d(r)}function Hn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var r,n=1/0;return W(e,function(e){var i=fn(e,t).properties.dist;i<n&&(r=e,n=i)}),r}function Jn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Kn(t,e,r,n,i){void 0===i&&(i={});var o=i.steps||64,s=$n(r),a=$n(n),u=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(s===a)return f(sr(t,e,i).geometry.coordinates[0],u);for(var l=s,c=s<a?a:a+360,h=l,p=[],d=0;h<c;)p.push(or(t,e,h,i).geometry.coordinates),h=l+360*++d/o;return h>c&&p.push(or(t,e,c,i).geometry.coordinates),f(p,u)}function $n(t){var e=t%360;return e<0&&(e+=360),e}function ti(t,e){void 0===e&&(e={});var r=G(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),r.type){case"Polygon":return ei(r,e);case"MultiPolygon":return function(t,e){void 0===e&&(e={});var r=G(t).coordinates,n=e.properties?e.properties:"Feature"===t.type?t.properties:{},i=[];return r.forEach(function(t){i.push(ri(t,n))}),d(i)}(r,e);default:throw new Error("invalid poly")}}function ei(t,e){return void 0===e&&(e={}),ri(G(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function ri(t,e){return t.length>1?y(t,e):f(t[0],e)}function ni(t,e){void 0===e&&(e={});var r=e.properties,n=e.autoComplete,i=e.orderCoords,o=e.mutate;switch(n=void 0===n||n,i=void 0===i||i,(o=void 0!==o&&o)||(t=we(t)),t.type){case"FeatureCollection":var s=[];return t.features.forEach(function(t){s.push(j(ii(t,{},n,i)))}),v(s,r);default:return ii(t,r,n,i)}}function ii(t,e,r,n){e=e||("Feature"===t.type?t.properties:{});var i=G(t),o=i.coordinates,s=i.type;if(!o.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return r&&(o=oi(o)),c([o],e);case"MultiLineString":var a=[],u=0;return o.forEach(function(t){if(r&&(t=oi(t)),n){var e=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.abs(e-n)*Math.abs(r-i)}(st(f(t)));e>u?(a.unshift(t),u=e):a.push(t)}else a.push(t)}),c(a,e);default:throw new Error("geometry type "+s+" is not supported")}}function oi(t){var e=t[0],r=e[0],n=e[1],i=t[t.length-1],o=i[0],s=i[1];return r===o&&n===s||t.push(e),t}function si(t,e){var r,n,i,o,s,a,u;for(n=1;n<=8;n*=2){for(r=[],o=!(ui(i=t[t.length-1],e)&n),s=0;s<t.length;s++)(u=!(ui(a=t[s],e)&n))!==o&&r.push(ai(i,a,n,e)),u&&r.push(a),i=a,o=u;if(!(t=r).length)break}return r}function ai(t,e,r,n){return 8&r?[t[0]+(e[0]-t[0])*(n[3]-t[1])/(e[1]-t[1]),n[3]]:4&r?[t[0]+(e[0]-t[0])*(n[1]-t[1])/(e[1]-t[1]),n[1]]:2&r?[n[2],t[1]+(e[1]-t[1])*(n[2]-t[0])/(e[0]-t[0])]:1&r?[n[0],t[1]+(e[1]-t[1])*(n[0]-t[0])/(e[0]-t[0])]:null}function ui(t,e){var r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function li(t,e){for(var r=[],n=0,i=t;n<i.length;n++){var o=si(i[n],e);o.length>0&&(o[0][0]===o[o.length-1][0]&&o[0][1]===o[o.length-1][1]||o.push(o[0]),o.length>=4&&r.push(o))}return r}Xn.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),r=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+r*Math.sin(this.end.y),s=zn*Math.atan2(o,Math.sqrt(Math.pow(n,2)+Math.pow(i,2)));return[zn*Math.atan2(i,n),s]},Xn.prototype.Arc=function(t,e){var r=[];if(!t||t<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),i=0;i<t;++i){var o=n*i,s=this.interpolate(o);r.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,h=-180+l,f=360-l,p=1;p<r.length;++p){var d=r[p-1][0],y=r[p][0],g=Math.abs(y-d);g>f&&(y>c&&d<h||d>c&&y<h)?a=!0:g>u&&(u=g)}var v=[];if(a&&u<l){var m=[];v.push(m);for(var _=0;_<r.length;++_){var b=parseFloat(r[_][0]);if(_>0&&Math.abs(b-r[_-1][0])>f){var x=parseFloat(r[_-1][0]),w=parseFloat(r[_-1][1]),S=parseFloat(r[_][0]),P=parseFloat(r[_][1]);if(x>-180&&x<h&&180===S&&_+1<r.length&&r[_-1][0]>-180&&r[_-1][0]<h){m.push([-180,r[_][1]]),_++,m.push([r[_][0],r[_][1]]);continue}if(x>c&&x<180&&-180===S&&_+1<r.length&&r[_-1][0]>c&&r[_-1][0]<180){m.push([180,r[_][1]]),_++,m.push([r[_][0],r[_][1]]);continue}if(x<h&&S>c){var E=x;x=S,S=E;var O=w;w=P,P=O}if(x>c&&S<h&&(S+=360),x<=180&&S>=180&&x<S){var C=(180-x)/(S-x),I=C*P+(1-C)*w;m.push([r[_-1][0]>c?180:-180,I]),(m=[]).push([r[_-1][0]>c?-180:180,I]),v.push(m)}else m=[],v.push(m);m.push([b,r[_][1]])}else m.push([r[_][0],r[_][1]])}}else{var M=[];v.push(M);for(var N=0;N<r.length;++N)M.push([r[N][0],r[N][1]])}for(var T=new Wn(this.properties),A=0;A<v.length;++A){var L=new Zn;T.geometries.push(L);for(var j=v[A],R=0;R<j.length;++R)L.move_to(j[R])}return T};var ci=kt(function(t,e){function r(t){var e=[];for(var r in t)e.push(r);return e}(t.exports="function"==typeof Object.keys?Object.keys:r).shim=r}),hi=kt(function(t,e){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=r?n:i).supported=n,e.unsupported=i}),fi=kt(function(t){var e=Array.prototype.slice,r=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(n(t)||n(o))return!1;if(t.prototype!==o.prototype)return!1;if(hi(t))return!!hi(o)&&(t=e.call(t),o=e.call(o),r(t,o,s));if(i(t)){if(!i(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=ci(t),c=ci(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(u=l[a],!r(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))};function n(t){return null==t}function i(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}});function pi(t,e,r){if(void 0===r&&(r={}),!M(r=r||{}))throw new Error("options is invalid");var n,i=r.tolerance||0,o=[],s=un(),a=kr(t);return s.load(a),$(e,function(t){var e=!1;W(s.search(t),function(r){if(!1===e){var o=j(t).sort(),s=j(r).sort();fi(o,s)||(0===i?Cn(o[0],r)&&Cn(o[1],r):fn(r,o[0]).properties.dist<=i&&fn(r,o[1]).properties.dist<=i)?(e=!0,n=n?di(n,t):t):(0===i?Cn(s[0],t)&&Cn(s[1],t):fn(t,s[0]).properties.dist<=i&&fn(t,s[1]).properties.dist<=i)&&(n=n?di(n,r):r)}}),!1===e&&n&&(o.push(n),n=void 0)}),n&&o.push(n),d(o)}function di(t,e){var r=j(e),n=j(t),i=n[0],o=n[n.length-1],s=t.geometry.coordinates;return fi(r[0],i)?s.unshift(r[1]):fi(r[0],o)?s.push(r[1]):fi(r[1],i)?s.unshift(r[0]):fi(r[1],o)&&s.push(r[0]),t}function yi(t){var e=t%360;return e<0&&(e+=360),e}function gi(t,e,r){var n;return void 0===r&&(r={}),(n=r.final?vi(L(e),L(t)):vi(L(t),L(e)))>180?-(360-n):n}function vi(t,e){var r=E(t[1]),n=E(e[1]),i=E(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(r/2+Math.PI/4));return(P(Math.atan2(i,o))+360)%360}function mi(t,e,n,i){void 0===i&&(i={});var o=e<0,s=O(Math.abs(e),i.units,"meters");o&&(s=-Math.abs(s));var a=L(t),l=function(t,e,n,i){i=void 0===i?r:Number(i);var o=e/i,s=t[0]*Math.PI/180,a=E(t[1]),u=E(n),l=o*Math.cos(u),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var h=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(h)>1e-11?l/h:Math.cos(a),p=o*Math.sin(u)/f;return[(180*(s+p)/Math.PI+540)%360-180,180*c/Math.PI]}(a,s,n);return l[0]+=l[0]-a[0]>180?-360:a[0]-l[0]>180?360:0,u(l,i.properties)}function _i(t,e,r,n,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),n=xi(a,u,e),r<=0&&n>0?xi(e,a,i)<0||(i=a):r>0&&n<=0&&(bi(e,a,o)||(o=a)),r=n}return[i,o]}function bi(t,e,r){return xi(t,e,r)>0}function xi(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1])}function wi(t){for(var e,r,n=j(t),i=0,o=1;o<n.length;)e=r||n[0],i+=((r=n[o])[0]-e[0])*(r[1]+e[1]),o++;return i>0}function Si(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return Q(t,function(t){Si(t,e)}),t;case"LineString":return Pi(j(t),e),t;case"Polygon":return Ei(j(t),e),t;case"MultiLineString":return j(t).forEach(function(t){Pi(t,e)}),t;case"MultiPolygon":return j(t).forEach(function(t){Ei(t,e)}),t;case"Point":case"MultiPoint":return t}}function Pi(t,e){wi(t)===e&&t.reverse()}function Ei(t,e){wi(t[0])!==e&&t[0].reverse();for(var r=1;r<t.length;r++)wi(t[r])===e&&t[r].reverse()}var Oi={successCallback:null,verbose:!1,polygons:!1},Ci={};function Ii(t,e,r,n){n=n||{};for(var i=Object.keys(Oi),o=0;o<i.length;o++){var s=i[o],a=n[s];a=null!=a?a:Oi[s],Ci[s]=a}Ci.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+r)+"]");var u,l=function(t,e,r){for(var n=t.length-1,i=t[0].length-1,o={rows:n,cols:i,cells:[]},s=e+Math.abs(r),a=0;a<n;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=f<e?0:f>s?8:4;var d=+(l|=p<e?0:p>s?2:1),y=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+f+p)/4;y=g>s?2:g<e?0:1,34===l?1===y?l=35:0===y&&(l=136):136===l?1===y?(l=35,y=4):0===y&&(l=34):17===l?1===y?(l=155,y=4):0===y&&(l=153):68===l?1===y?(l=103,y=4):0===y&&(l=102):153===l?1===y&&(l=155):102===l?1===y&&(l=103):152===l?y<2&&(l=156,y=1):137===l?y<2&&(l=139,y=1):98===l?y<2&&(l=99,y=1):38===l?y<2&&(l=39,y=1):18===l?y>0?(l=156,y=4):l=152:33===l?y>0?(l=139,y=4):l=137:72===l?y>0?(l=99,y=4):l=98:132===l&&(y>0?(l=39,y=4):l=38)}if(0!=l&&170!=l){var v,m,_,b,x,w,S,P;v=m=_=b=x=w=S=P=.5;var E=[];1===l?(_=1-_o(e,f,p),P=1-_o(e,c,p),E.push(fo[l])):169===l?(_=_o(s,p,f),P=_o(s,p,c),E.push(fo[l])):4===l?(w=1-_o(e,h,f),b=_o(e,p,f),E.push(co[l])):166===l?(w=_o(s,f,h),b=1-_o(s,f,p),E.push(co[l])):16===l?(x=_o(e,f,h),m=_o(e,c,h),E.push(lo[l])):154===l?(x=1-_o(s,h,f),m=1-_o(s,h,c),E.push(lo[l])):64===l?(S=_o(e,p,c),v=1-_o(e,h,c),E.push(yo[l])):106===l?(S=1-_o(s,c,p),v=_o(s,c,h),E.push(yo[l])):168===l?(b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),E.push(ho[l]),E.push(fo[l])):2===l?(b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),E.push(ho[l]),E.push(fo[l])):162===l?(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),E.push(ho[l]),E.push(fo[l])):8===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),E.push(lo[l]),E.push(co[l])):138===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(lo[l]),E.push(co[l])):32===l?(x=_o(s,f,h),w=_o(e,f,h),v=_o(e,c,h),m=_o(s,c,h),E.push(lo[l]),E.push(co[l])):42===l?(P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h),E.push(po[l]),E.push(yo[l])):128===l&&(P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(po[l]),E.push(yo[l])),5===l?(w=1-_o(e,h,f),P=1-_o(e,c,p),E.push(co[l])):165===l?(w=_o(s,f,h),P=_o(s,p,c),E.push(co[l])):20===l?(b=_o(e,p,f),m=_o(e,c,h),E.push(ho[l])):150===l?(b=1-_o(s,f,p),m=1-_o(s,h,c),E.push(ho[l])):80===l?(x=_o(e,f,h),S=_o(e,p,c),E.push(lo[l])):90===l?(x=1-_o(s,h,f),S=1-_o(s,c,p),E.push(lo[l])):65===l?(_=1-_o(e,f,p),v=1-_o(e,h,c),E.push(fo[l])):105===l?(_=_o(s,p,f),v=_o(s,c,h),E.push(fo[l])):160===l?(x=_o(s,f,h),w=_o(e,f,h),P=_o(e,p,c),S=_o(s,p,c),E.push(lo[l]),E.push(co[l])):10===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),P=1-_o(s,c,p),S=1-_o(e,c,p),E.push(lo[l]),E.push(co[l])):130===l?(b=1-_o(e,f,p),_=1-_o(s,f,p),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(ho[l]),E.push(fo[l])):40===l?(b=_o(s,p,f),_=_o(e,p,f),v=_o(e,c,h),m=_o(s,c,h),E.push(ho[l]),E.push(fo[l])):101===l?(w=_o(s,f,h),v=_o(s,c,h),E.push(co[l])):69===l?(w=1-_o(e,h,f),v=1-_o(e,h,c),E.push(co[l])):149===l?(P=_o(s,p,c),m=1-_o(s,h,c),E.push(po[l])):21===l?(P=1-_o(e,c,p),m=_o(e,c,h),E.push(po[l])):86===l?(b=1-_o(s,f,p),S=1-_o(s,c,p),E.push(ho[l])):84===l?(b=_o(e,p,f),S=_o(e,p,c),E.push(ho[l])):89===l?(x=1-_o(s,h,f),_=_o(s,p,f),E.push(fo[l])):81===l?(x=_o(e,f,h),_=1-_o(e,f,p),E.push(fo[l])):96===l?(x=_o(s,f,h),w=_o(e,f,h),S=_o(e,p,c),v=_o(s,c,h),E.push(lo[l]),E.push(co[l])):74===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),S=1-_o(s,c,p),v=1-_o(e,h,c),E.push(lo[l]),E.push(co[l])):24===l?(x=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),m=_o(e,c,h),E.push(lo[l]),E.push(fo[l])):146===l?(x=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),m=1-_o(s,h,c),E.push(lo[l]),E.push(fo[l])):6===l?(w=1-_o(e,h,f),b=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),E.push(co[l]),E.push(ho[l])):164===l?(w=_o(s,f,h),b=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),E.push(co[l]),E.push(ho[l])):129===l?(_=1-_o(e,f,p),P=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(fo[l]),E.push(po[l])):41===l?(_=_o(s,p,f),P=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h),E.push(fo[l]),E.push(po[l])):66===l?(b=1-_o(e,f,p),_=1-_o(s,f,p),S=1-_o(s,c,p),v=1-_o(e,h,c),E.push(ho[l]),E.push(fo[l])):104===l?(b=_o(s,p,f),_=_o(e,p,f),S=_o(e,p,c),v=_o(s,c,h),E.push(fo[l]),E.push(go[l])):144===l?(x=_o(e,f,h),P=_o(e,p,c),S=_o(s,p,c),m=1-_o(s,h,c),E.push(lo[l]),E.push(yo[l])):26===l?(x=1-_o(s,h,f),P=1-_o(s,c,p),S=1-_o(e,c,p),m=_o(e,c,h),E.push(lo[l]),E.push(yo[l])):36===l?(w=_o(s,f,h),b=_o(e,p,f),v=_o(e,c,h),m=_o(s,c,h),E.push(co[l]),E.push(ho[l])):134===l?(w=1-_o(e,h,f),b=1-_o(s,f,p),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(co[l]),E.push(ho[l])):9===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),_=_o(s,p,f),P=1-_o(e,c,p),E.push(lo[l]),E.push(co[l])):161===l?(x=_o(s,f,h),w=_o(e,f,h),_=1-_o(e,f,p),P=_o(s,p,c),E.push(lo[l]),E.push(co[l])):37===l?(w=_o(s,f,h),P=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h),E.push(co[l]),E.push(po[l])):133===l?(w=1-_o(e,h,f),P=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c),E.push(co[l]),E.push(po[l])):148===l?(b=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),m=1-_o(s,h,c),E.push(ho[l]),E.push(yo[l])):22===l?(b=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),m=_o(e,c,h),E.push(ho[l]),E.push(yo[l])):82===l?(x=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),S=1-_o(s,c,p),E.push(lo[l]),E.push(fo[l])):88===l?(x=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),S=_o(e,p,c),E.push(lo[l]),E.push(fo[l])):73===l?(x=1-_o(e,h,f),w=1-_o(s,h,f),_=_o(s,p,f),v=1-_o(e,h,c),E.push(lo[l]),E.push(co[l])):97===l?(x=_o(s,f,h),w=_o(e,f,h),_=1-_o(e,f,p),v=_o(s,c,h),E.push(lo[l]),E.push(co[l])):145===l?(x=_o(e,f,h),_=1-_o(e,f,p),P=_o(s,p,c),m=1-_o(s,h,c),E.push(lo[l]),E.push(po[l])):25===l?(x=1-_o(s,h,f),_=_o(s,p,f),P=1-_o(e,c,p),m=_o(e,c,h),E.push(lo[l]),E.push(po[l])):70===l?(w=1-_o(e,h,f),b=1-_o(s,f,p),S=1-_o(s,c,p),v=1-_o(e,h,c),E.push(co[l]),E.push(ho[l])):100===l?(w=_o(s,f,h),b=_o(e,p,f),S=_o(e,p,c),v=_o(s,c,h),E.push(co[l]),E.push(ho[l])):34===l?(0===y?(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)):(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)),E.push(lo[l]),E.push(co[l]),E.push(po[l]),E.push(yo[l])):35===l?(4===y?(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)):(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)),E.push(lo[l]),E.push(co[l]),E.push(fo[l]),E.push(yo[l])):136===l?(0===y?(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)):(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)),E.push(lo[l]),E.push(co[l]),E.push(po[l]),E.push(yo[l])):153===l?(0===y?(x=_o(e,f,h),_=1-_o(e,f,p),P=1-_o(e,c,p),m=_o(e,c,h)):(x=1-_o(s,h,f),_=_o(s,p,f),P=_o(s,p,c),m=1-_o(s,h,c)),E.push(lo[l]),E.push(fo[l])):102===l?(0===y?(w=1-_o(e,h,f),b=_o(e,p,f),S=_o(e,p,c),v=1-_o(e,h,c)):(w=_o(s,f,h),b=1-_o(s,f,p),S=1-_o(s,c,p),v=_o(s,c,h)),E.push(co[l]),E.push(yo[l])):155===l?(4===y?(x=_o(e,f,h),_=1-_o(e,f,p),P=1-_o(e,c,p),m=_o(e,c,h)):(x=1-_o(s,h,f),_=_o(s,p,f),P=_o(s,p,c),m=1-_o(s,h,c)),E.push(lo[l]),E.push(po[l])):103===l?(4===y?(w=1-_o(e,h,f),b=_o(e,p,f),S=_o(e,p,c),v=1-_o(e,h,c)):(w=_o(s,f,h),b=1-_o(s,f,p),S=1-_o(s,c,p),v=_o(s,c,h)),E.push(co[l]),E.push(ho[l])):152===l?(0===y?(x=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),m=_o(e,c,h)):(x=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),m=1-_o(s,h,c)),E.push(lo[l]),E.push(ho[l]),E.push(fo[l])):156===l?(4===y?(x=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),m=_o(e,c,h)):(x=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),m=1-_o(s,h,c)),E.push(lo[l]),E.push(fo[l]),E.push(yo[l])):137===l?(0===y?(x=_o(s,f,h),w=_o(e,f,h),_=1-_o(e,f,p),P=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)):(x=1-_o(e,h,f),w=1-_o(s,h,f),_=_o(s,p,f),P=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)),E.push(lo[l]),E.push(co[l]),E.push(fo[l])):139===l?(4===y?(x=_o(s,f,h),w=_o(e,f,h),_=1-_o(e,f,p),P=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)):(x=1-_o(e,h,f),w=1-_o(s,h,f),_=_o(s,p,f),P=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)),E.push(lo[l]),E.push(co[l]),E.push(po[l])):98===l?(0===y?(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),S=_o(e,p,c),v=1-_o(e,h,c)):(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),S=1-_o(s,c,p),v=_o(s,c,h)),E.push(lo[l]),E.push(co[l]),E.push(yo[l])):99===l?(4===y?(x=1-_o(e,h,f),w=1-_o(s,h,f),b=_o(s,p,f),_=_o(e,p,f),S=_o(e,p,c),v=1-_o(e,h,c)):(x=_o(s,f,h),w=_o(e,f,h),b=1-_o(e,f,p),_=1-_o(s,f,p),S=1-_o(s,c,p),v=_o(s,c,h)),E.push(lo[l]),E.push(co[l]),E.push(fo[l])):38===l?(0===y?(w=1-_o(e,h,f),b=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)):(w=_o(s,f,h),b=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)),E.push(co[l]),E.push(po[l]),E.push(yo[l])):39===l?(4===y?(w=1-_o(e,h,f),b=_o(e,p,f),P=_o(e,p,c),S=_o(s,p,c),v=1-_o(s,h,c),m=1-_o(e,h,c)):(w=_o(s,f,h),b=1-_o(s,f,p),P=1-_o(s,c,p),S=1-_o(e,c,p),v=_o(e,c,h),m=_o(s,c,h)),E.push(co[l]),E.push(ho[l]),E.push(yo[l])):85===l&&(x=1,w=0,b=1,_=0,P=0,S=1,v=0,m=1),(v<0||v>1||m<0||m>1||x<0||x>1||b<0||b>1||P<0||P>1||S<0||S>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+f+","+p+" "+y+" "+v+" "+m+" "+x+" "+w+" "+b+" "+_+" "+P+" "+S),o.cells[a][u]={cval:l,cval_real:d,flipped:y,topleft:v,topright:m,righttop:x,rightbottom:w,bottomright:b,bottomleft:_,leftbottom:P,lefttop:S,edges:E}}}}}return o}(t,e,r);return Ci.polygons?(Ci.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],r=0;return t.cells.forEach(function(t,n){t.forEach(function(t,i){if(void 0!==t){var o=mo[t.cval](t);"object"==typeof o&&bo(o)?"object"==typeof o[0]&&bo(o[0])?"object"==typeof o[0][0]&&bo(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=i,t[1]+=n}),e[r++]=t}):(o.forEach(function(t){t[0]+=i,t[1]+=n}),e[r++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(Ci.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],r=t.rows,n=t.cols,i=[],o=0;o<r;o++)for(var s=0;s<n;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=wo(t.cells[o][s]),u=null,l=s,c=o;null!==a&&i.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=So(t.cells[c][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,a=u,(c+=u.y)<0||c>=r||l<0||l>=n||void 0===t.cells[c][l]){var h=xo(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){i.push(t)}),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof Ci.successCallback&&Ci.successCallback(u),u}var Mi=64,Ni=16,Ti=[],Ai=[],Li=[],ji=[],Ri=[],Fi=[],Di=[],ki=[],Gi=[],Bi=[],Ui=[],qi=[],zi=[],Vi=[],Zi=[],Wi=[],Xi=[],Yi=[],Qi=[],Hi=[],Ji=[],Ki=[],$i=[],to=[];Di[85]=Bi[85]=-1,ki[85]=Ui[85]=0,Gi[85]=qi[85]=1,Qi[85]=Ki[85]=1,Hi[85]=$i[85]=0,Ji[85]=to[85]=1,Ti[85]=ji[85]=0,Ai[85]=Ri[85]=-1,Li[85]=Zi[85]=0,Wi[85]=zi[85]=0,Xi[85]=Vi[85]=1,Fi[85]=Yi[85]=1,Ki[1]=Ki[169]=0,$i[1]=$i[169]=-1,to[1]=to[169]=0,zi[1]=zi[169]=-1,Vi[1]=Vi[169]=0,Zi[1]=Zi[169]=0,Bi[4]=Bi[166]=0,Ui[4]=Ui[166]=-1,qi[4]=qi[166]=1,Wi[4]=Wi[166]=1,Xi[4]=Xi[166]=0,Yi[4]=Yi[166]=0,Di[16]=Di[154]=0,ki[16]=ki[154]=1,Gi[16]=Gi[154]=1,ji[16]=ji[154]=1,Ri[16]=Ri[154]=0,Fi[16]=Fi[154]=1,Qi[64]=Qi[106]=0,Hi[64]=Hi[106]=1,Ji[64]=Ji[106]=0,Ti[64]=Ti[106]=-1,Ai[64]=Ai[106]=0,Li[64]=Li[106]=1,Qi[2]=Qi[168]=0,Hi[2]=Hi[168]=-1,Ji[2]=Ji[168]=1,Ki[2]=Ki[168]=0,$i[2]=$i[168]=-1,to[2]=to[168]=0,zi[2]=zi[168]=-1,Vi[2]=Vi[168]=0,Zi[2]=Zi[168]=0,Wi[2]=Wi[168]=-1,Xi[2]=Xi[168]=0,Yi[2]=Yi[168]=1,Di[8]=Di[162]=0,ki[8]=ki[162]=-1,Gi[8]=Gi[162]=0,Bi[8]=Bi[162]=0,Ui[8]=Ui[162]=-1,qi[8]=qi[162]=1,zi[8]=zi[162]=1,Vi[8]=Vi[162]=0,Zi[8]=Zi[162]=1,Wi[8]=Wi[162]=1,Xi[8]=Xi[162]=0,Yi[8]=Yi[162]=0,Di[32]=Di[138]=0,ki[32]=ki[138]=1,Gi[32]=Gi[138]=1,Bi[32]=Bi[138]=0,Ui[32]=Ui[138]=1,qi[32]=qi[138]=0,Ti[32]=Ti[138]=1,Ai[32]=Ai[138]=0,Li[32]=Li[138]=0,ji[32]=ji[138]=1,Ri[32]=Ri[138]=0,Fi[32]=Fi[138]=1,Ki[128]=Ki[42]=0,$i[128]=$i[42]=1,to[128]=to[42]=1,Qi[128]=Qi[42]=0,Hi[128]=Hi[42]=1,Ji[128]=Ji[42]=0,Ti[128]=Ti[42]=-1,Ai[128]=Ai[42]=0,Li[128]=Li[42]=1,ji[128]=ji[42]=-1,Ri[128]=Ri[42]=0,Fi[128]=Fi[42]=0,Bi[5]=Bi[165]=-1,Ui[5]=Ui[165]=0,qi[5]=qi[165]=0,Ki[5]=Ki[165]=1,$i[5]=$i[165]=0,to[5]=to[165]=0,Wi[20]=Wi[150]=0,Xi[20]=Xi[150]=1,Yi[20]=Yi[150]=1,ji[20]=ji[150]=0,Ri[20]=Ri[150]=-1,Fi[20]=Fi[150]=1,Di[80]=Di[90]=-1,ki[80]=ki[90]=0,Gi[80]=Gi[90]=1,Qi[80]=Qi[90]=1,Hi[80]=Hi[90]=0,Ji[80]=Ji[90]=1,zi[65]=zi[105]=0,Vi[65]=Vi[105]=1,Zi[65]=Zi[105]=0,Ti[65]=Ti[105]=0,Ai[65]=Ai[105]=-1,Li[65]=Li[105]=0,Di[160]=Di[10]=-1,ki[160]=ki[10]=0,Gi[160]=Gi[10]=1,Bi[160]=Bi[10]=-1,Ui[160]=Ui[10]=0,qi[160]=qi[10]=0,Ki[160]=Ki[10]=1,$i[160]=$i[10]=0,to[160]=to[10]=0,Qi[160]=Qi[10]=1,Hi[160]=Hi[10]=0,Ji[160]=Ji[10]=1,Wi[130]=Wi[40]=0,Xi[130]=Xi[40]=1,Yi[130]=Yi[40]=1,zi[130]=zi[40]=0,Vi[130]=Vi[40]=1,Zi[130]=Zi[40]=0,Ti[130]=Ti[40]=0,Ai[130]=Ai[40]=-1,Li[130]=Li[40]=0,ji[130]=ji[40]=0,Ri[130]=Ri[40]=-1,Fi[130]=Fi[40]=1,Bi[37]=Bi[133]=0,Ui[37]=Ui[133]=1,qi[37]=qi[133]=1,Ki[37]=Ki[133]=0,$i[37]=$i[133]=1,to[37]=to[133]=0,Ti[37]=Ti[133]=-1,Ai[37]=Ai[133]=0,Li[37]=Li[133]=0,ji[37]=ji[133]=1,Ri[37]=Ri[133]=0,Fi[37]=Fi[133]=0,Wi[148]=Wi[22]=-1,Xi[148]=Xi[22]=0,Yi[148]=Yi[22]=0,Ki[148]=Ki[22]=0,$i[148]=$i[22]=-1,to[148]=to[22]=1,Qi[148]=Qi[22]=0,Hi[148]=Hi[22]=1,Ji[148]=Ji[22]=1,ji[148]=ji[22]=-1,Ri[148]=Ri[22]=0,Fi[148]=Fi[22]=1,Di[82]=Di[88]=0,ki[82]=ki[88]=-1,Gi[82]=Gi[88]=1,Wi[82]=Wi[88]=1,Xi[82]=Xi[88]=0,Yi[82]=Yi[88]=1,zi[82]=zi[88]=-1,Vi[82]=Vi[88]=0,Zi[82]=Zi[88]=1,Qi[82]=Qi[88]=0,Hi[82]=Hi[88]=-1,Ji[82]=Ji[88]=0,Di[73]=Di[97]=0,ki[73]=ki[97]=1,Gi[73]=Gi[97]=0,Bi[73]=Bi[97]=0,Ui[73]=Ui[97]=-1,qi[73]=qi[97]=0,zi[73]=zi[97]=1,Vi[73]=Vi[97]=0,Zi[73]=Zi[97]=0,Ti[73]=Ti[97]=1,Ai[73]=Ai[97]=0,Li[73]=Li[97]=1,Di[145]=Di[25]=0,ki[145]=ki[25]=-1,Gi[145]=Gi[25]=0,zi[145]=zi[25]=1,Vi[145]=Vi[25]=0,Zi[145]=Zi[25]=1,Ki[145]=Ki[25]=0,$i[145]=$i[25]=1,to[145]=to[25]=1,ji[145]=ji[25]=-1,Ri[145]=Ri[25]=0,Fi[145]=Fi[25]=0,Bi[70]=Bi[100]=0,Ui[70]=Ui[100]=1,qi[70]=qi[100]=0,Wi[70]=Wi[100]=-1,Xi[70]=Xi[100]=0,Yi[70]=Yi[100]=1,Qi[70]=Qi[100]=0,Hi[70]=Hi[100]=-1,Ji[70]=Ji[100]=1,Ti[70]=Ti[100]=1,Ai[70]=Ai[100]=0,Li[70]=Li[100]=0,Bi[101]=Bi[69]=0,Ui[101]=Ui[69]=1,qi[101]=qi[69]=0,Ti[101]=Ti[69]=1,Ai[101]=Ai[69]=0,Li[101]=Li[69]=0,Ki[149]=Ki[21]=0,$i[149]=$i[21]=1,to[149]=to[21]=1,ji[149]=ji[21]=-1,Ri[149]=Ri[21]=0,Fi[149]=Fi[21]=0,Wi[86]=Wi[84]=-1,Xi[86]=Xi[84]=0,Yi[86]=Yi[84]=1,Qi[86]=Qi[84]=0,Hi[86]=Hi[84]=-1,Ji[86]=Ji[84]=1,Di[89]=Di[81]=0,ki[89]=ki[81]=-1,Gi[89]=Gi[81]=0,zi[89]=zi[81]=1,Vi[89]=Vi[81]=0,Zi[89]=Zi[81]=1,Di[96]=Di[74]=0,ki[96]=ki[74]=1,Gi[96]=Gi[74]=0,Bi[96]=Bi[74]=-1,Ui[96]=Ui[74]=0,qi[96]=qi[74]=1,Qi[96]=Qi[74]=1,Hi[96]=Hi[74]=0,Ji[96]=Ji[74]=0,Ti[96]=Ti[74]=1,Ai[96]=Ai[74]=0,Li[96]=Li[74]=1,Di[24]=Di[146]=0,ki[24]=ki[146]=-1,Gi[24]=Gi[146]=1,Wi[24]=Wi[146]=1,Xi[24]=Xi[146]=0,Yi[24]=Yi[146]=1,zi[24]=zi[146]=0,Vi[24]=Vi[146]=1,Zi[24]=Zi[146]=1,ji[24]=ji[146]=0,Ri[24]=Ri[146]=-1,Fi[24]=Fi[146]=0,Bi[6]=Bi[164]=-1,Ui[6]=Ui[164]=0,qi[6]=qi[164]=1,Wi[6]=Wi[164]=-1,Xi[6]=Xi[164]=0,Yi[6]=Yi[164]=0,Ki[6]=Ki[164]=0,$i[6]=$i[164]=-1,to[6]=to[164]=1,Qi[6]=Qi[164]=1,Hi[6]=Hi[164]=0,Ji[6]=Ji[164]=0,zi[129]=zi[41]=0,Vi[129]=Vi[41]=1,Zi[129]=Zi[41]=1,Ki[129]=Ki[41]=0,$i[129]=$i[41]=1,to[129]=to[41]=0,Ti[129]=Ti[41]=-1,Ai[129]=Ai[41]=0,Li[129]=Li[41]=0,ji[129]=ji[41]=0,Ri[129]=Ri[41]=-1,Fi[129]=Fi[41]=0,Wi[66]=Wi[104]=0,Xi[66]=Xi[104]=1,Yi[66]=Yi[104]=0,zi[66]=zi[104]=-1,Vi[66]=Vi[104]=0,Zi[66]=Zi[104]=1,Qi[66]=Qi[104]=0,Hi[66]=Hi[104]=-1,Ji[66]=Ji[104]=0,Ti[66]=Ti[104]=0,Ai[66]=Ai[104]=-1,Li[66]=Li[104]=1,Di[144]=Di[26]=-1,ki[144]=ki[26]=0,Gi[144]=Gi[26]=0,Ki[144]=Ki[26]=1,$i[144]=$i[26]=0,to[144]=to[26]=1,Qi[144]=Qi[26]=0,Hi[144]=Hi[26]=1,Ji[144]=Ji[26]=1,ji[144]=ji[26]=-1,Ri[144]=Ri[26]=0,Fi[144]=Fi[26]=1,Bi[36]=Bi[134]=0,Ui[36]=Ui[134]=1,qi[36]=qi[134]=1,Wi[36]=Wi[134]=0,Xi[36]=Xi[134]=1,Yi[36]=Yi[134]=0,Ti[36]=Ti[134]=0,Ai[36]=Ai[134]=-1,Li[36]=Li[134]=1,ji[36]=ji[134]=1,Ri[36]=Ri[134]=0,Fi[36]=Fi[134]=0,Di[9]=Di[161]=-1,ki[9]=ki[161]=0,Gi[9]=Gi[161]=0,Bi[9]=Bi[161]=0,Ui[9]=Ui[161]=-1,qi[9]=qi[161]=0,zi[9]=zi[161]=1,Vi[9]=Vi[161]=0,Zi[9]=Zi[161]=0,Ki[9]=Ki[161]=1,$i[9]=$i[161]=0,to[9]=to[161]=1,Di[136]=0,ki[136]=1,Gi[136]=1,Bi[136]=0,Ui[136]=1,qi[136]=0,Wi[136]=-1,Xi[136]=0,Yi[136]=1,zi[136]=-1,Vi[136]=0,Zi[136]=0,Ki[136]=0,$i[136]=-1,to[136]=0,Qi[136]=0,Hi[136]=-1,Ji[136]=1,Ti[136]=1,Ai[136]=0,Li[136]=0,ji[136]=1,Ri[136]=0,Fi[136]=1,Di[34]=0,ki[34]=-1,Gi[34]=0,Bi[34]=0,Ui[34]=-1,qi[34]=1,Wi[34]=1,Xi[34]=0,Yi[34]=0,zi[34]=1,Vi[34]=0,Zi[34]=1,Ki[34]=0,$i[34]=1,to[34]=1,Qi[34]=0,Hi[34]=1,Ji[34]=0,Ti[34]=-1,Ai[34]=0,Li[34]=1,ji[34]=-1,Ri[34]=0,Fi[34]=0,Di[35]=0,ki[35]=1,Gi[35]=1,Bi[35]=0,Ui[35]=-1,qi[35]=1,Wi[35]=1,Xi[35]=0,Yi[35]=0,zi[35]=-1,Vi[35]=0,Zi[35]=0,Ki[35]=0,$i[35]=-1,to[35]=0,Qi[35]=0,Hi[35]=1,Ji[35]=0,Ti[35]=-1,Ai[35]=0,Li[35]=1,ji[35]=1,Ri[35]=0,Fi[35]=1,Di[153]=0,ki[153]=1,Gi[153]=1,zi[153]=-1,Vi[153]=0,Zi[153]=0,Ki[153]=0,$i[153]=-1,to[153]=0,ji[153]=1,Ri[153]=0,Fi[153]=1,Bi[102]=0,Ui[102]=-1,qi[102]=1,Wi[102]=1,Xi[102]=0,Yi[102]=0,Qi[102]=0,Hi[102]=1,Ji[102]=0,Ti[102]=-1,Ai[102]=0,Li[102]=1,Di[155]=0,ki[155]=-1,Gi[155]=0,zi[155]=1,Vi[155]=0,Zi[155]=1,Ki[155]=0,$i[155]=1,to[155]=1,ji[155]=-1,Ri[155]=0,Fi[155]=0,Bi[103]=0,Ui[103]=1,qi[103]=0,Wi[103]=-1,Xi[103]=0,Yi[103]=1,Qi[103]=0,Hi[103]=-1,Ji[103]=1,Ti[103]=1,Ai[103]=0,Li[103]=0,Di[152]=0,ki[152]=1,Gi[152]=1,Wi[152]=-1,Xi[152]=0,Yi[152]=1,zi[152]=-1,Vi[152]=0,Zi[152]=0,Ki[152]=0,$i[152]=-1,to[152]=0,Qi[152]=0,Hi[152]=-1,Ji[152]=1,ji[152]=1,Ri[152]=0,Fi[152]=1,Di[156]=0,ki[156]=-1,Gi[156]=1,Wi[156]=1,Xi[156]=0,Yi[156]=1,zi[156]=-1,Vi[156]=0,Zi[156]=0,Ki[156]=0,$i[156]=-1,to[156]=0,Qi[156]=0,Hi[156]=1,Ji[156]=1,ji[156]=-1,Ri[156]=0,Fi[156]=1,Di[137]=0,ki[137]=1,Gi[137]=1,Bi[137]=0,Ui[137]=1,qi[137]=0,zi[137]=-1,Vi[137]=0,Zi[137]=0,Ki[137]=0,$i[137]=-1,to[137]=0,Ti[137]=1,Ai[137]=0,Li[137]=0,ji[137]=1,Ri[137]=0,Fi[137]=1,Di[139]=0,ki[139]=1,Gi[139]=1,Bi[139]=0,Ui[139]=-1,qi[139]=0,zi[139]=1,Vi[139]=0,Zi[139]=0,Ki[139]=0,$i[139]=1,to[139]=0,Ti[139]=-1,Ai[139]=0,Li[139]=0,ji[139]=1,Ri[139]=0,Fi[139]=1,Di[98]=0,ki[98]=-1,Gi[98]=0,Bi[98]=0,Ui[98]=-1,qi[98]=1,Wi[98]=1,Xi[98]=0,Yi[98]=0,zi[98]=1,Vi[98]=0,Zi[98]=1,Qi[98]=0,Hi[98]=1,Ji[98]=0,Ti[98]=-1,Ai[98]=0,Li[98]=1,Di[99]=0,ki[99]=1,Gi[99]=0,Bi[99]=0,Ui[99]=-1,qi[99]=1,Wi[99]=1,Xi[99]=0,Yi[99]=0,zi[99]=-1,Vi[99]=0,Zi[99]=1,Qi[99]=0,Hi[99]=-1,Ji[99]=0,Ti[99]=1,Ai[99]=0,Li[99]=1,Bi[38]=0,Ui[38]=-1,qi[38]=1,Wi[38]=1,Xi[38]=0,Yi[38]=0,Ki[38]=0,$i[38]=1,to[38]=1,Qi[38]=0,Hi[38]=1,Ji[38]=0,Ti[38]=-1,Ai[38]=0,Li[38]=1,ji[38]=-1,Ri[38]=0,Fi[38]=0,Bi[39]=0,Ui[39]=1,qi[39]=1,Wi[39]=-1,Xi[39]=0,Yi[39]=0,Ki[39]=0,$i[39]=-1,to[39]=1,Qi[39]=0,Hi[39]=1,Ji[39]=0,Ti[39]=-1,Ai[39]=0,Li[39]=1,ji[39]=1,Ri[39]=0,Fi[39]=0;var eo=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ro=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},no=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},io=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},oo=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},so=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ao=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},uo=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},lo=[],co=[],ho=[],fo=[],po=[],yo=[],go=[],vo=[];fo[1]=po[1]=18,fo[169]=po[169]=18,ho[4]=co[4]=12,ho[166]=co[166]=12,lo[16]=vo[16]=4,lo[154]=vo[154]=4,yo[64]=go[64]=22,yo[106]=go[106]=22,ho[2]=yo[2]=17,fo[2]=po[2]=18,ho[168]=yo[168]=17,fo[168]=po[168]=18,lo[8]=fo[8]=9,co[8]=ho[8]=12,lo[162]=fo[162]=9,co[162]=ho[162]=12,lo[32]=vo[32]=4,co[32]=go[32]=1,lo[138]=vo[138]=4,co[138]=go[138]=1,po[128]=vo[128]=21,yo[128]=go[128]=22,po[42]=vo[42]=21,yo[42]=go[42]=22,co[5]=po[5]=14,co[165]=po[165]=14,ho[20]=vo[20]=6,ho[150]=vo[150]=6,lo[80]=yo[80]=11,lo[90]=yo[90]=11,fo[65]=go[65]=3,fo[105]=go[105]=3,lo[160]=yo[160]=11,co[160]=po[160]=14,lo[10]=yo[10]=11,co[10]=po[10]=14,ho[130]=vo[130]=6,fo[130]=go[130]=3,ho[40]=vo[40]=6,fo[40]=go[40]=3,co[101]=go[101]=1,co[69]=go[69]=1,po[149]=vo[149]=21,po[21]=vo[21]=21,ho[86]=yo[86]=17,ho[84]=yo[84]=17,lo[89]=fo[89]=9,lo[81]=fo[81]=9,lo[96]=go[96]=0,co[96]=yo[96]=15,lo[74]=go[74]=0,co[74]=yo[74]=15,lo[24]=ho[24]=8,fo[24]=vo[24]=7,lo[146]=ho[146]=8,fo[146]=vo[146]=7,co[6]=yo[6]=15,ho[6]=po[6]=16,co[164]=yo[164]=15,ho[164]=po[164]=16,fo[129]=vo[129]=7,po[129]=go[129]=20,fo[41]=vo[41]=7,po[41]=go[41]=20,ho[66]=go[66]=2,fo[66]=yo[66]=19,ho[104]=go[104]=2,fo[104]=yo[104]=19,lo[144]=po[144]=10,yo[144]=vo[144]=23,lo[26]=po[26]=10,yo[26]=vo[26]=23,co[36]=vo[36]=5,ho[36]=go[36]=2,co[134]=vo[134]=5,ho[134]=go[134]=2,lo[9]=po[9]=10,co[9]=fo[9]=13,lo[161]=po[161]=10,co[161]=fo[161]=13,co[37]=vo[37]=5,po[37]=go[37]=20,co[133]=vo[133]=5,po[133]=go[133]=20,ho[148]=po[148]=16,yo[148]=vo[148]=23,ho[22]=po[22]=16,yo[22]=vo[22]=23,lo[82]=ho[82]=8,fo[82]=yo[82]=19,lo[88]=ho[88]=8,fo[88]=yo[88]=19,lo[73]=go[73]=0,co[73]=fo[73]=13,lo[97]=go[97]=0,co[97]=fo[97]=13,lo[145]=fo[145]=9,po[145]=vo[145]=21,lo[25]=fo[25]=9,po[25]=vo[25]=21,co[70]=go[70]=1,ho[70]=yo[70]=17,co[100]=go[100]=1,ho[100]=yo[100]=17,lo[34]=fo[34]=9,co[34]=ho[34]=12,po[34]=vo[34]=21,yo[34]=go[34]=22,lo[136]=vo[136]=4,co[136]=go[136]=1,ho[136]=yo[136]=17,fo[136]=po[136]=18,lo[35]=vo[35]=4,co[35]=ho[35]=12,fo[35]=po[35]=18,yo[35]=go[35]=22,lo[153]=vo[153]=4,fo[153]=po[153]=18,co[102]=ho[102]=12,yo[102]=go[102]=22,lo[155]=fo[155]=9,po[155]=vo[155]=23,co[103]=go[103]=1,ho[103]=yo[103]=17,lo[152]=vo[152]=4,ho[152]=yo[152]=17,fo[152]=po[152]=18,lo[156]=ho[156]=8,fo[156]=po[156]=18,yo[156]=vo[156]=23,lo[137]=vo[137]=4,co[137]=go[137]=1,fo[137]=po[137]=18,lo[139]=vo[139]=4,co[139]=fo[139]=13,po[139]=go[139]=20,lo[98]=fo[98]=9,co[98]=ho[98]=12,yo[98]=go[98]=22,lo[99]=go[99]=0,co[99]=ho[99]=12,fo[99]=yo[99]=19,co[38]=ho[38]=12,po[38]=vo[38]=21,yo[38]=go[38]=22,co[39]=vo[39]=5,ho[39]=po[39]=16,yo[39]=go[39]=22;var mo=[];function _o(t,e,r){return(t-e)/(r-e)}function bo(t){return t.constructor.toString().indexOf("Array")>-1}function xo(t,e,r,n,i,o){for(var s=t.cells[r][e],a=s.cval_real,u=e+n,l=r+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=n,a=(s=t.cells[l][u]).cval_real,-1===i)if(0===o)if(1&a)c.push([u,l]),n=-1,i=0,o=0;else{if(!(4&a)){c.push([u+s.bottomright,l]),n=0,i=1,o=1,h=!0;break}c.push([u+1,l]),n=1,i=0,o=0}else{if(!(1&a)){if(4&a){c.push([u+s.bottomright,l]),n=0,i=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),n=0,i=1,o=0,h=!0;break}c.push([u,l]),n=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&Ni)){if(a&Mi){c.push([u+s.topleft,l+1]),n=0,i=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),n=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),n=1,i=0,o=1}else c.push([u+1,l+1]),n=1,i=0,o=1;else if(-1===n)if(0===o){if(!(a&Mi)){if(1&a){c.push([u,l+s.leftbottom]),n=1,i=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),n=1,i=0,o=1,h=!0;break}c.push([u,l+1]),n=0,i=1,o=0}else{if(!(a&Mi)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),n=0,i=1,o=0}else{if(1!==n){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&a)){c.push([u+1,l+s.rightbottom]),n=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),n=0,i=-1,o=1}else{if(!(4&a)){if(a&Ni){c.push([u+1,l+s.righttop]),n=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),n=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),n=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===n)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])n=0,i=-1,o=1;else{if(!(1&a)){c.push([u+s.bottomright,l]),n=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(a&Mi)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===n){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])n=0,i=1,o=0;else{if(!(a&Ni)){c.push([u+s.topleft,l+1]),n=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),n=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])n=1,i=0,o=1;else{if(!(4&a)){c.push([u+1,l+s.righttop]),n=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),n=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])n=-1,i=0,o=0;else{if(!(a&Mi)){c.push([u,l+s.leftbottom]),n=1,i=0,o=0,h=!0;break}c.push([u,l+1]),n=0,i=1,o=0}}if(l+=i,(u+=n)===e&&l===r)break}return{path:c,i:u,j:l,x:n,y:i,o:o}}function wo(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],r=t.cval_real;switch(e){case 0:return r&Ni?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&r?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&r?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&r?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return r&Ni?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&r?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&r?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&r?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&r?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&r?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&r?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return r&Mi?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&r?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&r?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&r?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return r&Mi?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&r?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return r&Mi?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&r?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return r&Mi?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return r&Mi?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return r&Ni?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return r&Mi?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return r&Ni?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function So(t,e,r,n){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(n){case 0:i=co[l],s=Bi[l],a=Ui[l],u=qi[l];break;default:i=lo[l],s=Di[l],a=ki[l],u=Gi[l]}break;case 1:switch(n){case 0:i=po[l],s=Ki[l],a=$i[l],u=to[l];break;default:i=yo[l],s=Qi[l],a=Hi[l],u=Ji[l]}break;default:switch(r){case-1:switch(n){case 0:i=go[l],s=Ti[l],a=Ai[l],u=Li[l];break;default:i=vo[l],s=ji[l],a=Ri[l],u=Fi[l]}break;case 1:switch(n){case 0:i=fo[l],s=zi[l],a=Vi[l],u=Zi[l];break;default:i=ho[l],s=Wi[l],a=Xi[l],u=Yi[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var r=e+1;r<t.edges.length;r++)t.edges[r-1]=t.edges[r];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&Ni?(e=t.topleft,r=1):(e=1,r=t.righttop);break;case 1:4&l?(e=1,r=t.rightbottom):(e=t.topleft,r=1);break;case 2:4&l?(e=t.topleft,r=1):(e=t.bottomright,r=0);break;case 3:1&l?(e=t.bottomleft,r=0):(e=t.topleft,r=1);break;case 4:l&Ni?(e=t.topright,r=1):(e=1,r=t.righttop);break;case 5:4&l?(e=1,r=t.rightbottom):(e=t.topright,r=1);break;case 6:4&l?(e=t.topright,r=1):(e=t.bottomright,r=0);break;case 7:1&l?(e=t.bottomleft,r=0):(e=t.topright,r=1);break;case 8:4&l?(e=1,r=t.righttop):(e=t.bottomright,r=0);break;case 9:1&l?(e=t.bottomleft,r=0):(e=1,r=t.righttop);break;case 10:1&l?(e=1,r=t.righttop):(e=0,r=t.leftbottom);break;case 11:l&Mi?(e=0,r=t.lefttop):(e=1,r=t.righttop);break;case 12:4&l?(e=1,r=t.rightbottom):(e=t.bottomright,r=0);break;case 13:1&l?(e=t.bottomleft,r=0):(e=1,r=t.rightbottom);break;case 14:1&l?(e=1,r=t.rightbottom):(e=0,r=t.leftbottom);break;case 15:l&Mi?(e=0,r=t.lefttop):(e=1,r=t.rightbottom);break;case 16:4&l?(e=0,r=t.leftbottom):(e=t.bottomright,r=0);break;case 17:l&Mi?(e=0,r=t.lefttop):(e=t.bottomright,r=0);break;case 18:1&l?(e=t.bottomleft,r=0):(e=0,r=t.leftbottom);break;case 19:l&Mi?(e=0,r=t.lefttop):(e=t.bottomleft,r=0);break;case 20:l&Mi?(e=0,r=t.leftbottom):(e=t.topleft,r=1);break;case 21:l&Ni?(e=t.topright,r=1):(e=0,r=t.leftbottom);break;case 22:l&Mi?(e=0,r=t.lefttop):(e=t.topleft,r=1);break;case 23:l&Ni?(e=t.topright,r=1):(e=0,r=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==r&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+r+" "+s+" "+a+" "+u)),{p:[e,r],x:s,y:a,o:u}}function Po(t){var e=[],r=[];t.forEach(function(t){var n=xn(c([t]));r.push(n),e.push({ring:t,area:n})}),r.sort(function(t,e){return e-t});var n=[];return r.forEach(function(t){for(var r=0;r<e.length;r++)if(e[r].area===t){n.push(e[r].ring),e.splice(r,1);break}}),n}function Eo(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),r=[];!Co(e);)for(var n=0;n<e.length;n++)if(!e[n].grouped){var i=[];i.push(e[n].lrCoordinates),e[n].grouped=!0;for(var o=c([e[n].lrCoordinates]),s=n+1;s<e.length;s++)e[s].grouped||Oo(c([e[s].lrCoordinates]),o)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0);r.push(i)}return r}function Oo(t,e){for(var r=cr(t),n=0;n<r.features.length;n++)if(!de(r.features[n],e))return!1;return!0}function Co(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}function Io(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.pivot,i=r.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(n||(n=lr(t)),!1!==i&&void 0!==i||(t=we(t)),q(t,function(t){var r=gi(n,t)+e,i=pn(n,t),o=j(mi(n,i,r));t[0]=o[0],t[1]=o[1]})),t}function Mo(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.origin,i=r.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(n)||"object"==typeof n;return!0!==i&&(t=we(t)),"FeatureCollection"!==t.type||o?No(t,e,n):(W(t,function(r,i){t.features[i]=No(r,e,n)}),t)}function No(t,e,r){var n="Point"===B(t);return r=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return L(e);var r=t.bbox?t.bbox:st(t),n=r[0],i=r[1],o=r[2],s=r[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return u([n,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return u([o,i]);case"nw":case"northwest":case"westnorth":case"topleft":return u([n,s]);case"ne":case"northeast":case"eastnorth":case"topright":return u([o,s]);case"center":return ur(t);case void 0:case null:case"centroid":return lr(t);default:throw new Error("invalid origin")}}(t,r),1===e||n||q(t,function(t){var n=pn(r,t),i=gi(r,t),o=j(mi(r,n*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t}function To(t){var e=t[0],r=t[1];return[r[0]-e[0],r[1]-e[1]]}function Ao(t,e){return t[0]*e[1]-e[0]*t[1]}function Lo(t,e,r){var n=[],i=w(e,r),o=j(t),s=[];return o.forEach(function(t,e){if(e!==o.length-1){var r=(l=t,c=o[e+1],h=i,f=Math.sqrt((l[0]-c[0])*(l[0]-c[0])+(l[1]-c[1])*(l[1]-c[1])),p=l[0]+h*(c[1]-l[1])/f,d=c[0]+h*(c[1]-l[1])/f,y=l[1]+h*(l[0]-c[0])/f,g=c[1]+h*(l[0]-c[0])/f,[[p,y],[d,g]]);if(n.push(r),e>0){var a=n[e-1],u=function(t,e){return!function(t,e){return 0===Ao(To(t),To(e))}(t,e)&&function(t,e){var r,n,i=t[0],o=To(t),s=e[0],a=To(e),u=Ao(o,a);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(i,function(t,e){return[t*e[0],t*e[1]]}(Ao((n=i,[(r=s)[0]-n[0],r[1]-n[1]]),a)/u,o))}(t,e)}(r,a);!1!==u&&(a[1]=u,r[0]=u),s.push(a[0]),e===o.length-2&&(s.push(r[0]),s.push(r[1]))}2===o.length&&(s.push(r[0]),s.push(r[1]))}var l,c,h,f,p,d,y,g}),f(s,t.properties)}function jo(t,e,r){var n=e[0]-t[0],i=e[1]-t[1],o=r[0]-e[0];return function(t){return(t>0)-(t<0)||+t}(n*(r[1]-e[1])-o*i)}function Ro(t,e){return e.geometry.coordinates[0].every(function(e){return de(u(e),t)})}mo[1]=mo[169]=eo,mo[4]=mo[166]=ro,mo[16]=mo[154]=no,mo[64]=mo[106]=io,mo[168]=mo[2]=oo,mo[162]=mo[8]=so,mo[138]=mo[32]=ao,mo[42]=mo[128]=uo,mo[5]=mo[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},mo[20]=mo[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},mo[80]=mo[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},mo[65]=mo[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},mo[160]=mo[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},mo[130]=mo[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},mo[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},mo[101]=mo[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},mo[149]=mo[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},mo[86]=mo[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},mo[89]=mo[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},mo[96]=mo[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},mo[24]=mo[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},mo[6]=mo[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},mo[129]=mo[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},mo[66]=mo[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},mo[144]=mo[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},mo[36]=mo[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},mo[9]=mo[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},mo[37]=mo[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},mo[148]=mo[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},mo[82]=mo[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},mo[73]=mo[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},mo[145]=mo[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},mo[70]=mo[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},mo[34]=function(t){return[uo(t),so(t)]},mo[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},mo[136]=function(t){return[ao(t),oo(t)]},mo[153]=function(t){return[no(t),eo(t)]},mo[102]=function(t){return[ro(t),io(t)]},mo[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},mo[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},mo[152]=function(t){return[no(t),oo(t)]},mo[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},mo[137]=function(t){return[ao(t),eo(t)]},mo[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},mo[98]=function(t){return[so(t),io(t)]},mo[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},mo[38]=function(t){return[ro(t),uo(t)]},mo[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var Fo=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,r){var n=e.to,i=r.to;if(n.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(n.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(n.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return n.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?n.coordinates[1]-i.coordinates[1]:i.coordinates[1]-n.coordinates[1];var o=jo(t.coordinates,n.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(n.coordinates[0]-t.coordinates[0],2)+Math.pow(n.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}(),Do=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return f([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return jo(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}(),ko=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,r,n){return r.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e},0),r=(0===e?this.length:e)-1,n=(e+1)%this.length,i=jo(this.edges[r].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===i?this.edges[r].from.coordinates[0]>this.edges[n].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return g(this.edges.map(function(t){return t.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=c([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=nr(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var r,n,i=t.getEnvelope();return e.forEach(function(e){var o,s,a,l,c,h,f=e.getEnvelope();if(n&&(r=n.getEnvelope()),s=i,a=(o=f).geometry.coordinates.map(function(t){return t[0]}),l=o.geometry.coordinates.map(function(t){return t[1]}),c=s.geometry.coordinates.map(function(t){return t[0]}),h=s.geometry.coordinates.map(function(t){return t[1]}),(Math.max(null,a)!==Math.max(null,c)||Math.max(null,l)!==Math.max(null,h)||Math.min(null,a)!==Math.min(null,c)||Math.min(null,l)!==Math.min(null,h))&&Ro(f,i)){var p=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return r=t,n=e.from.coordinates,r[0]===n[0]&&r[1]===n[1];var r,n})});p&&e.inside(u(p))&&(n&&!Ro(r,f)||(n=e))}}),n},t.prototype.inside=function(t){return de(t,this.toPolygon())},t}(),Go=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var r=new t;return J(e,function(t){D(t,"LineString","Graph::fromGeoJson"),z(t,function(t,e){if(t){var n=r.getNode(t),i=r.getNode(e);r.addEdge(n,i)}return e})}),r},t.prototype.getNode=function(t){var e=Fo.buildId(t),r=this.nodes[e];return r||(r=this.nodes[e]=new Fo(t)),r},t.prototype.addEdge=function(t,e){var r=new Do(t,e),n=r.getSymetric();this.edges.push(r),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),r.forEach(function(t){return e._removeIfDangle(t)})}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,r){t.getOuterEdge((0===r?t.getOuterEdges().length:r)-1).symetric.next=e})},t.prototype._computeNextCCWEdges=function(t,e){for(var r,n,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(n=l),u&&(n&&(n.next=u,n=void 0),r||(r=u)))}n&&(n.next=r)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(r){if(!(r.label>=0)){t.push(r);var n=r;do{n.label=e,n=n.next}while(!r.isEqual(n));e++}}),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(r){t._computeNextCCWEdges(r,e.label)})});var e=[];return this.edges.forEach(function(r){r.ring||e.push(t._findEdgeRing(r))}),e},t.prototype._findIntersectionNodes=function(t){var e=[],r=t,n=function(){var n=0;r.from.getOuterEdges().forEach(function(e){e.label===t.label&&++n}),n>1&&e.push(r.from),r=r.next};do{n()}while(!t.isEqual(r));return e},t.prototype._findEdgeRing=function(t){var e=t,r=new ko;do{r.push(e),e.ring=r,e=e.next}while(!t.isEqual(e));return r},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()},t}();function Bo(t,e){var r=!0;return J(t,function(t){J(e,function(e){if(!1===r)return!1;r=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return r=t.coordinates,n=e.coordinates,!(r[0]===n[0]&&r[1]===n[1]);case"LineString":return!Uo(e,t);case"Polygon":return!de(t,e)}break;case"LineString":switch(e.type){case"Point":return!Uo(t,e);case"LineString":return!function(t,e){return cn(t,e).features.length>0}(t,e);case"Polygon":return!qo(e,t)}break;case"Polygon":switch(e.type){case"Point":return!de(e,t);case"LineString":return!qo(t,e);case"Polygon":return!function(t,e){for(var r=0,n=t.coordinates[0];r<n.length;r++)if(de(n[r],e))return!0;for(var i=0,o=e.coordinates[0];i<o.length;i++)if(de(o[i],t))return!0;return cn(ti(t),ti(e)).features.length>0}(e,t)}}var r,n;return!1}(t.geometry,e.geometry)})}),r}function Uo(t,e){for(var r=0;r<t.coordinates.length-1;r++)if(zo(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function qo(t,e){for(var r=0,n=e.coordinates;r<n.length;r++)if(de(n[r],t))return!0;return cn(e,ti(t)).features.length>0}function zo(t,e,r){var n=r[0]-t[0],i=r[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==n*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:s>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1])}function Vo(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function Zo(t,e){return t[0]===e[0]&&t[1]===e[1]}function Wo(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}function Xo(t,e){for(var r=!1,n=!1,i=t.coordinates.length,o=0;o<i&&!r&&!n;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),Ho(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?r=!0:n=!0}o++}return r&&n}function Yo(t,e){return cn(t,ei(e)).features.length>0}function Qo(t,e){for(var r=!1,n=!1,i=t.coordinates[0].length,o=0;o<i&&r&&n;)de(u(t.coordinates[0][o]),e)?r=!0:n=!0,o++;return n&&n}function Ho(t,e,r,n){var i=r[0]-t[0],o=r[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(n?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:a>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<r[0]&&r[0]<e[0]:e[0]<r[0]&&r[0]<t[0]:a>0?t[1]<r[1]&&r[1]<e[1]:e[1]<r[1]&&r[1]<t[1])}var Jo=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:ts};function Ko(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function $o(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function ts(t,e){return fi(t,e,{strict:!0})}Jo.prototype.compare=function(t,e){if(t.type!==e.type||!$o(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var r=this,n=Ko(t),i=Ko(e);return n.every(function(t){return this.some(function(e){return r.compare(t,e)})},i)}}return!1},Jo.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r].toFixed(this.precision)!==e[r].toFixed(this.precision))return!1;return!0},Jo.prototype.compareLine=function(t,e,r,n){if(!$o(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[r],o[r]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[r],o[o.length-(1+r)])&&this.comparePath(i.slice().reverse(),o)}},Jo.prototype.fixStartIndex=function(t,e){for(var r,n=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){n=i;break}return n>=0&&(r=[].concat(t.slice(n,t.length),t.slice(1,n+1))),r},Jo.prototype.comparePath=function(t,e){var r=this;return t.every(function(t,e){return r.compareCoord(t,this[e])},e)},Jo.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var r=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),i=this;return r.every(function(t){return this.some(function(e){return i.compareLine(t,e,1,!0)})},n)}return!1},Jo.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Jo.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Jo.prototype.removePseudo=function(t){return t};var es=Jo;function rs(t,e){var r=G(t),n=G(e),i=r.type,o=n.type;if("MultiPoint"===i&&"MultiPoint"!==o||("LineString"===i||"MultiLineString"===i)&&"LineString"!==o&&"MultiLineString"!==o||("Polygon"===i||"MultiPolygon"===i)&&"Polygon"!==o&&"MultiPolygon"!==o)throw new Error("features must be of the same type");if("Point"===i)throw new Error("Point geometry not supported");if(new es({precision:6}).compare(t,e))return!1;var s=0;switch(i){case"MultiPoint":for(var a=0;a<r.coordinates.length;a++)for(var u=0;u<n.coordinates.length;u++){var l=r.coordinates[a],c=n.coordinates[u];if(l[0]===c[0]&&l[1]===c[1])return!0}return!1;case"LineString":case"MultiLineString":$(t,function(t){$(e,function(e){pi(t,e).features.length&&s++})});break;case"Polygon":case"MultiPolygon":$(t,function(t){$(e,function(e){cn(t,e).features.length&&s++})})}return s>0}function ns(t,e){var r=!1;return J(t,function(t){J(e,function(e){if(!0===r)return!0;r=!Bo(t.geometry,e.geometry)})}),r}var is=kt(function(t){function e(t,e,r,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,r,n)}e.prototype.run=function(t,e,r,n){this._init(t,e,r,n);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},e.prototype._expandCluster=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(1!==this._visited[n]){this._visited[n]=1;var i=this._regionQuery(n);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[n]&&this._addToCluster(n,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],r=0;r<this._datasetLength;r++)this.distance(this.dataset[t],this.dataset[r])<this.epsilon&&e.push(r);return e},e.prototype._mergeArrays=function(t,e){for(var r=e.length,n=0;n<r;n++){var i=e[n];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=e)}),os=kt(function(t){function e(t,e,r){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,r)}e.prototype.init=function(t,e,r){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==r&&(this.distance=r)},e.prototype.run=function(t,e){this.init(t,e);for(var r=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<r;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,r=this.dataset.length-1;do{e=Math.round(Math.random()*r),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,r=this.dataset.length,n=0;n<r;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),r=0;r<this.assignments.length;r++)void 0===e[t=this.assignments[r]]&&(e[t]=[]),e[t].push(r);return e},e.prototype.argmin=function(t,e,r){for(var n,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(n=r(t,e[a]))<i&&(i=n,o=a);return o},e.prototype.distance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;){var i=t[n]-e[n];r+=i*i}return Math.sqrt(r)},t.exports&&(t.exports=e)}),ss=kt(function(t){function e(t,e,r){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,r)}e.prototype.insert=function(t,e){for(var r=this._queue.length,n=r;n--;){var i=this._priorities[n];"desc"===this._sorting?e>i&&(r=n):e<i&&(r=n)}this._insertAt(t,e,r)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,r=this._queue.length;e<r;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,r){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}r&&(this._sorting=r)},e.prototype._insertAt=function(t,e,r){this._queue.length===r?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(r,0,t),this._priorities.splice(r,0,e))},t.exports&&(t.exports=e)}),as=kt(function(t){if(t.exports)var e=ss;function r(t,e,r,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,r,n)}r.prototype.run=function(t,r,n,i){this._init(t,r,n,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new e(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},r.prototype.getReachabilityPlot=function(){for(var t=[],e=0,r=this._orderedList.length;e<r;e++){var n=this._orderedList[e],i=this._reachability[n];t.push([n,i])}return t},r.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},r.prototype._updateQueue=function(t,e,r){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===n._processed[e]){var i=n.distance(n.dataset[t],n.dataset[e]),o=Math.max(n._coreDistance,i);void 0===n._reachability[e]?(n._reachability[e]=o,r.insert(e,o)):o<n._reachability[e]&&(n._reachability[e]=o,r.remove(e),r.insert(e,o))}})},r.prototype._expandCluster=function(t,e){for(var r=e.getElements(),n=0,i=r.length;n<i;n++){var o=r[n];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},r.prototype._distanceToCore=function(t){for(var e=this.epsilon,r=0;r<e;r++)if(this._regionQuery(t,r).length>=this.minPts)return r},r.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var r=[],n=0,i=this.dataset.length;n<i;n++)this.distance(this.dataset[t],this.dataset[n])<e&&r.push(n);return r},r.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=r)}),us=kt(function(t){t.exports&&(t.exports={DBSCAN:is,KMEANS:os,OPTICS:as,PriorityQueue:ss})}),ls=function(t,e,r){for(var n=t.length,i=0,o=0;o<n;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return r?Math.sqrt(i):i},cs=ls,hs=function(t,e,r){var n=Math.abs(t-e);return r?n:n*n},fs=ls;function ps(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}var ds=function(t,e,r,n){var i=[],o=[],s=[],a=[],u=!1,l=n||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(r)i="kmrand"==r?function(t,e){for(var r={},n=[],i=e<<2,o=t.length,s=t[0].length>0;n.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;r[u]||(r[u]=!0,n.push(a))}if(n.length<e)throw new Error("Error initializating clusters");return n}(t,e):"kmpp"==r?function(t,e){var r=t[0].length?cs:hs,n=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join("_"),n.push(s);n.length<e;){for(var a=[],u=n.length,l=0,c=[],h=0;h<i;h++){for(var f=1/0,p=0;p<u;p++){var d=r(t[h],n[p]);d<=f&&(f=d)}a[h]=f}for(var y=0;y<i;y++)l+=a[y];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:a[g]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var v=1;v<i;v++)c[v].cs=c[v-1].cs+c[v].pr;for(var m=Math.random(),_=0;_<i-1&&c[_++].cs<m;);n.push(c[_-1].v)}return n}(t,e):r;else for(var d={};i.length<e;){var y=Math.floor(Math.random()*c);d[y]||(d[y]=!0,i.push(t[y]))}do{ps(e,0,p);for(var g=0;g<c;g++){for(var v=1/0,m=0,_=0;_<e;_++)(a=f?fs(t[g],i[_]):Math.abs(t[g]-i[_]))<=v&&(v=a,m=_);s[g]=m,p[m]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=f?ps(h,0,b[x]):0,o[x]=i[x];if(f){for(var w=0;w<e;w++)i[w]=[];for(var S=0;S<c;S++)for(var P=b[s[S]],E=t[S],O=0;O<h;O++)P[O]+=E[O];u=!0;for(var C=0;C<e;C++){for(var I=i[C],M=b[C],N=o[C],T=p[C],A=0;A<h;A++)I[A]=M[A]/T||0;if(u)for(var L=0;L<h;L++)if(N[L]!=I[L]){u=!1;break}}}else{for(var j=0;j<c;j++)b[s[j]]+=t[j];for(var R=0;R<e;R++)i[R]=b[R]/p[R]||0;u=!0;for(var F=0;F<e;F++)if(o[F]!=i[F]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:s,centroids:i}};function ys(t,e){return S(gi(t[0],t[1]))===S(gi(e[0],e[1]))}function gs(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function vs(t){for(var e=t,r=[];e.parent;)r.unshift(e),e=e.parent;return r}var ms={search:function(t,e,r,n){t.cleanDirty();var i=(n=n||{}).heuristic||ms.heuristics.manhattan,o=n.closest||!1,s=new xs(function(t){return t.f}),a=e;for(e.h=i(e,r),s.push(e);s.size()>0;){var u=s.pop();if(u===r)return vs(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,r),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?vs(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var r=Math.sqrt(2),n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(n+i)+(r-2)*Math.min(n,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function _s(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var r=0;r<t.length;r++){this.grid[r]=[];for(var n=0,i=t[r];n<i.length;n++){var o=new bs(r,n,i[n]);this.grid[r][n]=o,this.nodes.push(o)}}this.init()}function bs(t,e,r){this.x=t,this.y=e,this.weight=r}function xs(t){this.content=[],this.scoreFunction=t}function ws(t,e){for(var r=0;r<e.features.length;r++)if(de(t,e.features[r]))return!0;return!1}function Ss(t){return function(){return t}}function Ps(t){return t[0]}function Es(t){return t[1]}function Os(){this._=null}function Cs(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Is(t,e){var r=e,n=e.R,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.R=n.L,r.R&&(r.R.U=r),n.L=r}function Ms(t,e){var r=e,n=e.L,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.L=n.R,r.L&&(r.L.U=r),n.R=r}function Ns(t){for(;t.L;)t=t.L;return t}function Ts(t,e,r,n){var i=[null,null],o=$s.push(i)-1;return i.left=t,i.right=e,r&&Ls(i,t,e,r),n&&Ls(i,e,t,n),Js[t.index].halfedges.push(o),Js[e.index].halfedges.push(o),i}function As(t,e,r){var n=[e,r];return n.left=t,n}function Ls(t,e,r,n){t[0]||t[1]?t.left===r?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=r)}function js(t,e,r,n,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=n-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=r-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function Rs(t,e,r,n,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],y=(h+p)/2,g=(f+d)/2;if(d===f){if(y<e||y>=n)return;if(h>p){if(u){if(u[1]>=i)return}else u=[y,r];o=[y,i]}else{if(u){if(u[1]<r)return}else u=[y,i];o=[y,r]}}else if(a=g-(s=(h-p)/(d-f))*y,s<-1||s>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(r-a)/s,r];o=[(i-a)/s,i]}else{if(u){if(u[1]<r)return}else u=[(i-a)/s,i];o=[(r-a)/s,r]}else if(f<d){if(u){if(u[0]>=n)return}else u=[e,s*e+a];o=[n,s*n+a]}else{if(u){if(u[0]<e)return}else u=[n,s*n+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Fs(t,e){var r=t.site,n=e.left,i=e.right;return r===i&&(i=n,n=r),i?Math.atan2(i[1]-n[1],i[0]-n[0]):(r===n?(n=e[1],i=e[0]):(n=e[0],i=e[1]),Math.atan2(n[0]-i[0],i[1]-n[1]))}function Ds(t,e){return e[+(e.left!==t.site)]}function ks(t,e){return e[+(e.left===t.site)]}_s.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)ms.cleanNode(this.nodes[t])},_s.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)ms.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},_s.prototype.markDirty=function(t){this.dirtyNodes.push(t)},_s.prototype.neighbors=function(t){var e=[],r=t.x,n=t.y,i=this.grid;return i[r-1]&&i[r-1][n]&&e.push(i[r-1][n]),i[r+1]&&i[r+1][n]&&e.push(i[r+1][n]),i[r]&&i[r][n-1]&&e.push(i[r][n-1]),i[r]&&i[r][n+1]&&e.push(i[r][n+1]),this.diagonal&&(i[r-1]&&i[r-1][n-1]&&e.push(i[r-1][n-1]),i[r+1]&&i[r+1][n-1]&&e.push(i[r+1][n-1]),i[r-1]&&i[r-1][n+1]&&e.push(i[r-1][n+1]),i[r+1]&&i[r+1][n+1]&&e.push(i[r+1][n+1])),e},_s.prototype.toString=function(){for(var t,e,r,n,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],r=0,n=(e=o[s]).length;r<n;r++)t.push(e[r].weight);i.push(t.join(" "))}return i.join("\n")},bs.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},bs.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},bs.prototype.isWall=function(){return 0===this.weight},xs.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var r=(t+1>>1)-1,n=this.content[r];if(!(this.scoreFunction(e)<this.scoreFunction(n)))break;this.content[r]=e,this.content[t]=n,t=r}},bubbleUp:function(t){for(var e=this.content.length,r=this.content[t],n=this.scoreFunction(r);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<n&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?n:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=r,t=a}}},Os.prototype={constructor:Os,insert:function(t,e){var r,n,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=Ns(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)r===(n=r.U).L?(i=n.R)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.R&&(Is(this,r),r=(t=r).U),r.C=!1,n.C=!0,Ms(this,n)):(i=n.L)&&i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.L&&(Ms(this,r),r=(t=r).U),r.C=!1,n.C=!0,Is(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,i=t.U,o=t.L,s=t.R;if(r=o?s?Ns(s):o:s,i?i.L===t?i.L=r:i.R=r:this._=r,o&&s?(n=r.C,r.C=t.C,r.L=o,o.U=r,r!==s?(i=r.U,r.U=t.U,t=r.R,i.L=t,r.R=s,s.U=r):(r.U=i,i=r,t=r.R)):(n=t.C,t=r),t&&(t.U=i),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Is(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ms(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Is(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ms(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Is(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ms(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Gs,Bs=[];function Us(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,i=t.site,o=r.site;if(n!==o){var s=i[0],a=i[1],u=n[0]-s,l=n[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(f>=-ea)){var p=u*u+l*l,d=c*c+h*h,y=(h*p-l*d)/f,g=(u*d-c*p)/f,v=Bs.pop()||new function(){Cs(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=y+s,v.y=(v.cy=g+a)+Math.sqrt(y*y+g*g),t.circle=v;for(var m=null,_=Ks._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}Ks.insert(m,v),m||(Gs=v)}}}}function qs(t){var e=t.circle;e&&(e.P||(Gs=e.N),Ks.remove(e),Bs.push(e),Cs(e),t.circle=null)}var zs=[];function Vs(t){var e=zs.pop()||new function(){Cs(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Zs(t){qs(t),Hs.remove(t),zs.push(t),Cs(t)}function Ws(t){var e=t.circle,r=e.x,n=e.cy,i=[r,n],o=t.P,s=t.N,a=[t];Zs(t);for(var u=o;u.circle&&Math.abs(r-u.circle.x)<ta&&Math.abs(n-u.circle.cy)<ta;)o=u.P,a.unshift(u),Zs(u),u=o;a.unshift(u),qs(u);for(var l=s;l.circle&&Math.abs(r-l.circle.x)<ta&&Math.abs(n-l.circle.cy)<ta;)s=l.N,a.push(l),Zs(l),l=s;a.push(l),qs(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],Ls(l.edge,u.site,l.site,i);u=a[0],(l=a[h-1]).edge=Ts(u.site,l.site,null,i),Us(u),Us(l)}function Xs(t){for(var e,r,n,i,o=t[0],s=t[1],a=Hs._;a;)if((n=Ys(a,s)-o)>ta)a=a.L;else{if(!((i=o-Qs(a,s))>ta)){n>-ta?(e=a.P,r=a):i>-ta?(e=a,r=a.N):e=r=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Js[t.index]={site:t,halfedges:[]}}(t);var u=Vs(t);if(Hs.insert(e,u),e||r){if(e===r)return qs(e),r=Vs(e.site),Hs.insert(u,r),u.edge=r.edge=Ts(e.site,u.site),Us(e),void Us(r);if(r){qs(e),qs(r);var l=e.site,c=l[0],h=l[1],f=t[0]-c,p=t[1]-h,d=r.site,y=d[0]-c,g=d[1]-h,v=2*(f*g-p*y),m=f*f+p*p,_=y*y+g*g,b=[(g*m-p*_)/v+c,(f*_-y*m)/v+h];Ls(r.edge,l,d,b),u.edge=Ts(l,t,null,b),r.edge=Ts(t,d,null,b),Us(e),Us(r)}else u.edge=Ts(e.site,u.site)}}function Ys(t,e){var r=t.site,n=r[0],i=r[1],o=i-e;if(!o)return n;var s=t.P;if(!s)return-1/0;var a=(r=s.site)[0],u=r[1],l=u-e;if(!l)return a;var c=a-n,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+n:(n+a)/2}function Qs(t,e){var r=t.N;if(r)return Ys(r,e);var n=t.site;return n[1]===e?n[0]:1/0}var Hs,Js,Ks,$s,ta=1e-6,ea=1e-12;function ra(t,e){return e[1]-t[1]||e[0]-t[0]}function na(t,e){var r,n,i,o=t.sort(ra).pop();for($s=[],Js=new Array(t.length),Hs=new Os,Ks=new Os;;)if(i=Gs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===r&&o[1]===n||(Xs(o),r=o[0],n=o[1]),o=t.pop();else{if(!i)break;Ws(i.arc)}if(function(){for(var t,e,r,n,i=0,o=Js.length;i<o;++i)if((t=Js[i])&&(n=(e=t.halfedges).length)){var s=new Array(n),a=new Array(n);for(r=0;r<n;++r)s[r]=r,a[r]=Fs(t,$s[e[r]]);for(s.sort(function(t,e){return a[e]-a[t]}),r=0;r<n;++r)a[r]=e[s[r]];for(r=0;r<n;++r)e[r]=a[r]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,r,n){for(var i,o=$s.length;o--;)Rs(i=$s[o],t,e,r,n)&&js(i,t,e,r,n)&&(Math.abs(i[0][0]-i[1][0])>ta||Math.abs(i[0][1]-i[1][1])>ta)||delete $s[o]}(s,a,u,l),function(t,e,r,n){var i,o,s,a,u,l,c,h,f,p,d,y,g=Js.length,v=!0;for(i=0;i<g;++i)if(o=Js[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)$s[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(p=ks(o,$s[u[a]]))[0],y=p[1],h=(c=Ds(o,$s[u[++a%l]]))[0],f=c[1],(Math.abs(d-h)>ta||Math.abs(y-f)>ta)&&(u.splice(a,0,$s.push(As(s,p,Math.abs(d-t)<ta&&n-y>ta?[t,Math.abs(h-t)<ta?f:n]:Math.abs(y-n)<ta&&r-d>ta?[Math.abs(f-n)<ta?h:r,n]:Math.abs(d-r)<ta&&y-e>ta?[r,Math.abs(h-r)<ta?f:e]:Math.abs(y-e)<ta&&d-t>ta?[Math.abs(f-e)<ta?h:t,e]:null))-1),++l);l&&(v=!1)}if(v){var m,_,b,x=1/0;for(i=0,v=null;i<g;++i)(o=Js[i])&&(b=(m=(s=o.site)[0]-t)*m+(_=s[1]-e)*_)<x&&(x=b,v=o);if(v){var w=[t,e],S=[t,n],P=[r,n],E=[r,e];v.halfedges.push($s.push(As(s=v.site,w,S))-1,$s.push(As(s,S,P))-1,$s.push(As(s,P,E))-1,$s.push(As(s,E,w))-1)}}for(i=0;i<g;++i)(o=Js[i])&&(o.halfedges.length||delete Js[i])}(s,a,u,l)}this.edges=$s,this.cells=Js,Hs=Ks=$s=Js=null}function ia(t){return(t=t.slice()).push(t[0]),c([t])}function oa(t,e,r,n){var i=(n=n||{}).steps||64,o=n.units||"kilometers",s=n.angle||0,a=n.pivot||t,u=n.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!r)throw new Error("ySemiAxis is required");if(!M(n))throw new Error("options must be an object");if(!I(i))throw new Error("steps must be a number");if(!I(s))throw new Error("angle must be a number");var l=L(t);if("degrees"===o)var h=E(s);else e=mi(t,e,90,{units:o}),r=mi(t,r,0,{units:o}),e=L(e)[0]-l[0],r=L(r)[1]-l[1];for(var f=[],p=0;p<i;p+=1){var d=-360*p/i,y=e*r/Math.sqrt(Math.pow(r,2)+Math.pow(e,2)*Math.pow(sa(d),2)),g=e*r/Math.sqrt(Math.pow(e,2)+Math.pow(r,2)/Math.pow(sa(d),2));if(d<-90&&d>=-270&&(y=-y),d<-180&&d>=-360&&(g=-g),"degrees"===o){var v=y*Math.cos(h)+g*Math.sin(h),m=g*Math.cos(h)-y*Math.sin(h);y=v,g=m}f.push([y+l[0],g+l[1]])}return f.push(f[0]),"degrees"===o?c([f],u):Io(c([f],u),s,{pivot:a})}function sa(t){var e=t*Math.PI/180;return Math.tan(e)}function aa(t,e){void 0===e&&(e={});var r=0,n=0,i=0;return Q(t,function(t,o,s){var a=s[e.weight];if(!I(a=null==a?1:a))throw new Error("weight value must be a number for feature index "+o);(a=Number(a))>0&&q(t,function(t){r+=t[0]*a,n+=t[1]*a,i+=a})}),u([r/i,n/i],e.properties,e)}function ua(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function la(t,e){var r=0,n=0;q(t,function(i,o,s,a,u){u>r&&(r=u,n=o,e.push([]));var l=o-n,c=t.coordinates[u][l+1],h=i[0],f=i[1],p=c[0],d=c[1];e[u].push([.75*h+.25*p,.75*f+.25*d]),e[u].push([.25*h+.75*p,.25*f+.75*d])},!0),e.forEach(function(t){t.push(t[0])})}function ca(t,e){var r=0,n=0,i=0;q(t,function(o,s,a,u,l){u>i&&(i=u,n=s,e.push([[]])),l>r&&(r=l,n=s,e[u].push([]));var c=s-n,h=t.coordinates[u][l][c+1],f=o[0],p=o[1],d=h[0],y=h[1];e[u][l].push([.75*f+.25*d,.75*p+.25*y]),e[u][l].push([.25*f+.75*d,.25*p+.75*y])},!0),e.forEach(function(t){t.forEach(function(t){t.push(t[0])})})}function ha(t,e,r){void 0===r&&(r=2);var n=L(t),i=L(e),o=n[0]-i[0],s=n[1]-i[1];return 1===r?Math.abs(o)+Math.abs(s):Math.pow(Math.pow(o,r)+Math.pow(s,r),1/r)}function fa(t,e){var r=(e=e||{}).threshold||1e4,n=e.p||2,i=e.binary||!1,o=e.alpha||-1,s=e.standardization||!1,a=[];W(t,function(t){a.push(lr(t))});for(var u=[],l=0;l<a.length;l++)u[l]=[];for(l=0;l<a.length;l++)for(var c=l;c<a.length;c++){l===c&&(u[l][c]=0);var h=ha(a[l],a[c],n);u[l][c]=h,u[c][l]=h}for(l=0;l<a.length;l++)for(c=0;c<a.length;c++)0!==(h=u[l][c])&&(u[l][c]=i?h<=r?1:0:h<=r?Math.pow(h,o):0);if(s)for(l=0;l<a.length;l++){var f=u[l].reduce(function(t,e){return t+e},0);for(c=0;c<a.length;c++)u[l][c]=u[l][c]/f}return u}function pa(t){for(var e=0,r=0,n=t;r<n.length;r++)e+=n[r];return e/t.length}function da(t,e){return void 0===e&&(e={}),ga(t,"mercator",e)}function ya(t,e){return void 0===e&&(e={}),ga(t,"wgs84",e)}function ga(t,e,r){void 0===r&&(r={});var n=(r=r||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&I(t[0])?t="mercator"===e?va(t):ma(t):(!0!==n&&(t=we(t)),q(t,function(t){var r="mercator"===e?va(t):ma(t);t[0]=r[0],t[1]=r[1]})),t}function va(t){var e=Math.PI/180,r=6378137,n=20037508.342789244,i=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function ma(t){var e=180/Math.PI,r=6378137;return[t[0]*e/r,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/r)))*e]}na.prototype={constructor:na,polygons:function(){var t=this.edges;return this.cells.map(function(e){var r=e.halfedges.map(function(r){return Ds(e,t[r])});return r.data=e.site.data,r})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(r,n){if(o=(i=r.halfedges).length)for(var i,o,s,a,u,l,c=r.site,h=-1,f=e[i[o-1]],p=f.left===c?f.right:f.left;++h<o;)s=p,p=(f=e[i[h]]).left===c?f.right:f.left,s&&p&&n<s.index&&n<p.index&&(u=s,l=p,((a=c)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([c.data,s.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,r){for(var n,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[n=s],s=null,i.halfedges.forEach(function(r){var n=o.edges[r],a=n.left;if(a!==i.site&&a||(a=n.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=n,null==r||c<=r*r?i.site:null}};var _a=Object.freeze({__proto__:null,toMercator:da,toWgs84:ya});function ba(t){return Array.isArray(t)?Ea(t):t&&t.bbox?Ea(t.bbox):[360*Pa(),180*Pa()]}function xa(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var r=[],n=0;n<t;n++)r.push(u(ba(e.bbox)));return d(r)}function wa(t,e){void 0===e&&(e={}),null==t&&(t=1),I(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),I(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var r=[],n=function(t){var n,i=[],o=Array.apply(null,new Array(e.num_vertices+1)).map(Math.random);o.forEach(function(t,e,r){r[e]=e>0?t+r[e-1]:t}),o.forEach(function(t){t=2*t*Math.PI/o[o.length-1];var r=Math.random();i.push([r*(e.max_radial_length||10)*Math.sin(t),r*(e.max_radial_length||10)*Math.cos(t)])}),i[i.length-1]=i[0],i=i.map((n=ba(e.bbox),function(t){return[t[0]+n[0],t[1]+n[1]]})),r.push(c([i]))},i=0;i<t;i++)n();return d(r)}function Sa(t,e){if(void 0===e&&(e={}),!M(e=e||{}))throw new Error("options is invalid");var r=e.bbox,n=e.num_vertices,i=e.max_length,o=e.max_rotation;null==t&&(t=1),(!I(n)||void 0===n||n<2)&&(n=10),I(i)&&void 0!==i||(i=1e-4),I(o)&&void 0!==o||(o=Math.PI/8);for(var s=[],a=0;a<t;a++){for(var u=[ba(r)],l=0;l<n-1;l++){var c=(0===l?2*Math.random()*Math.PI:Math.tan((u[l][1]-u[l-1][1])/(u[l][0]-u[l-1][0])))+(Math.random()-.5)*o*2,h=Math.random()*i;u.push([u[l][0]+h*Math.cos(c),u[l][1]+h*Math.sin(c)])}s.push(f(u))}return d(s)}function Pa(){return Math.random()-.5}function Ea(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}var Oa=Object.freeze({__proto__:null,randomPosition:ba,randomPoint:xa,randomPolygon:wa,randomLineString:Sa});function Ca(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var r=[];return W(t,function(t){Ta(t.properties,e)&&r.push(t)}),d(r)}function Ia(t,e,r){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var n=Na(t,e),i=Object.keys(n),o=0;o<i.length;o++){for(var s=i[o],a=n[s],u=[],l=0;l<a.length;l++)u.push(t.features[a[l]]);r(d(u),s,o)}}function Ma(t,e,r,n){var i=n;return Ia(t,e,function(t,e,o){i=0===o&&void 0===n?t:r(i,t,e,o)}),i}function Na(t,e){var r={};return W(t,function(t,n){var i=t.properties||{};if(i.hasOwnProperty(String(e))){var o=i[e];r.hasOwnProperty(o)?r[o].push(n):r[o]=[n]}}),r}function Ta(t,e){if(void 0===t)return!1;var r=typeof e;if("number"===r||"string"===r)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!Ta(t,e[n]))return!1;return!0}return Aa(t,e)}function Aa(t,e){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n];if(t[i]!==e[i])return!1}return!0}function La(t,e){if(!e)return{};if(!e.length)return{};for(var r={},n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(r[i]=t[i])}return r}var ja=Object.freeze({__proto__:null,getCluster:Ca,clusterEach:Ia,clusterReduce:Ma,createBins:Na,applyFilter:Ta,propertiesContainsFilter:Aa,filterProperties:La}),Ra=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null
/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */};function Fa(t,e){return t>e?1:t<e?-1:0}function Da(t,e,r){for(var n=new Ra(null,null),i=n,o=n;;){var s=r(t,e.key);if(s<0){if(null===e.left)break;if(r(t,e.left.key)<0){var a=e.left;if(e.left=a.right,a.right=e,null===(e=a).left)break}o.left=e,o=e,e=e.left}else{if(!(s>0))break;if(null===e.right)break;if(r(t,e.right.key)>0&&(a=e.right,e.right=a.left,a.left=e,null===(e=a).right))break;i.right=e,i=e,e=e.right}}return i.right=e.left,o.left=e.right,e.left=n.right,e.right=n.left,e}function ka(t,e,r,n){var i=new Ra(t,e);if(null===r)return i.left=i.right=null,i;var o=n(t,(r=Da(t,r,n)).key);return o<0?(i.left=r.left,i.right=r,r.left=null):o>=0&&(i.right=r.right,i.left=r,r.right=null),i}function Ga(t,e,r){var n=null,i=null;if(e){var o=r((e=Da(t,e,r)).key,t);0===o?(n=e.left,i=e.right):o<0?(i=e.right,e.right=null,n=e):(n=e.left,e.left=null,i=e)}return{left:n,right:i}}var Ba=function(){function t(t){void 0===t&&(t=Fa),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=ka(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new Ra(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var n=this._comparator,i=Da(t,this._root,n),o=n(t,i.key);return 0===o?this._root=i:(o<0?(r.left=i.left,r.right=i,i.left=null):o>0&&(r.right=i.right,r.left=i,i.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:0===r(t,(e=Da(t,e,r)).key)?(null===e.left?n=e.right:(n=Da(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Da(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=Da(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],i=!1;!i;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):i=!0;return this},t.prototype.range=function(t,e,r,n){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&r.call(n,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach(function(e){var r=e.key;return t.push(r)}),t},t.prototype.values=function(){var t=[];return this.forEach(function(e){var r=e.data;return t.push(r)}),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,i=[];!r;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var i=n(t.key,e.key);if(0===i)break;i<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,r=[],n=!1,i=new Ra(null,null),o=i;!n;)e?(r.push(e),e=e.left):r.length>0?e=(e=o=o.next=r.pop()).right:n=!0;return o.next=null,i.next}(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var n=t.length,i=this._comparator;if(r&&function t(e,r,n,i,o){if(!(n>=i)){for(var s=e[n+i>>1],a=n-1,u=i+1;;){do{a++}while(o(e[a],s)<0);do{u--}while(o(e[u],s)>0);if(a>=u)break;var l=e[a];e[a]=e[u],e[u]=l,l=r[a],r[a]=r[u],r[u]=l}t(e,r,n,u,o),t(e,r,u+1,i,o)}}(t,e,0,n-1,i),null===this._root)this._root=function t(e,r,n,i){var o=i-n;if(o>0){var s=n+Math.floor(o/2),a=e[s],u=r[s],l=new Ra(a,u);return l.left=t(e,r,n,s),l.right=t(e,r,s+1,i),l}return null}(t,e,0,n),this._size=n;else{var o=function(t,e,r){for(var n=new Ra(null,null),i=n,o=t,s=e;null!==o&&null!==s;)r(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return null!==o?i.next=o:null!==s&&(i.next=s),n.next}(this.toList(),function(t,e){for(var r=new Ra(null,null),n=r,i=0;i<t.length;i++)n=n.next=new Ra(t[i],e[i]);return n.next=null,r.next}(t,e),i);n=this._size+n,this._root=function t(e,r,n){var i=n-r;if(i>0){var o=r+Math.floor(i/2),s=t(e,r,o),a=e.head;return a.left=s,e.head=e.head.next,a.right=t(e,o+1,n),a}return null}({head:o},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return function t(e,r,n,i,o){if(e){i(r+(n?" ":" ")+o(e)+"\n");var s=r+(n?"    ":"   ");e.left&&t(e.left,s,!1,i,o),e.right&&t(e.right,s,!0,i,o)}}(this._root,"",!0,function(t){return e.push(t)},t),e.join("")},t.prototype.update=function(t,e,r){var n=this._comparator,i=Ga(t,this._root,n),o=i.left,s=i.right;n(t,e)<0?s=ka(e,r,s,n):o=ka(e,r,o,n),this._root=function(t,e,r){return null===e?t:(null===t||((e=Da(t.key,e,r)).left=t),e)}(o,s,n)},t.prototype.split=function(t){return Ga(t,this._root,this._comparator)},t}();function Ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function za(t,e,r){return e&&qa(t.prototype,e),r&&qa(t,r),t}var Va=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},Za=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},Wa=Number.EPSILON;void 0===Wa&&(Wa=Math.pow(2,-52));var Xa=Wa*Wa,Ya=function(t,e){if(-Wa<t&&t<Wa&&-Wa<e&&e<Wa)return 0;var r=t-e;return r*r<Xa*t*e?0:t<e?-1:1},Qa=function(){function t(){Ua(this,t),this.reset()}return za(t,[{key:"reset",value:function(){this.xRounder=new Ha,this.yRounder=new Ha}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),t}(),Ha=function(){function t(){Ua(this,t),this.tree=new Ba,this.round(0)}return za(t,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===Ya(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===Ya(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),t}(),Ja=new Qa,Ka=function(t,e){return t.x*e.y-t.y*e.x},$a=function(t,e){return t.x*e.x+t.y*e.y},tu=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y},o=Ka(n,i);return Ya(o,0)},eu=function(t){return Math.sqrt($a(t,t))},ru=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},nu=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},iu=function(){function t(e,r){Ua(this,t),void 0===e.events?e.events=[this]:e.events.push(this),this.point=e,this.isLeft=r}return za(t,null,[{key:"compare",value:function(e,r){var n=t.comparePoints(e.point,r.point);return 0!==n?n:(e.point!==r.point&&e.link(r),e.isLeft!==r.isLeft?e.isLeft?1:-1:su.compare(e.segment,r.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),za(t,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var i=e[r];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var i=this.point.events[n];void 0===i.consumedBy&&r.otherSE.point.events===i.otherSE.point.events&&r.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var i,o,s,a,u,l=n.otherSE;r.set(n,{sine:(i=e.point,o=t.point,s=l.point,a={x:o.x-i.x,y:o.y-i.y},u={x:s.x-i.x,y:s.y-i.y},Ka(u,a)/eu(u)/eu(a)),cosine:function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},i={x:r.x-t.x,y:r.y-t.y};return $a(i,n)/eu(i)/eu(n)}(e.point,t.point,l.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var i=r.get(t),o=i.sine,s=i.cosine,a=r.get(e),u=a.sine,l=a.cosine;return o>=0&&u>=0?s<l?1:s>l?-1:0:o<0&&u<0?s<l?-1:s>l?1:0:u<o?-1:u>o?1:0}}}]),t}(),ou=0,su=function(){function t(e,r,n,i){Ua(this,t),this.id=++ou,this.leftSE=e,e.segment=this,e.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=e,this.rings=n,this.windings=i}return za(t,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<r)return 1;if(i<n)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(r<n){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=e.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(r>n){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var y=t.comparePoint(e.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(i!==o){var g=u-s,v=i-r,m=l-a,_=o-n;if(g>v&&m<_)return 1;if(g<v&&m>_)return-1}return i>o?1:i<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),za(t,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/n.y,o=e.x+i*n.x;if(t.x===o)return 0;var s=(t.x-e.x)/n.x,a=e.y+s*n.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=Za(e,r);if(null===n)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=Va(e,s)&&0===this.comparePoint(s),l=Va(r,i)&&0===t.comparePoint(i),c=Va(e,a)&&0===this.comparePoint(a),h=Va(r,o)&&0===t.comparePoint(o);if(l&&u)return h&&!c?o:!h&&c?a:null;if(l)return c&&i.x===a.x&&i.y===a.y?null:i;if(u)return h&&o.x===s.x&&o.y===s.y?null:s;if(h&&c)return null;if(h)return o;if(c)return a;var f=function(t,e,r,n){if(0===e.x)return nu(r,n,t.x);if(0===n.x)return nu(t,e,r.x);if(0===e.y)return ru(r,n,t.y);if(0===n.y)return ru(t,e,r.y);var i=Ka(e,n);if(0==i)return null;var o={x:r.x-t.x,y:r.y-t.y},s=Ka(o,e)/i,a=Ka(o,n)/i;return{x:(t.x+a*e.x+(r.x+s*n.x))/2,y:(t.y+a*e.y+(r.y+s*n.y))/2}}(i,this.vector(),s,t.vector());return null===f?null:Va(n,f)?Ja.round(f.x,f.y):null}},{key:"split",value:function(e){var r=[],n=void 0!==e.events,i=new iu(e,!0),o=new iu(e,!1),s=this.rightSE;this.replaceRightSE(o),r.push(o),r.push(i);var a=new t(i,s,this.rings.slice(),this.windings.slice());return iu.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),iu.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(i.checkForConsuming(),o.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(e){for(var r=this,n=e;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var i=t.compare(r,n);if(0!==i){if(i>0){var o=r;r=n,n=o}if(r.prev===n){var s=r;r=n,n=s}for(var a=0,u=n.rings.length;a<u;a++){var l=n.rings[a],c=n.windings[a],h=r.rings.indexOf(l);-1===h?(r.rings.push(l),r.windings.push(c)):r.windings[h]+=c}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),r.push(a)):r[u]+=a}for(var l=[],c=[],h=0,f=e.length;h<f;h++)if(0!==r[h]){var p=e[h],d=p.poly;if(-1===c.indexOf(d))if(p.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var y=l.indexOf(p.poly);-1!==y&&l.splice(y,1)}}for(var g=0,v=l.length;g<v;g++){var m=l[g].multiPoly;-1===n.indexOf(m)&&n.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(gu.type){case"union":var r=0===t.length,n=0===e.length;this._isInResult=r!==n;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===gu.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(gu.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,r,n){var i,o,s,a=iu.comparePoints(e,r);if(a<0)i=e,o=r,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=r,o=e,s=-1}return new t(new iu(i,!0),new iu(o,!1),[n],[s])}}]),t}(),au=function(){function t(e,r,n){if(Ua(this,t),!Array.isArray(e)||0===e.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=n,this.segments=[],"number"!=typeof e[0][0]||"number"!=typeof e[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var i=Ja.round(e[0][0],e[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var o=i,s=1,a=e.length;s<a;s++){if("number"!=typeof e[s][0]||"number"!=typeof e[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=Ja.round(e[s][0],e[s][1]);u.x===o.x&&u.y===o.y||(this.segments.push(su.fromRing(o,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),o=u)}i.x===o.x&&i.y===o.y||this.segments.push(su.fromRing(o,i,this))}return za(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),t}(),uu=function(){function t(e,r){if(Ua(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new au(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var n=1,i=e.length;n<i;n++){var o=new au(e[n],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=r}return za(t,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),t}(),lu=function(){function t(e,r){if(Ua(this,t),!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof e[0][0][0]&&(e=[e])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var n=0,i=e.length;n<i;n++){var o=new uu(e[n],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=r}return za(t,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),i=0,o=n.length;i<o;i++)t.push(n[i]);return t}}]),t}(),cu=function(){function t(e){Ua(this,t),this.events=e;for(var r=0,n=e.length;r<n;r++)e[r].segment.ringOut=this;this.poly=null}return za(t,null,[{key:"factory",value:function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],c=a.point,h=[];s=a,a=u,l.push(a),a.point!==c;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var p=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var y=null,g=0,v=h.length;g<v;g++)if(h[g].point===a.point){y=g;break}if(null===y){h.push({index:l.length,point:a.point});var m=a.getLeftmostComparator(s);u=f.sort(m)[0].otherSE;break}var _=h.splice(y)[0],b=l.splice(_.index);b.unshift(b[0].otherSE),r.push(new t(b.reverse()))}r.push(new t(l))}}return r}}]),za(t,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var i=this.events[r].point,o=this.events[r+1].point;0!==tu(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===tu(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,c=this.isExteriorRing()?e.length:-1,h=[],f=l;f!=c;f+=u)h.push([e[f].x,e[f].y]);return h}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];iu.compare(t,n)>0&&(t=n)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),hu=function(){function t(e){Ua(this,t),this.exteriorRing=e,e.poly=this,this.interiorRings=[]}return za(t,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),t}(),fu=function(){function t(e){Ua(this,t),this.rings=e,this.polys=this._composePolys(e)}return za(t,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(!i.poly)if(i.isExteriorRing())e.push(new hu(i));else{var o=i.enclosingRing();o.poly||e.push(new hu(o)),o.poly.addInterior(i)}}return e}}]),t}(),pu=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:su.compare;Ua(this,t),this.queue=e,this.tree=new Ba(r),this.segments=[]}return za(t,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=n,o=n,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var c=this._splitSafely(s,l),h=0,f=c.length;h<f;h++)r.push(c[h])}var p=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!a.isAnEndpoint(d)))for(var y=this._splitSafely(a,d),g=0,v=y.length;g<v;g++)r.push(y[g])}if(null!==u||null!==p){var m=null;m=null===u?p:null===p?u:iu.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),r.push(e.rightSE);for(var _=e.split(m),b=0,x=_.length;b<x;b++)r.push(_[b])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var S=this._splitSafely(s,w),P=0,E=S.length;P<E;P++)r.push(S[P]);if(!a.isAnEndpoint(w))for(var O=this._splitSafely(a,w),C=0,I=O.length;C<I;C++)r.push(O[C])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),t}(),du=void 0!==t&&Object({NODE_ENV:void 0}).POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,yu=void 0!==t&&Object({NODE_ENV:void 0}).POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,gu=new(function(){function t(){Ua(this,t)}return za(t,[{key:"run",value:function(t,e,r){gu.type=t,Ja.reset();for(var n=[new lu(e,!0)],i=0,o=r.length;i<o;i++)n.push(new lu(r[i],!1));if(gu.numMultiPolys=n.length,"difference"===gu.type)for(var s=n[0],a=1;a<n.length;)null!==Za(n[a].bbox,s.bbox)?a++:n.splice(a,1);if("intersection"===gu.type)for(var u=0,l=n.length;u<l;u++)for(var c=n[u],h=u+1,f=n.length;h<f;h++)if(null===Za(c.bbox,n[h].bbox))return[];for(var p=new Ba(iu.compare),d=0,y=n.length;d<y;d++)for(var g=n[d].getSweepEvents(),v=0,m=g.length;v<m;v++)if(p.insert(g[v]),p.size>du)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var _=new pu(p),b=p.size,x=p.pop();x;){var w=x.key;if(p.size===b){var S=w.segment;throw new Error("Unable to pop() ".concat(w.isLeft?"left":"right"," SweepEvent ")+"[".concat(w.point.x,", ").concat(w.point.y,"] from segment #").concat(S.id," ")+"[".concat(S.leftSE.point.x,", ").concat(S.leftSE.point.y,"] -> ")+"[".concat(S.rightSE.point.x,", ").concat(S.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(p.size>du)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(_.segments.length>yu)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var P=_.process(w),E=0,O=P.length;E<O;E++){var C=P[E];void 0===C.consumedBy&&p.insert(C)}b=p.size,x=p.pop()}Ja.reset();var I=cu.factory(_.segments);return new fu(I).getGeom()}}]),t}()),vu=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return gu.run("union",t,r)},mu=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return gu.run("intersection",t,r)};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),r=Math.max(Math.min(e.length,9007199254740991),0)||0,n=1 in arguments&&parseInt(Number(arguments[1]),10)||0;n=n<0?Math.max(r+n,0):Math.min(n,r);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:r;for(i=i<0?Math.max(r+arguments[2],0):Math.min(i,r);n<i;)e[n]=t,++n;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var _u=function(){};_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u},_u.prototype.equalsWithTolerance=function(t,e,r){return Math.abs(t-e)<=r};var bu=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),xu=function(){},wu={MAX_VALUE:{configurable:!0}};xu.isNaN=function(t){return Number.isNaN(t)},xu.doubleToLongBits=function(t){return t},xu.longBitsToDouble=function(t){return t},xu.isInfinite=function(t){return!Number.isFinite(t)},wu.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(xu,wu);var Su=function(){},Pu=function(){},Eu=function(){};function Ou(){}var Cu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Iu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Cu.prototype.setOrdinate=function(t,e){switch(t){case Cu.X:this.x=e;break;case Cu.Y:this.y=e;break;case Cu.Z:this.z=e;break;default:throw new bu("Invalid ordinate index: "+t)}},Cu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!_u.equalsWithTolerance(this.x,e.x,r)&&!!_u.equalsWithTolerance(this.y,e.y,r)}},Cu.prototype.getOrdinate=function(t){switch(t){case Cu.X:return this.x;case Cu.Y:return this.y;case Cu.Z:return this.z}throw new bu("Invalid ordinate index: "+t)},Cu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||xu.isNaN(this.z))&&xu.isNaN(t.z)},Cu.prototype.equals=function(t){return t instanceof Cu&&this.equals2D(t)},Cu.prototype.equalInZ=function(t,e){return _u.equalsWithTolerance(this.z,t.z,e)},Cu.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},Cu.prototype.clone=function(){},Cu.prototype.copy=function(){return new Cu(this)},Cu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Cu.prototype.distance3D=function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+r*r+n*n)},Cu.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},Cu.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+Cu.hashCode(this.x))+Cu.hashCode(this.y)},Cu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Cu.prototype.interfaces_=function(){return[Su,Pu,Ou]},Cu.prototype.getClass=function(){return Cu},Cu.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=xu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Iu.DimensionalComparator.get=function(){return Mu},Iu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Iu.NULL_ORDINATE.get=function(){return xu.NaN},Iu.X.get=function(){return 0},Iu.Y.get=function(){return 1},Iu.Z.get=function(){return 2},Object.defineProperties(Cu,Iu);var Mu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new bu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Mu.prototype.compare=function(t,e){var r=t,n=e,i=Mu.compare(r.x,n.x);if(0!==i)return i;var o=Mu.compare(r.y,n.y);return 0!==o?o:this._dimensionsToTest<=2?0:Mu.compare(r.z,n.z)},Mu.prototype.interfaces_=function(){return[Eu]},Mu.prototype.getClass=function(){return Mu},Mu.compare=function(t,e){return t<e?-1:t>e?1:xu.isNaN(t)?xu.isNaN(e)?0:-1:xu.isNaN(e)?1:0};var Nu=function(){};Nu.prototype.create=function(){},Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu};var Tu=function(){},Au={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Tu.prototype.interfaces_=function(){return[]},Tu.prototype.getClass=function(){return Tu},Tu.toLocationSymbol=function(t){switch(t){case Tu.EXTERIOR:return"e";case Tu.BOUNDARY:return"b";case Tu.INTERIOR:return"i";case Tu.NONE:return"-"}throw new bu("Unknown location value: "+t)},Au.INTERIOR.get=function(){return 0},Au.BOUNDARY.get=function(){return 1},Au.EXTERIOR.get=function(){return 2},Au.NONE.get=function(){return-1},Object.defineProperties(Tu,Au);var Lu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},ju=function(){},Ru={LOG_10:{configurable:!0}};ju.prototype.interfaces_=function(){return[]},ju.prototype.getClass=function(){return ju},ju.log10=function(t){var e=Math.log(t);return xu.isInfinite(e)||xu.isNaN(e)?e:e/ju.LOG_10},ju.min=function(t,e,r,n){var i=t;return e<i&&(i=e),r<i&&(i=r),n<i&&(i=n),i},ju.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],r=arguments[2];return t<e?e:t>r?r:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],i=arguments[1],o=arguments[2];return n<i?i:n>o?o:n}},ju.wrap=function(t,e){return t<0?e- -t%e:t%e},ju.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],r=arguments[2],n=t;return e>n&&(n=e),r>n&&(n=r),n}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},ju.average=function(t,e){return(t+e)/2},Ru.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ju,Ru);var Fu=function(t){this.str=t};Fu.prototype.append=function(t){this.str+=t},Fu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},Fu.prototype.toString=function(t){return this.str};var Du=function(t){this.value=t};Du.prototype.intValue=function(){return this.value},Du.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Du.isNaN=function(t){return Number.isNaN(t)};var ku=function(){};ku.isWhitespace=function(t){return t<=32&&t>=0||127===t},ku.toUpperCase=function(t){return t.toUpperCase()};var Gu=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var r=arguments[0];this.init(r)}else if("string"==typeof arguments[0]){var n=arguments[0];t.call(this,t.parse(n))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},Bu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};Gu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},Gu.prototype.extractSignificantDigits=function(t,e){var r=this.abs(),n=Gu.magnitude(r._hi),i=Gu.TEN.pow(n);(r=r.divide(i)).gt(Gu.TEN)?(r=r.divide(Gu.TEN),n+=1):r.lt(Gu.ONE)&&(r=r.multiply(Gu.TEN),n-=1);for(var o=n+1,s=new Fu,a=Gu.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(r._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),r=r.subtract(Gu.valueOf(l)).multiply(Gu.TEN),c&&r.selfAdd(Gu.TEN);var f=!0,p=Gu.magnitude(r._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=n,s.toString()},Gu.prototype.sqr=function(){return this.multiply(this)},Gu.prototype.doubleValue=function(){return this._hi+this._lo},Gu.prototype.subtract=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},Gu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},Gu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},Gu.prototype.selfSubtract=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},Gu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},Gu.prototype.min=function(t){return this.le(t)?this:t},Gu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,c=null,h=null;return u=this._hi/r,h=(i=(l=Gu.SPLIT*u)-(i=l-u))*(s=(h=Gu.SPLIT*r)-(s=h-r))-(c=u*r)+i*(a=r-s)+(o=u-i)*s+o*a,h=u+(l=(this._hi-c-h+this._lo-u*n)/r),this._hi=h,this._lo=u-h+l,this}},Gu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},Gu.prototype.divide=function(){if(arguments[0]instanceof Gu){var t=arguments[0],e=null,r=null,n=null,i=null,o=null,s=null,a=null,u=null;r=(o=this._hi/t._hi)-(e=(s=Gu.SPLIT*o)-(e=s-o)),u=e*(n=(u=Gu.SPLIT*t._hi)-(n=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-n)+r*n+r*i;var l=u=o+(s=(this._hi-a-u+this._lo-o*t._lo)/t._hi),c=o-u+s;return new Gu(l,c)}if("number"==typeof arguments[0]){var h=arguments[0];return xu.isNaN(h)?Gu.createNaN():Gu.copy(this).selfDivide(h,0)}},Gu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},Gu.prototype.pow=function(t){if(0===t)return Gu.valueOf(1);var e=new Gu(this),r=Gu.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2==1&&r.selfMultiply(e),(n/=2)>0&&(e=e.sqr());else r=e;return t<0?r.reciprocal():r},Gu.prototype.ceil=function(){if(this.isNaN())return Gu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new Gu(t,e)},Gu.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},Gu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},Gu.prototype.setValue=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},Gu.prototype.max=function(t){return this.ge(t)?this:t},Gu.prototype.sqrt=function(){if(this.isZero())return Gu.valueOf(0);if(this.isNegative())return Gu.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,r=Gu.valueOf(e),n=this.subtract(r.sqr())._hi*(.5*t);return r.add(n)},Gu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],r=null,n=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),n=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(r=i+a)),this._hi=r+n,this._lo=n+(r-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,f=null,p=null,d=null,y=null,g=null;p=this._hi+u,h=this._lo+l,d=p-(y=p-this._hi),f=h-(g=h-this._lo);var v=(c=p+(y=(d=u-y+(this._hi-d))+h))+(y=(f=l-g+(this._lo-f))+(y+(p-c))),m=y+(c-v);return this._hi=v,this._lo=m,this}},Gu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof Gu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;i=(u=Gu.SPLIT*this._hi)-this._hi,l=Gu.SPLIT*r,i=u-i,o=this._hi-i,s=l-r;var c=(u=this._hi*r)+(l=i*(s=l-s)-u+i*(a=r-s)+o*s+o*a+(this._hi*n+this._lo*r)),h=l+(i=u-c);return this._hi=c,this._lo=h,this}},Gu.prototype.selfSqr=function(){return this.selfMultiply(this)},Gu.prototype.floor=function(){if(this.isNaN())return Gu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new Gu(t,e)},Gu.prototype.negate=function(){return this.isNaN()?this:new Gu(-this._hi,-this._lo)},Gu.prototype.clone=function(){},Gu.prototype.multiply=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return t.isNaN()?Gu.createNaN():Gu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return xu.isNaN(e)?Gu.createNaN():Gu.copy(this).selfMultiply(e,0)}},Gu.prototype.isNaN=function(){return xu.isNaN(this._hi)},Gu.prototype.intValue=function(){return Math.trunc(this._hi)},Gu.prototype.toString=function(){var t=Gu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},Gu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),r=this.extractSignificantDigits(!0,e),n=e[0]+1,i=r;if("."===r.charAt(0))i="0"+r;else if(n<0)i="0."+Gu.stringOfChar("0",-n)+r;else if(-1===r.indexOf(".")){var o=n-r.length;i=r+Gu.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},Gu.prototype.reciprocal=function(){var t,e,r,n,i=null,o=null,s=null,a=null;t=(r=1/this._hi)-(i=(s=Gu.SPLIT*r)-(i=s-r)),o=(a=Gu.SPLIT*this._hi)-this._hi;var u=r+(s=(1-(n=r*this._hi)-(a=i*(o=a-o)-n+i*(e=this._hi-o)+t*o+t*e)-r*this._lo)/this._hi);return new Gu(u,r-u+s)},Gu.prototype.toSciNotation=function(){if(this.isZero())return Gu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),r=this.extractSignificantDigits(!1,e),n=Gu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===r.charAt(0))throw new Error("Found leading zero: "+r);var i="";r.length>1&&(i=r.substring(1));var o=r.charAt(0)+"."+i;return this.isNegative()?"-"+o+n:o+n},Gu.prototype.abs=function(){return this.isNaN()?Gu.NaN:this.isNegative()?this.negate():new Gu(this)},Gu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},Gu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},Gu.prototype.add=function(){if(arguments[0]instanceof Gu){var t=arguments[0];return Gu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Gu.copy(this).selfAdd(e)}},Gu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof Gu){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this._hi=r,this._lo=n}},Gu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},Gu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},Gu.prototype.trunc=function(){return this.isNaN()?Gu.NaN:this.isPositive()?this.floor():this.ceil()},Gu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},Gu.prototype.interfaces_=function(){return[Ou,Su,Pu]},Gu.prototype.getClass=function(){return Gu},Gu.sqr=function(t){return Gu.valueOf(t).selfMultiply(t)},Gu.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return Gu.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new Gu(e)}},Gu.sqrt=function(t){return Gu.valueOf(t).sqrt()},Gu.parse=function(t){for(var e=0,r=t.length;ku.isWhitespace(t.charAt(e));)e++;var n=!1;if(e<r){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(n=!0))}for(var o=new Gu,s=0,a=0,u=0;!(e>=r);){var l=t.charAt(e);if(e++,ku.isDigit(l)){var c=l-"0";o.selfMultiply(Gu.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=Du.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=Gu.TEN.pow(p);f=o.divide(d)}else if(p<0){var y=Gu.TEN.pow(-p);f=o.multiply(y)}return n?f.negate():f},Gu.createNaN=function(){return new Gu(xu.NaN,xu.NaN)},Gu.copy=function(t){return new Gu(t)},Gu.magnitude=function(t){var e=Math.abs(t),r=Math.log(e)/Math.log(10),n=Math.trunc(Math.floor(r));return 10*Math.pow(10,n)<=e&&(n+=1),n},Gu.stringOfChar=function(t,e){for(var r=new Fu,n=0;n<e;n++)r.append(t);return r.toString()},Bu.PI.get=function(){return new Gu(3.141592653589793,1.2246467991473532e-16)},Bu.TWO_PI.get=function(){return new Gu(6.283185307179586,2.4492935982947064e-16)},Bu.PI_2.get=function(){return new Gu(1.5707963267948966,6.123233995736766e-17)},Bu.E.get=function(){return new Gu(2.718281828459045,1.4456468917292502e-16)},Bu.NaN.get=function(){return new Gu(xu.NaN,xu.NaN)},Bu.EPS.get=function(){return 1.23259516440783e-32},Bu.SPLIT.get=function(){return 134217729},Bu.MAX_PRINT_DIGITS.get=function(){return 32},Bu.TEN.get=function(){return Gu.valueOf(10)},Bu.ONE.get=function(){return Gu.valueOf(1)},Bu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Bu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(Gu,Bu);var Uu=function(){},qu={DP_SAFE_EPSILON:{configurable:!0}};Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.orientationIndex=function(t,e,r){var n=Uu.orientationIndexFilter(t,e,r);if(n<=1)return n;var i=Gu.valueOf(e.x).selfAdd(-t.x),o=Gu.valueOf(e.y).selfAdd(-t.y),s=Gu.valueOf(r.x).selfAdd(-e.x),a=Gu.valueOf(r.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},Uu.signOfDet2x2=function(t,e,r,n){return t.multiply(n).selfSubtract(e.multiply(r)).signum()},Uu.intersection=function(t,e,r,n){var i=Gu.valueOf(n.y).selfSubtract(r.y).selfMultiply(Gu.valueOf(e.x).selfSubtract(t.x)),o=Gu.valueOf(n.x).selfSubtract(r.x).selfMultiply(Gu.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=Gu.valueOf(n.x).selfSubtract(r.x).selfMultiply(Gu.valueOf(t.y).selfSubtract(r.y)),u=Gu.valueOf(n.y).selfSubtract(r.y).selfMultiply(Gu.valueOf(t.x).selfSubtract(r.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=Gu.valueOf(t.x).selfAdd(Gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=Gu.valueOf(e.x).selfSubtract(t.x).selfMultiply(Gu.valueOf(t.y).selfSubtract(r.y)),f=Gu.valueOf(e.y).selfSubtract(t.y).selfMultiply(Gu.valueOf(t.x).selfSubtract(r.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=Gu.valueOf(r.y).selfAdd(Gu.valueOf(n.y).selfSubtract(r.y).selfMultiply(p)).doubleValue();return new Cu(c,d)},Uu.orientationIndexFilter=function(t,e,r){var n=null,i=(t.x-r.x)*(e.y-r.y),o=(t.y-r.y)*(e.x-r.x),s=i-o;if(i>0){if(o<=0)return Uu.signum(s);n=i+o}else{if(!(i<0))return Uu.signum(s);if(o>=0)return Uu.signum(s);n=-i-o}var a=Uu.DP_SAFE_EPSILON*n;return s>=a||-s>=a?Uu.signum(s):2},Uu.signum=function(t){return t>0?1:t<0?-1:0},qu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Uu,qu);var zu=function(){},Vu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Vu.X.get=function(){return 0},Vu.Y.get=function(){return 1},Vu.Z.get=function(){return 2},Vu.M.get=function(){return 3},zu.prototype.setOrdinate=function(t,e,r){},zu.prototype.size=function(){},zu.prototype.getOrdinate=function(t,e){},zu.prototype.getCoordinate=function(){},zu.prototype.getCoordinateCopy=function(t){},zu.prototype.getDimension=function(){},zu.prototype.getX=function(t){},zu.prototype.clone=function(){},zu.prototype.expandEnvelope=function(t){},zu.prototype.copy=function(){},zu.prototype.getY=function(t){},zu.prototype.toCoordinateArray=function(){},zu.prototype.interfaces_=function(){return[Pu]},zu.prototype.getClass=function(){return zu},Object.defineProperties(zu,Vu);var Zu=function(){},Wu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Zu),Xu=function(){};Xu.arraycopy=function(t,e,r,n,i){for(var o=0,s=e;s<e+i;s++)r[n+o]=t[s],o++},Xu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Yu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var r=arguments[0],n=arguments[1];this.x=r,this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof Cu&&arguments[1]instanceof Cu){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],y=h.y-f.y,g=f.x-h.x,v=h.x*f.y-f.x*h.y,m=p.y-d.y,_=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=g*b-_*v,this.y=m*v-y*b,this.w=y*_-m*g}};Yu.prototype.getY=function(){var t=this.y/this.w;if(xu.isNaN(t)||xu.isInfinite(t))throw new Wu;return t},Yu.prototype.getX=function(){var t=this.x/this.w;if(xu.isNaN(t)||xu.isInfinite(t))throw new Wu;return t},Yu.prototype.getCoordinate=function(){var t=new Cu;return t.x=this.getX(),t.y=this.getY(),t},Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu},Yu.intersection=function(t,e,r,n){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=r.y-n.y,u=n.x-r.x,l=r.x*n.y-n.x*r.y,c=i*u-a*o,h=(o*l-u*s)/c,f=(a*s-i*l)/c;if(xu.isNaN(h)||xu.isInfinite(h)||xu.isNaN(f)||xu.isInfinite(f))throw new Wu;return new Cu(h,f)};var Qu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Cu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var r=arguments[0];this.init(r)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Hu={serialVersionUID:{configurable:!0}};Qu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Qu.prototype.equals=function(t){if(!(t instanceof Qu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Qu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Qu;var e=this._minx>t._minx?this._minx:t._minx,r=this._miny>t._miny?this._miny:t._miny,n=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Qu(e,n,r,i)},Qu.prototype.isNull=function(){return this._maxx<this._minx},Qu.prototype.getMaxX=function(){return this._maxx},Qu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Qu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];return!this.isNull()&&r>=this._minx&&r<=this._maxx&&n>=this._miny&&n<=this._maxy}},Qu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Qu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Cu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];return!this.isNull()&&!(r>this._maxx||r<this._minx||n>this._maxy||n<this._miny)}},Qu.prototype.getMinY=function(){return this._miny},Qu.prototype.getMinX=function(){return this._minx},Qu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Qu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=n,this._maxy=n):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),n<this._miny&&(this._miny=n),n>this._maxy&&(this._maxy=n))}},Qu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Qu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Qu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Qu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Qu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Qu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Qu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Qu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Qu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=r,this._maxy+=r,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Qu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Qu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Cu){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];return this.covers(r,n)}},Qu.prototype.centre=function(){return this.isNull()?null:new Cu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Qu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Qu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.init(r.x,n.x,r.y,n.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Qu.prototype.getMaxY=function(){return this._maxy},Qu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var r=0;return this._maxy<t._miny?r=t._miny-this._maxy:this._miny>t._maxy&&(r=this._miny-t._maxy),0===e?r:0===r?e:Math.sqrt(e*e+r*r)},Qu.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+Cu.hashCode(this._minx))+Cu.hashCode(this._maxx))+Cu.hashCode(this._miny))+Cu.hashCode(this._maxy)},Qu.prototype.interfaces_=function(){return[Su,Ou]},Qu.prototype.getClass=function(){return Qu},Qu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],r=arguments[2];return r.x>=(t.x<e.x?t.x:e.x)&&r.x<=(t.x>e.x?t.x:e.x)&&r.y>=(t.y<e.y?t.y:e.y)&&r.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(n.x,i.x),c=Math.max(n.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(n.y,i.y),c=Math.max(n.y,i.y),l>u||c<a))}},Hu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Qu,Hu);var Ju={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ku=function(t){this.geometryFactory=t||new Ac};Ku.prototype.read=function(t){var e,r,n;t=t.replace(/[\n\r]/g," ");var i=Ju.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Ju.emptyTypeStr.exec(t))[2]=void 0),i&&(r=i[1].toLowerCase(),n=i[2],tl[r]&&(e=tl[r].apply(this,[n]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Ku.prototype.write=function(t){return this.extractGeometry(t)},Ku.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!$u[e])return null;var r=e.toUpperCase();return t.isEmpty()?r+" EMPTY":r+"("+$u[e].apply(this,[t])+")"};var $u={coordinate:function(t){return t.x+" "+t.y},point:function(t){return $u.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],r=0,n=t._geometries.length;r<n;++r)e.push("("+$u.point.apply(this,[t._geometries[r]])+")");return e.join(",")},linestring:function(t){for(var e=[],r=0,n=t._points._coordinates.length;r<n;++r)e.push($u.coordinate.apply(this,[t._points._coordinates[r]]));return e.join(",")},linearring:function(t){for(var e=[],r=0,n=t._points._coordinates.length;r<n;++r)e.push($u.coordinate.apply(this,[t._points._coordinates[r]]));return e.join(",")},multilinestring:function(t){for(var e=[],r=0,n=t._geometries.length;r<n;++r)e.push("("+$u.linestring.apply(this,[t._geometries[r]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+$u.linestring.apply(this,[t._shell])+")");for(var r=0,n=t._holes.length;r<n;++r)e.push("("+$u.linestring.apply(this,[t._holes[r]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],r=0,n=t._geometries.length;r<n;++r)e.push("("+$u.polygon.apply(this,[t._geometries[r]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],r=0,n=t._geometries.length;r<n;++r)e.push(this.extractGeometry(t._geometries[r]));return e.join(",")}},tl={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Ju.spaces);return this.geometryFactory.createPoint(new Cu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPoint();for(var r=t.trim().split(","),n=[],i=0,o=r.length;i<o;++i)e=r[i].replace(Ju.trimParens,"$1"),n.push(tl.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,r=t.trim().split(","),n=[],i=0,o=r.length;i<o;++i)e=r[i].trim().split(Ju.spaces),n.push(new Cu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,r=t.trim().split(","),n=[],i=0,o=r.length;i<o;++i)e=r[i].trim().split(Ju.spaces),n.push(new Cu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiLineString();for(var r=t.trim().split(Ju.parenComma),n=[],i=0,o=r.length;i<o;++i)e=r[i].replace(Ju.trimParens,"$1"),n.push(tl.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(n)},polygon:function(t){var e,r,n;if(void 0===t)return this.geometryFactory.createPolygon();for(var i,o=t.trim().split(Ju.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Ju.trimParens,"$1"),r=tl.linestring.apply(this,[e]),n=this.geometryFactory.createLinearRing(r._points),0===a?i=n:s.push(n);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){var e;if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var r=t.trim().split(Ju.doubleParenComma),n=[],i=0,o=r.length;i<o;++i)e=r[i].replace(Ju.trimParens,"$1"),n.push(tl.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),r=[],n=0,i=e.length;n<i;++n)r.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(r)}},el=function(t){this.parser=new Ku(t)};el.prototype.write=function(t){return this.parser.write(t)},el.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var rl=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),nl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(rl),il=function(){};il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},il.shouldNeverReachHere=function(){if(0===arguments.length)il.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new nl("Should never reach here"+(null!==t?": "+t:""))}},il.isTrue=function(){var t;if(1===arguments.length)il.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new nl:new nl(t)},il.equals=function(){var t,e,r;if(2===arguments.length)il.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(t=arguments[0],r=arguments[2],!(e=arguments[1]).equals(t)))throw new nl("Expected "+t+" but encountered "+e+(null!==r?": "+r:""))};var ol=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Cu,this._intPt[1]=new Cu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},sl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ol.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},ol.prototype.getTopologySummary=function(){var t=new Fu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},ol.prototype.computeIntersection=function(t,e,r,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=r,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,r,n)},ol.prototype.getIntersectionNum=function(){return this._result},ol.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),r=this.getEdgeDistance(t,1);e>r?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},ol.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ol.prototype.setPrecisionModel=function(t){this._precisionModel=t},ol.prototype.isInteriorIntersection=function(){var t=this;if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],r=0;r<this._result;r++)if(!t._intPt[r].equals2D(t._inputLines[e][0])&&!t._intPt[r].equals2D(t._inputLines[e][1]))return!0;return!1}},ol.prototype.getIntersection=function(t){return this._intPt[t]},ol.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ol.prototype.hasIntersection=function(){return this._result!==ol.NO_INTERSECTION},ol.prototype.getEdgeDistance=function(t,e){return ol.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},ol.prototype.isCollinear=function(){return this._result===ol.COLLINEAR_INTERSECTION},ol.prototype.toString=function(){return el.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+el.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ol.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},ol.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},ol.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.computeEdgeDistance=function(t,e,r){var n=Math.abs(r.x-e.x),i=Math.abs(r.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(r))o=n>i?n:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=n>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return il.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},ol.nonRobustComputeEdgeDistance=function(t,e,r){var n=t.x-e.x,i=t.y-e.y,o=Math.sqrt(n*n+i*i);return il.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},sl.DONT_INTERSECT.get=function(){return 0},sl.DO_INTERSECT.get=function(){return 1},sl.COLLINEAR.get=function(){return 2},sl.NO_INTERSECTION.get=function(){return 0},sl.POINT_INTERSECTION.get=function(){return 1},sl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ol,sl);var al=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Qu(this._inputLines[0][0],this._inputLines[0][1]),r=new Qu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&r.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],r=arguments[1],n=arguments[2];if(this._isProper=!1,Qu.intersects(r,n,e)&&0===cl.orientationIndex(r,n,e)&&0===cl.orientationIndex(n,r,e))return this._isProper=!0,(e.equals(r)||e.equals(n))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,r,n,i){i.x=this.smallestInAbsValue(t.x,e.x,r.x,n.x),i.y=this.smallestInAbsValue(t.y,e.y,r.y,n.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,r.x-=i.x,r.y-=i.y,n.x-=i.x,n.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,r,n,i){var o=null;try{o=Yu.intersection(t,r,n,i)}catch(s){if(!(s instanceof Wu))throw s;o=e.nearestEndpoint(t,r,n,i)}return o},e.prototype.intersection=function(t,r,n,i){var o=this.intersectionWithNormalization(t,r,n,i);return this.isInSegmentEnvelopes(o)||(o=new Cu(e.nearestEndpoint(t,r,n,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,r,n){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(r)<o&&(i=r,o=Math.abs(r)),Math.abs(n)<o&&(i=n),i},e.prototype.checkDD=function(t,e,r,n,i){var o=Uu.intersection(t,e,r,n),s=this.isInSegmentEnvelopes(o);Xu.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&Xu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,r,n){var i=new Cu(t),o=new Cu(e),s=new Cu(r),a=new Cu(n),u=new Cu;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,r,n,i){var o=Qu.intersects(e,r,n),s=Qu.intersects(e,r,i),a=Qu.intersects(n,i,e),u=Qu.intersects(n,i,r);return o&&s?(this._intPt[0]=n,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=n,this._intPt[1]=r,!n.equals(r)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=r,!i.equals(r)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,r,n,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=r.x<n.x?r.x:n.x,c=r.y<n.y?r.y:n.y,h=r.x>n.x?r.x:n.x,f=r.y>n.y?r.y:n.y,p=((o>l?o:l)+(a<h?a:h))/2,d=((s>c?s:c)+(u<f?u:f))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,r.x-=i.x,r.y-=i.y,n.x-=i.x,n.y-=i.y},e.prototype.computeIntersect=function(e,r,n,i){if(this._isProper=!1,!Qu.intersects(e,r,n,i))return t.NO_INTERSECTION;var o=cl.orientationIndex(e,r,n),s=cl.orientationIndex(e,r,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=cl.orientationIndex(n,i,e),u=cl.orientationIndex(n,i,r);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,r,n,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(n)||e.equals2D(i)?this._intPt[0]=e:r.equals2D(n)||r.equals2D(i)?this._intPt[0]=r:0===o?this._intPt[0]=new Cu(n):0===s?this._intPt[0]=new Cu(i):0===a?this._intPt[0]=new Cu(e):0===u&&(this._intPt[0]=new Cu(r))):(this._isProper=!0,this._intPt[0]=this.intersection(e,r,n,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,r,n){var i=t,o=cl.distancePointLine(t,r,n),s=cl.distancePointLine(e,r,n);return s<o&&(o=s,i=e),(s=cl.distancePointLine(r,t,e))<o&&(o=s,i=r),(s=cl.distancePointLine(n,t,e))<o&&(o=s,i=n),i},e}(ol),ul=function(){};ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.orientationIndex=function(t,e,r){var n=e.x-t.x,i=e.y-t.y,o=r.x-e.x,s=r.y-e.y;return ul.signOfDet2x2(n,i,o,s)},ul.signOfDet2x2=function(t,e,r,n){var i=null,o=null,s=null;if(i=1,0===t||0===n)return 0===e||0===r?0:e>0?r>0?-i:i:r>0?i:-i;if(0===e||0===r)return n>0?t>0?i:-i:t>0?-i:i;if(e>0?n>0?e<=n||(i=-i,o=t,t=r,r=o,o=e,e=n,n=o):e<=-n?(i=-i,r=-r,n=-n):(o=t,t=-r,r=o,o=e,e=-n,n=o):n>0?-e<=n?(i=-i,t=-t,e=-e):(o=-t,t=r,r=o,o=-e,e=n,n=o):e>=n?(t=-t,e=-e,r=-r,n=-n):(i=-i,o=-t,t=-r,r=o,o=-e,e=-n,n=o),t>0){if(!(r>0))return i;if(!(t<=r))return i}else{if(r>0)return-i;if(!(t>=r))return-i;i=-i,t=-t,r=-r}for(;;){if((n-=(s=Math.floor(r/t))*e)<0)return-i;if(n>e)return i;if(t>(r-=s*t)+r){if(e<n+n)return i}else{if(e>n+n)return-i;r=t-r,n=e-n,i=-i}if(0===n)return 0===r?0:-i;if(0===r)return i;if((e-=(s=Math.floor(t/r))*n)<0)return i;if(e>n)return-i;if(r>(t-=s*r)+t){if(n<e+e)return-i}else{if(n>e+e)return i;t=r-t,e=n-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var ll=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};ll.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var r=t.x,n=e.x;return r>n&&(r=e.x,n=t.x),this._p.x>=r&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ul.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},ll.prototype.isPointInPolygon=function(){return this.getLocation()!==Tu.EXTERIOR},ll.prototype.getLocation=function(){return this._isPointOnSegment?Tu.BOUNDARY:this._crossingCount%2==1?Tu.INTERIOR:Tu.EXTERIOR},ll.prototype.isOnSegment=function(){return this._isPointOnSegment},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},ll.locatePointInRing=function(){if(arguments[0]instanceof Cu&&Lu(arguments[1],zu)){for(var t=arguments[0],e=arguments[1],r=new ll(t),n=new Cu,i=new Cu,o=1;o<e.size();o++)if(e.getCoordinate(o,n),e.getCoordinate(o-1,i),r.countSegment(n,i),r.isOnSegment())return r.getLocation();return r.getLocation()}if(arguments[0]instanceof Cu&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new ll(s),l=1;l<a.length;l++){var c=a[l],h=a[l-1];if(u.countSegment(c,h),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var cl=function(){},hl={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl},cl.orientationIndex=function(t,e,r){return Uu.orientationIndex(t,e,r)},cl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,r=t[0].x,n=1;n<t.length-1;n++){var i=t[n].x-r,o=t[n+1].y,s=t[n-1].y;e+=i*(s-o)}return e/2}if(Lu(arguments[0],zu)){var a=arguments[0],u=a.size();if(u<3)return 0;var l=new Cu,c=new Cu,h=new Cu;a.getCoordinate(0,c),a.getCoordinate(1,h);var f=c.x;h.x-=f;for(var p=0,d=1;d<u-1;d++)l.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(d+1,h),h.x-=f,p+=c.x*(l.y-h.y);return p/2}},cl.distanceLineLine=function(t,e,r,n){if(t.equals(e))return cl.distancePointLine(t,r,n);if(r.equals(n))return cl.distancePointLine(n,t,e);var i=!1;if(Qu.intersects(t,e,r,n)){var o=(e.x-t.x)*(n.y-r.y)-(e.y-t.y)*(n.x-r.x);if(0===o)i=!0;else{var s=(t.y-r.y)*(n.x-r.x)-(t.x-r.x)*(n.y-r.y),a=((t.y-r.y)*(e.x-t.x)-(t.x-r.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?ju.min(cl.distancePointLine(t,r,n),cl.distancePointLine(e,r,n),cl.distancePointLine(r,t,e),cl.distancePointLine(n,t,e)):0},cl.isPointInRing=function(t,e){return cl.locatePointInRing(t,e)!==Tu.EXTERIOR},cl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var r=0,n=new Cu;t.getCoordinate(0,n);for(var i=n.x,o=n.y,s=1;s<e;s++){t.getCoordinate(s,n);var a=n.x,u=n.y,l=a-i,c=u-o;r+=Math.sqrt(l*l+c*c),i=a,o=u}return r},cl.isCCW=function(t){var e=t.length-1;if(e<3)throw new bu("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=t[0],n=0,i=1;i<=e;i++){var o=t[i];o.y>r.y&&(r=o,n=i)}var s=n;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(r)&&s!==n);var a=n;do{a=(a+1)%e}while(t[a].equals2D(r)&&a!==n);var u=t[s],l=t[a];if(u.equals2D(r)||l.equals2D(r)||u.equals2D(l))return!1;var c=cl.computeOrientation(u,r,l);return 0===c?u.x>l.x:c>0},cl.locatePointInRing=function(t,e){return ll.locatePointInRing(t,e)},cl.distancePointLinePerpendicular=function(t,e,r){var n=(r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y),i=((e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y))/n;return Math.abs(i)*Math.sqrt(n)},cl.computeOrientation=function(t,e,r){return cl.orientationIndex(t,e,r)},cl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new bu("Line array must contain at least one vertex");for(var r=t.distance(e[0]),n=0;n<e.length-1;n++){var i=cl.distancePointLine(t,e[n],e[n+1]);i<r&&(r=i)}return r}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},cl.isOnLine=function(t,e){for(var r=new al,n=1;n<e.length;n++){var i=e[n-1],o=e[n];if(r.computeIntersection(t,i,o),r.hasIntersection())return!0}return!1},hl.CLOCKWISE.get=function(){return-1},hl.RIGHT.get=function(){return cl.CLOCKWISE},hl.COUNTERCLOCKWISE.get=function(){return 1},hl.LEFT.get=function(){return cl.COUNTERCLOCKWISE},hl.COLLINEAR.get=function(){return 0},hl.STRAIGHT.get=function(){return cl.COLLINEAR},Object.defineProperties(cl,hl);var fl=function(){};fl.prototype.filter=function(t){},fl.prototype.interfaces_=function(){return[]},fl.prototype.getClass=function(){return fl};var pl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},dl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};pl.prototype.isGeometryCollection=function(){return this.getSortIndex()===pl.SORTINDEX_GEOMETRYCOLLECTION},pl.prototype.getFactory=function(){return this._factory},pl.prototype.getGeometryN=function(t){return this},pl.prototype.getArea=function(){return 0},pl.prototype.isRectangle=function(){return!1},pl.prototype.equals=function(){if(arguments[0]instanceof pl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof pl))return!1;var r=e;return this.equalsExact(r)}},pl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},pl.prototype.geometryChanged=function(){this.apply(pl.geometryChangedFilter)},pl.prototype.geometryChangedAction=function(){this._envelope=null},pl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},pl.prototype.getLength=function(){return 0},pl.prototype.getNumGeometries=function(){return 1},pl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var r=arguments[0],n=arguments[1];return this.getSortIndex()!==r.getSortIndex()?this.getSortIndex()-r.getSortIndex():this.isEmpty()&&r.isEmpty()?0:this.isEmpty()?-1:r.isEmpty()?1:this.compareToSameClass(r,n)}},pl.prototype.getUserData=function(){return this._userData},pl.prototype.getSRID=function(){return this._SRID},pl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},pl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===pl.SORTINDEX_GEOMETRYCOLLECTION)throw new bu("This method does not support GeometryCollection arguments")},pl.prototype.equal=function(t,e,r){return 0===r?t.equals(e):t.distance(e)<=r},pl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},pl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},pl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Qu(this._envelope)},pl.prototype.setSRID=function(t){this._SRID=t},pl.prototype.setUserData=function(t){this._userData=t},pl.prototype.compare=function(t,e){for(var r=t.iterator(),n=e.iterator();r.hasNext()&&n.hasNext();){var i=r.next(),o=n.next(),s=i.compareTo(o);if(0!==s)return s}return r.hasNext()?1:n.hasNext()?-1:0},pl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},pl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===pl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===pl.SORTINDEX_MULTIPOINT||this.getSortIndex()===pl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===pl.SORTINDEX_MULTIPOLYGON},pl.prototype.interfaces_=function(){return[Pu,Su,Ou]},pl.prototype.getClass=function(){return pl},pl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},pl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},dl.serialVersionUID.get=function(){return 0x799ea46522854c00},dl.SORTINDEX_POINT.get=function(){return 0},dl.SORTINDEX_MULTIPOINT.get=function(){return 1},dl.SORTINDEX_LINESTRING.get=function(){return 2},dl.SORTINDEX_LINEARRING.get=function(){return 3},dl.SORTINDEX_MULTILINESTRING.get=function(){return 4},dl.SORTINDEX_POLYGON.get=function(){return 5},dl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},dl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},dl.geometryChangedFilter.get=function(){return yl},Object.defineProperties(pl,dl);var yl=function(){};yl.interfaces_=function(){return[fl]},yl.filter=function(t){t.geometryChangedAction()};var gl=function(){};gl.prototype.filter=function(t){},gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl};var vl=function(){},ml={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};vl.prototype.isInBoundary=function(t){},vl.prototype.interfaces_=function(){return[]},vl.prototype.getClass=function(){return vl},ml.Mod2BoundaryNodeRule.get=function(){return _l},ml.EndPointBoundaryNodeRule.get=function(){return bl},ml.MultiValentEndPointBoundaryNodeRule.get=function(){return xl},ml.MonoValentEndPointBoundaryNodeRule.get=function(){return wl},ml.MOD2_BOUNDARY_RULE.get=function(){return new _l},ml.ENDPOINT_BOUNDARY_RULE.get=function(){return new bl},ml.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new xl},ml.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new wl},ml.OGC_SFS_BOUNDARY_RULE.get=function(){return vl.MOD2_BOUNDARY_RULE},Object.defineProperties(vl,ml);var _l=function(){};_l.prototype.isInBoundary=function(t){return t%2==1},_l.prototype.interfaces_=function(){return[vl]},_l.prototype.getClass=function(){return _l};var bl=function(){};bl.prototype.isInBoundary=function(t){return t>0},bl.prototype.interfaces_=function(){return[vl]},bl.prototype.getClass=function(){return bl};var xl=function(){};xl.prototype.isInBoundary=function(t){return t>1},xl.prototype.interfaces_=function(){return[vl]},xl.prototype.getClass=function(){return xl};var wl=function(){};wl.prototype.isInBoundary=function(t){return 1===t},wl.prototype.interfaces_=function(){return[vl]},wl.prototype.getClass=function(){return wl};var Sl=function(){};function Pl(t){this.message=t||""}Sl.prototype.add=function(){},Sl.prototype.addAll=function(){},Sl.prototype.isEmpty=function(){},Sl.prototype.iterator=function(){},Sl.prototype.size=function(){},Sl.prototype.toArray=function(){},Sl.prototype.remove=function(){},Pl.prototype=new Error,Pl.prototype.name="IndexOutOfBoundsException";var El=function(){};El.prototype.hasNext=function(){},El.prototype.next=function(){},El.prototype.remove=function(){};var Ol=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Sl);function Cl(t){this.message=t||""}Cl.prototype=new Error,Cl.prototype.name="NoSuchElementException";var Il=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Sl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Sl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var r=this.array_[t];return this.array_[t]=e,r},e.prototype.iterator=function(){return new Ml(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Pl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,r=this.array_.length;e<r;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,r=0,n=this.array_.length;r<n;r++)if(this.array_[r]===t){this.array_.splice(r,1),e=!0;break}return e},e}(Ol),Ml=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Cl;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(El),Nl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.ensureCapacity(r.length),this.add(r,n)}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={coordArrayType:{configurable:!0}};return r.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],r=arguments[1],n=!1,i=e.iterator();i.hasNext();)this.add(i.next(),r),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),r=0;r<this.size();r++)e.add(r,this.get(r).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){var e=this;if(1===arguments.length){var r=arguments[0];t.prototype.add.call(this,r)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof Cu&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];if(!s&&this.size()>=1){var a=this.get(this.size()-1);if(a.equals2D(o))return null}t.prototype.add.call(this,o)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1];return this.add(u,l),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var c=arguments[0],h=arguments[1],f=arguments[2];if(f)for(var p=0;p<c.length;p++)e.add(c[p],h);else for(var d=c.length-1;d>=0;d--)e.add(c[d],h);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Cu){var y=arguments[0],g=arguments[1],v=arguments[2];if(!v){var m=this.size();if(m>0){if(y>0){var _=this.get(y-1);if(_.equals2D(g))return null}if(y<m){var b=this.get(y);if(b.equals2D(g))return null}}}t.prototype.add.call(this,y,g)}}else if(4===arguments.length){var x=arguments[0],w=arguments[1],S=arguments[2],P=arguments[3],E=1;S>P&&(E=-1);for(var O=S;O!==P;O+=E)e.add(x[O],w);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Cu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,r),e}(Il),Tl=function(){},Al={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Al.ForwardComparator.get=function(){return Ll},Al.BidirectionalComparator.get=function(){return jl},Al.coordArrayType.get=function(){return new Array(0).fill(null)},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Tl.ptNotInList=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(Tl.indexOf(n,e)<0)return n}return null},Tl.scroll=function(t,e){var r=Tl.indexOf(e,t);if(r<0)return null;var n=new Array(t.length).fill(null);Xu.arraycopy(t,r,n,0,t.length-r),Xu.arraycopy(t,0,n,t.length-r,r),Xu.arraycopy(n,0,t,0,t.length)},Tl.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!t[r].equals(e[r]))return!1;return!0}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];if(n===i)return!0;if(null===n||null===i)return!1;if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++)if(0!==o.compare(n[s],i[s]))return!1;return!0}},Tl.intersection=function(t,e){for(var r=new Nl,n=0;n<t.length;n++)e.intersects(t[n])&&r.add(t[n],!0);return r.toCoordinateArray()},Tl.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Tl.removeRepeatedPoints=function(t){return Tl.hasRepeatedPoints(t)?new Nl(t,!1).toCoordinateArray():t},Tl.reverse=function(t){for(var e=t.length-1,r=Math.trunc(e/2),n=0;n<=r;n++){var i=t[n];t[n]=t[e-n],t[e-n]=i}},Tl.removeNull=function(t){for(var e=0,r=0;r<t.length;r++)null!==t[r]&&e++;var n=new Array(e).fill(null);if(0===e)return n;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(n[i++]=t[o]);return n},Tl.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),r=0;r<t.length;r++)e[r]=new Cu(t[r]);return e}if(5===arguments.length)for(var n=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new Cu(n[i+u])},Tl.isEqualReversed=function(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=e[t.length-r-1];if(0!==n.compareTo(i))return!1}return!0},Tl.envelope=function(t){for(var e=new Qu,r=0;r<t.length;r++)e.expandToInclude(t[r]);return e},Tl.toCoordinateArray=function(t){return t.toArray(Tl.coordArrayType)},Tl.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Tl.indexOf=function(t,e){for(var r=0;r<e.length;r++)if(t.equals(e[r]))return r;return-1},Tl.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var r=t.length-1-e,n=t[e].compareTo(t[r]);if(0!==n)return n}return 1},Tl.compare=function(t,e){for(var r=0;r<t.length&&r<e.length;){var n=t[r].compareTo(e[r]);if(0!==n)return n;r++}return r<e.length?-1:r<t.length?1:0},Tl.minCoordinate=function(t){for(var e=null,r=0;r<t.length;r++)(null===e||e.compareTo(t[r])>0)&&(e=t[r]);return e},Tl.extract=function(t,e,r){e=ju.clamp(e,0,t.length);var n=(r=ju.clamp(r,-1,t.length))-e+1;r<0&&(n=0),e>=t.length&&(n=0),r<e&&(n=0);var i=new Array(n).fill(null);if(0===n)return i;for(var o=0,s=e;s<=r;s++)i[o++]=t[s];return i},Object.defineProperties(Tl,Al);var Ll=function(){};Ll.prototype.compare=function(t,e){return Tl.compare(t,e)},Ll.prototype.interfaces_=function(){return[Eu]},Ll.prototype.getClass=function(){return Ll};var jl=function(){};jl.prototype.compare=function(t,e){var r=t,n=e;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;var i=Tl.compare(r,n);return Tl.isEqualReversed(r,n)?0:i},jl.prototype.OLDcompare=function(t,e){var r=t,n=e;if(r.length<n.length)return-1;if(r.length>n.length)return 1;if(0===r.length)return 0;for(var i=Tl.increasingDirection(r),o=Tl.increasingDirection(n),s=i>0?0:r.length-1,a=o>0?0:r.length-1,u=0;u<r.length;u++){var l=r[s].compareTo(n[a]);if(0!==l)return l;s+=i,a+=o}return 0},jl.prototype.interfaces_=function(){return[Eu]},jl.prototype.getClass=function(){return jl};var Rl=function(){};Rl.prototype.get=function(){},Rl.prototype.put=function(){},Rl.prototype.size=function(){},Rl.prototype.values=function(){},Rl.prototype.entrySet=function(){};var Fl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rl);function Dl(t){this.message=t||""}function kl(){}Dl.prototype=new Error,Dl.prototype.name="OperationNotSupported",kl.prototype=new Sl,kl.prototype.contains=function(){};var Gl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Sl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,r=this.array_.length;e<r;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,r=this.array_.length;e<r;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Bl(this)},e}(kl),Bl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Cl;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Dl},e}(El);function Ul(t){return null===t?0:t.color}function ql(t){return null===t?null:t.parent}function zl(t,e){null!==t&&(t.color=e)}function Vl(t){return null===t?null:t.left}function Zl(t){return null===t?null:t.right}function Wl(){this.root_=null,this.size_=0}Wl.prototype=new Fl,Wl.prototype.get=function(t){for(var e=this.root_;null!==e;){var r=t.compareTo(e.key);if(r<0)e=e.left;else{if(!(r>0))return e.value;e=e.right}}return null},Wl.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var r,n,i=this.root_;do{if(r=i,(n=t.compareTo(i.key))<0)i=i.left;else{if(!(n>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:r,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?r.left=s:r.right=s,this.fixAfterInsertion(s),this.size_++,null},Wl.prototype.fixAfterInsertion=function(t){var e=this;for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(ql(t)===Vl(ql(ql(t)))){var r=Zl(ql(ql(t)));1===Ul(r)?(zl(ql(t),0),zl(r,0),zl(ql(ql(t)),1),t=ql(ql(t))):(t===Zl(ql(t))&&(t=ql(t),e.rotateLeft(t)),zl(ql(t),0),zl(ql(ql(t)),1),e.rotateRight(ql(ql(t))))}else{var n=Vl(ql(ql(t)));1===Ul(n)?(zl(ql(t),0),zl(n,0),zl(ql(ql(t)),1),t=ql(ql(t))):(t===Vl(ql(t))&&(t=ql(t),e.rotateRight(t)),zl(ql(t),0),zl(ql(ql(t)),1),e.rotateLeft(ql(ql(t))))}this.root_.color=0},Wl.prototype.values=function(){var t=new Il,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Wl.successor(e));)t.add(e.value);return t},Wl.prototype.entrySet=function(){var t=new Gl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Wl.successor(e));)t.add(e);return t},Wl.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Wl.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Wl.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Wl.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var r=t.parent,n=t;null!==r&&n===r.right;)n=r,r=r.parent;return r},Wl.prototype.size=function(){return this.size_};var Xl=function(){};function Yl(){}function Ql(){this.array_=[],arguments[0]instanceof Sl&&this.addAll(arguments[0])}Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl},Yl.prototype=new kl,Ql.prototype=new Yl,Ql.prototype.contains=function(t){for(var e=0,r=this.array_.length;e<r;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ql.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,r=this.array_.length;e<r;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ql.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ql.prototype.remove=function(t){throw new Dl},Ql.prototype.size=function(){return this.array_.length},Ql.prototype.isEmpty=function(){return 0===this.array_.length},Ql.prototype.toArray=function(){for(var t=[],e=0,r=this.array_.length;e<r;e++)t.push(this.array_[e]);return t},Ql.prototype.iterator=function(){return new Hl(this)};var Hl=function(t){this.treeSet_=t,this.position_=0};Hl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Cl;return this.treeSet_.array_[this.position_++]},Hl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Hl.prototype.remove=function(){throw new Dl};var Jl=function(){};Jl.sort=function(){var t,e,r,n,i=arguments[0];if(1===arguments.length)n=function(t,e){return t.compareTo(e)},i.sort(n);else if(2===arguments.length)r=arguments[1],n=function(t,e){return r.compare(t,e)},i.sort(n);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),r=arguments[3],n=function(t,e){return r.compare(t,e)},e.sort(n),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Jl.asList=function(t){for(var e=new Il,r=0,n=t.length;r<n;r++)e.add(t[r]);return e};var Kl=function(){},$l={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};$l.P.get=function(){return 0},$l.L.get=function(){return 1},$l.A.get=function(){return 2},$l.FALSE.get=function(){return-1},$l.TRUE.get=function(){return-2},$l.DONTCARE.get=function(){return-3},$l.SYM_FALSE.get=function(){return"F"},$l.SYM_TRUE.get=function(){return"T"},$l.SYM_DONTCARE.get=function(){return"*"},$l.SYM_P.get=function(){return"0"},$l.SYM_L.get=function(){return"1"},$l.SYM_A.get=function(){return"2"},Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl},Kl.toDimensionSymbol=function(t){switch(t){case Kl.FALSE:return Kl.SYM_FALSE;case Kl.TRUE:return Kl.SYM_TRUE;case Kl.DONTCARE:return Kl.SYM_DONTCARE;case Kl.P:return Kl.SYM_P;case Kl.L:return Kl.SYM_L;case Kl.A:return Kl.SYM_A}throw new bu("Unknown dimension value: "+t)},Kl.toDimensionValue=function(t){switch(ku.toUpperCase(t)){case Kl.SYM_FALSE:return Kl.FALSE;case Kl.SYM_TRUE:return Kl.TRUE;case Kl.SYM_DONTCARE:return Kl.DONTCARE;case Kl.SYM_P:return Kl.P;case Kl.SYM_L:return Kl.L;case Kl.SYM_A:return Kl.A}throw new bu("Unknown dimension symbol: "+t)},Object.defineProperties(Kl,$l);var tc=function(){};tc.prototype.filter=function(t){},tc.prototype.interfaces_=function(){return[]},tc.prototype.getClass=function(){return tc};var ec=function(){};ec.prototype.filter=function(t,e){},ec.prototype.isDone=function(){},ec.prototype.isGeometryChanged=function(){},ec.prototype.interfaces_=function(){return[]},ec.prototype.getClass=function(){return ec};var rc=function(t){function e(e,r){if(t.call(this,r),this._geometries=e||[],t.hasNullElements(this._geometries))throw new bu("geometries must not contain null elements")}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Qu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,r=0;r<this._geometries.length;r++)for(var n=this._geometries[r].getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(n._geometries[i],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Jl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Kl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Kl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),r=0;r<this._geometries.length;r++)e[r]=this._geometries[r].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ql(Jl.asList(this._geometries)),r=new Ql(Jl.asList(t._geometries));return this.compare(e,r)}if(2===arguments.length){for(var n=arguments[0],i=arguments[1],o=n,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,i);if(0!==h)return h;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){var t=this;if(Lu(arguments[0],gl))for(var e=arguments[0],r=0;r<this._geometries.length;r++)t._geometries[r].apply(e);else if(Lu(arguments[0],ec)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(t._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],tc)){var o=arguments[0];o.filter(this);for(var s=0;s<this._geometries.length;s++)t._geometries[s].apply(o)}else if(Lu(arguments[0],fl)){var a=arguments[0];a.filter(this);for(var u=0;u<this._geometries.length;u++)t._geometries[u].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),il.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var r=0;r<this._geometries.length;r++)e._geometries[r]=this._geometries[r].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),r=0;r<t.length;r++)t[r]=this._geometries[r].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,r),e}(pl),nc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return pl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,r)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Kl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),r=0;r<this._geometries.length;r++)e[t-1-r]=this._geometries[r].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new ic(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),r=0;r<t.length;r++)t[r]=this._geometries[r].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Xl]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,r),e}(rc),ic=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=vl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this._geom=r,this._geomFact=r.getFactory(),this._bnRule=n}};ic.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},ic.prototype.getBoundary=function(){return this._geom instanceof cc?this.boundaryLineString(this._geom):this._geom instanceof nc?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},ic.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},ic.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},ic.prototype.computeBoundaryCoordinates=function(t){var e=this,r=new Il;this._endpointMap=new Wl;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(e.addEndpoint(i.getCoordinateN(0)),e.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var o=this._endpointMap.entrySet().iterator();o.hasNext();){var s=o.next(),a=s.getValue().count;e._bnRule.isInBoundary(a)&&r.add(s.getKey())}return Tl.toCoordinateArray(r)},ic.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new oc,this._endpointMap.put(t,e)),e.count++},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new ic(t);return e.getBoundary()}if(2===arguments.length){var r=arguments[0],n=arguments[1],i=new ic(r,n);return i.getBoundary()}};var oc=function(){this.count=null};function sc(){}oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc};var ac=function(){},uc={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};ac.prototype.interfaces_=function(){return[]},ac.prototype.getClass=function(){return ac},ac.chars=function(t,e){for(var r=new Array(e).fill(null),n=0;n<e;n++)r[n]=t;return String(r)},ac.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},r=new function(){}(e);return t.printStackTrace(r),e.toString()}if(2===arguments.length){for(var n=arguments[0],i=arguments[1],o="",s=new function(){}(ac.getStackTrace(n)),a=new function(){}(s),u=0;u<i;u++)try{o+=a.readLine()+ac.NEWLINE}catch(t){if(!(t instanceof sc))throw t;il.shouldNeverReachHere()}return o}},ac.split=function(t,e){for(var r=e.length,n=new Il,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);n.add(s),o=(i=i.substring(o+r)).indexOf(e)}i.length>0&&n.add(i);for(var a=new Array(n.size()).fill(null),u=0;u<a.length;u++)a[u]=n.get(u);return a},ac.toString=function(){if(1===arguments.length){var t=arguments[0];return ac.SIMPLE_ORDINATE_FORMAT.format(t)}},ac.spaces=function(t){return ac.chars(" ",t)},uc.NEWLINE.get=function(){return Xu.getProperty("line.separator")},uc.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(ac,uc);var lc=function(){};lc.prototype.interfaces_=function(){return[]},lc.prototype.getClass=function(){return lc},lc.copyCoord=function(t,e,r,n){for(var i=Math.min(t.getDimension(),r.getDimension()),o=0;o<i;o++)r.setOrdinate(n,o,t.getOrdinate(e,o))},lc.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,zu.X)===t.getOrdinate(e-1,zu.X)&&t.getOrdinate(0,zu.Y)===t.getOrdinate(e-1,zu.Y)},lc.isEqual=function(t,e){var r=t.size();if(r!==e.size())return!1;for(var n=Math.min(t.getDimension(),e.getDimension()),i=0;i<r;i++)for(var o=0;o<n;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||xu.isNaN(s)&&xu.isNaN(a)))return!1}return!0},lc.extend=function(t,e,r){var n=t.create(r,e.getDimension()),i=e.size();if(lc.copy(e,0,n,0,i),i>0)for(var o=i;o<r;o++)lc.copy(e,i-1,n,o,1);return n},lc.reverse=function(t){for(var e=t.size()-1,r=Math.trunc(e/2),n=0;n<=r;n++)lc.swap(t,n,e-n)},lc.swap=function(t,e,r){if(e===r)return null;for(var n=0;n<t.getDimension();n++){var i=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(r,n)),t.setOrdinate(r,n,i)}},lc.copy=function(t,e,r,n,i){for(var o=0;o<i;o++)lc.copyCoord(t,e+o,r,n+o)},lc.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var r=t.getDimension(),n=new Fu;n.append("(");for(var i=0;i<e;i++){i>0&&n.append(" ");for(var o=0;o<r;o++)o>0&&n.append(","),n.append(ac.toString(t.getOrdinate(i,o)))}return n.append(")"),n.toString()}},lc.ensureValidRing=function(t,e){var r=e.size();return 0===r?e:r<=3?lc.createClosedRing(t,e,4):e.getOrdinate(0,zu.X)===e.getOrdinate(r-1,zu.X)&&e.getOrdinate(0,zu.Y)===e.getOrdinate(r-1,zu.Y)?e:lc.createClosedRing(t,e,r+1)},lc.createClosedRing=function(t,e,r){var n=t.create(r,e.getDimension()),i=e.size();lc.copy(e,0,n,0,i);for(var o=i;o<r;o++)lc.copy(e,0,n,o,1);return n};var cc=function(t){function e(e,r){t.call(this,r),this._points=null,this.init(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Qu:this._points.expandEnvelope(new Qu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),n._points.getCoordinate(i),r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=this,e=0;e<Math.trunc(this._points.size()/2);e++){var r=t._points.size()-1-e;if(!t._points.getCoordinate(e).equals(t._points.getCoordinate(r)))return t._points.getCoordinate(e).compareTo(t._points.getCoordinate(r))>0&&lc.reverse(t._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Kl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return cl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return lc.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=t,r=0,n=0;r<this._points.size()&&n<e._points.size();){var i=this._points.getCoordinate(r).compareTo(e._points.getCoordinate(n));if(0!==i)return i;r++,n++}return r<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],a=o;return s.compare(this._points,a._points)}},e.prototype.apply=function(){if(Lu(arguments[0],gl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Lu(arguments[0],ec)){var r=arguments[0];if(0===this._points.size())return null;for(var n=0;n<this._points.size()&&(r.filter(this._points,n),!r.isDone());n++);r.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],tc)){var i=arguments[0];i.filter(this)}else if(Lu(arguments[0],fl)){var o=arguments[0];o.filter(this)}},e.prototype.getBoundary=function(){return new ic(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new bu("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Xl]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,r),e}(pl),hc=function(){};hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var fc=function(t){function e(e,r){t.call(this,r),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Qu;var t=new Qu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),r))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Kl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var r=arguments[0],n=arguments[1],i=r;return n.compare(this._coordinates,i._coordinates)}},e.prototype.apply=function(){if(Lu(arguments[0],gl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Lu(arguments[0],ec)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Lu(arguments[0],tc)){var r=arguments[0];r.filter(this)}else if(Lu(arguments[0],fl)){var n=arguments[0];n.filter(this)}},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),il.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[hc]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,r),e}(pl),pc=function(){};pc.prototype.interfaces_=function(){return[]},pc.prototype.getClass=function(){return pc};var dc=function(t){function e(e,r,n){if(t.call(this,n),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===r&&(r=[]),t.hasNullElements(r))throw new bu("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(r))throw new bu("shell is empty but holes are not");this._shell=e,this._holes=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,r=this._shell.getCoordinates(),n=0;n<r.length;n++)t[++e]=r[n];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(cl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(cl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),r=0;r<5;r++){var n=t.getX(r);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;var i=t.getY(r);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,i=this._shell,o=n._shell;if(!i.equalsExact(o,r))return!1;if(this._holes.length!==n._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(n._holes[s],r))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Jl.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(e.isEmpty())return null;var n=new Array(e.getCoordinates().length-1).fill(null);Xu.arraycopy(e.getCoordinates(),0,n,0,n.length);var i=Tl.minCoordinate(e.getCoordinates());Tl.scroll(n,i),Xu.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],cl.isCCW(e.getCoordinates())===r&&Tl.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,r=t._shell;return e.compareToSameClass(r)}if(2===arguments.length){var n=arguments[0],i=arguments[1],o=n,s=this._shell,a=o._shell,u=s.compareToSameClass(a,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),h=0;h<l&&h<c;){var f=this.getInteriorRingN(h),p=o.getInteriorRingN(h),d=f.compareToSameClass(p,i);if(0!==d)return d;h++}return h<l?1:h<c?-1:0}},e.prototype.apply=function(t){var e=this;if(Lu(t,gl)){this._shell.apply(t);for(var r=0;r<this._holes.length;r++)e._holes[r].apply(t)}else if(Lu(t,ec)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(e._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Lu(t,tc))t.filter(this);else if(Lu(t,fl)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)e._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var r=0;r<this._holes.length;r++)e._holes[r]=this._holes[r].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),r=new Array(this._holes.length).fill(null),n=0;n<r.length;n++)r[n]=this._holes[n].copy();return new e(t,r,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[pc]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,r),e}(pl),yc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return pl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,r)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Kl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),r=0;r<t.length;r++)t[r]=this._geometries[r].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[hc]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,r),e}(rc),gc=function(t){function e(e,r){e instanceof Cu&&r instanceof Ac&&(e=r.getCoordinateSequenceFactory().create(e)),t.call(this,e,r),this.validateConstruction()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return pl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Kl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return lc.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new bu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new bu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},r.MINIMUM_VALID_SIZE.get=function(){return 4},r.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,r),e}(cc),vc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return pl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,r)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),r=0;r<this._geometries.length;r++)e[r]=this._geometries[r].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Il,e=0;e<this._geometries.length;e++)for(var r=this._geometries[e].getBoundary(),n=0;n<r.getNumGeometries();n++)t.add(r.getGeometryN(n));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),r=0;r<t.length;r++)t[r]=this._geometries[r].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[pc]},e.prototype.getClass=function(){return e},r.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,r),e}(rc),mc=function(t){this._factory=t||null,this._isUserDataCopied=!1},_c={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};mc.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},mc.prototype.edit=function(t,e){if(null===t)return null;var r=this.editInternal(t,e);return this._isUserDataCopied&&r.setUserData(t.getUserData()),r},mc.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof rc?this.editGeometryCollection(t,e):t instanceof dc?this.editPolygon(t,e):t instanceof fc||t instanceof cc?e.edit(t,this._factory):(il.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},mc.prototype.editGeometryCollection=function(t,e){for(var r=e.edit(t,this._factory),n=new Il,i=0;i<r.getNumGeometries();i++){var o=this.edit(r.getGeometryN(i),e);null===o||o.isEmpty()||n.add(o)}return r.getClass()===yc?this._factory.createMultiPoint(n.toArray([])):r.getClass()===nc?this._factory.createMultiLineString(n.toArray([])):r.getClass()===vc?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))},mc.prototype.editPolygon=function(t,e){var r=e.edit(t,this._factory);if(null===r&&(r=this._factory.createPolygon(null)),r.isEmpty())return r;var n=this.edit(r.getExteriorRing(),e);if(null===n||n.isEmpty())return this._factory.createPolygon();for(var i=new Il,o=0;o<r.getNumInteriorRing();o++){var s=this.edit(r.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(n,i.toArray([]))},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc},mc.GeometryEditorOperation=function(){},_c.NoOpGeometryOperation.get=function(){return bc},_c.CoordinateOperation.get=function(){return xc},_c.CoordinateSequenceOperation.get=function(){return wc},Object.defineProperties(mc,_c);var bc=function(){};bc.prototype.edit=function(t,e){return t},bc.prototype.interfaces_=function(){return[mc.GeometryEditorOperation]},bc.prototype.getClass=function(){return bc};var xc=function(){};xc.prototype.edit=function(t,e){var r=this.editCoordinates(t.getCoordinates(),t);return null===r?t:t instanceof gc?e.createLinearRing(r):t instanceof cc?e.createLineString(r):t instanceof fc?r.length>0?e.createPoint(r[0]):e.createPoint():t},xc.prototype.interfaces_=function(){return[mc.GeometryEditorOperation]},xc.prototype.getClass=function(){return xc};var wc=function(){};wc.prototype.edit=function(t,e){return t instanceof gc?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof cc?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof fc?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},wc.prototype.interfaces_=function(){return[mc.GeometryEditorOperation]},wc.prototype.getClass=function(){return wc};var Sc=function(){var t=this;if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var r=0;r<e;r++)t._coordinates[r]=new Cu}else if(Lu(arguments[0],zu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)t._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var o=arguments[0],s=arguments[1];this._coordinates=o,this._dimension=s,null===o&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],u=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=u;for(var l=0;l<a;l++)t._coordinates[l]=new Cu}},Pc={serialVersionUID:{configurable:!0}};Sc.prototype.setOrdinate=function(t,e,r){switch(e){case zu.X:this._coordinates[t].x=r;break;case zu.Y:this._coordinates[t].y=r;break;case zu.Z:this._coordinates[t].z=r;break;default:throw new bu("invalid ordinateIndex")}},Sc.prototype.size=function(){return this._coordinates.length},Sc.prototype.getOrdinate=function(t,e){switch(e){case zu.X:return this._coordinates[t].x;case zu.Y:return this._coordinates[t].y;case zu.Z:return this._coordinates[t].z}return xu.NaN},Sc.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],r=arguments[1];r.x=this._coordinates[e].x,r.y=this._coordinates[e].y,r.z=this._coordinates[e].z}},Sc.prototype.getCoordinateCopy=function(t){return new Cu(this._coordinates[t])},Sc.prototype.getDimension=function(){return this._dimension},Sc.prototype.getX=function(t){return this._coordinates[t].x},Sc.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Sc(t,this._dimension)},Sc.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Sc.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Sc(t,this._dimension)},Sc.prototype.toString=function(){if(this._coordinates.length>0){var t=new Fu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Sc.prototype.getY=function(t){return this._coordinates[t].y},Sc.prototype.toCoordinateArray=function(){return this._coordinates},Sc.prototype.interfaces_=function(){return[zu,Ou]},Sc.prototype.getClass=function(){return Sc},Pc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Sc,Pc);var Ec=function(){},Oc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ec.prototype.readResolve=function(){return Ec.instance()},Ec.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Sc(t)}if(Lu(arguments[0],zu)){var e=arguments[0];return new Sc(e)}}else if(2===arguments.length){var r=arguments[0],n=arguments[1];return n>3&&(n=3),n<2?new Sc(r):new Sc(r,n)}},Ec.prototype.interfaces_=function(){return[Nu,Ou]},Ec.prototype.getClass=function(){return Ec},Ec.instance=function(){return Ec.instanceObject},Oc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Oc.instanceObject.get=function(){return new Ec},Object.defineProperties(Ec,Oc);var Cc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Il,e=this.map_.values(),r=e.next();!r.done;)t.add(r.value),r=e.next();return t},e.prototype.entrySet=function(){var t=new Gl;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(Rl),Ic=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Nc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var r=arguments[0];this._modelType=t.FIXED,this.setScale(r)}else if(arguments[0]instanceof t){var n=arguments[0];this._modelType=n._modelType,this._scale=n._scale}},Mc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Ic.prototype.equals=function(t){if(!(t instanceof Ic))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Ic.prototype.compareTo=function(t){var e=t,r=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new Du(r).compareTo(new Du(n))},Ic.prototype.getScale=function(){return this._scale},Ic.prototype.isFloating=function(){return this._modelType===Ic.FLOATING||this._modelType===Ic.FLOATING_SINGLE},Ic.prototype.getType=function(){return this._modelType},Ic.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Ic.FLOATING?t="Floating":this._modelType===Ic.FLOATING_SINGLE?t="Floating-Single":this._modelType===Ic.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Ic.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return xu.isNaN(t)?t:this._modelType===Ic.FLOATING_SINGLE?t:this._modelType===Ic.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Cu){var e=arguments[0];if(this._modelType===Ic.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Ic.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Ic.FLOATING?t=16:this._modelType===Ic.FLOATING_SINGLE?t=6:this._modelType===Ic.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Ic.prototype.setScale=function(t){this._scale=Math.abs(t)},Ic.prototype.interfaces_=function(){return[Ou,Su]},Ic.prototype.getClass=function(){return Ic},Ic.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Mc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Mc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Ic,Mc);var Nc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Tc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Nc.prototype.readResolve=function(){return Nc.nameToTypeMap.get(this._name)},Nc.prototype.toString=function(){return this._name},Nc.prototype.interfaces_=function(){return[Ou]},Nc.prototype.getClass=function(){return Nc},Tc.serialVersionUID.get=function(){return-552860263173159e4},Tc.nameToTypeMap.get=function(){return new Cc},Object.defineProperties(Nc,Tc),Ic.Type=Nc,Ic.FIXED=new Nc("FIXED"),Ic.FLOATING=new Nc("FLOATING"),Ic.FLOATING_SINGLE=new Nc("FLOATING SINGLE");var Ac=function t(){this._precisionModel=new Ic,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Lu(arguments[0],Nu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Ic&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Lc={serialVersionUID:{configurable:!0}};Ac.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Cu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Cu(t.getMinX(),t.getMinY()),new Cu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Cu(t.getMinX(),t.getMinY()),new Cu(t.getMinX(),t.getMaxY()),new Cu(t.getMaxX(),t.getMaxY()),new Cu(t.getMaxX(),t.getMinY()),new Cu(t.getMinX(),t.getMinY())]),null)},Ac.prototype.createLineString=function(t){return t?t instanceof Array?new cc(this.getCoordinateSequenceFactory().create(t),this):Lu(t,zu)?new cc(t,this):void 0:new cc(this.getCoordinateSequenceFactory().create([]),this)},Ac.prototype.createMultiLineString=function(){if(0===arguments.length)return new nc(null,this);if(1===arguments.length){var t=arguments[0];return new nc(t,this)}},Ac.prototype.buildGeometry=function(t){for(var e=null,r=!1,n=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(r=!0),o.isGeometryCollectionOrDerived()&&(n=!0)}if(null===e)return this.createGeometryCollection();if(r||n)return this.createGeometryCollection(Ac.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof dc)return this.createMultiPolygon(Ac.toPolygonArray(t));if(a instanceof cc)return this.createMultiLineString(Ac.toLineStringArray(t));if(a instanceof fc)return this.createMultiPoint(Ac.toPointArray(t));il.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},Ac.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Ac.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Cu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Lu(arguments[0],zu)){var e=arguments[0];return new fc(e,this)}}},Ac.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ac.prototype.createPolygon=function(){if(0===arguments.length)return new dc(null,null,this);if(1===arguments.length){if(Lu(arguments[0],zu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof gc){var r=arguments[0];return this.createPolygon(r,null)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return new dc(n,i,this)}},Ac.prototype.getSRID=function(){return this._SRID},Ac.prototype.createGeometryCollection=function(){if(0===arguments.length)return new rc(null,this);if(1===arguments.length){var t=arguments[0];return new rc(t,this)}},Ac.prototype.createGeometry=function(t){return new mc(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Ac.prototype.getPrecisionModel=function(){return this._precisionModel},Ac.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Lu(arguments[0],zu)){var e=arguments[0];return new gc(e,this)}}},Ac.prototype.createMultiPolygon=function(){if(0===arguments.length)return new vc(null,this);if(1===arguments.length){var t=arguments[0];return new vc(t,this)}},Ac.prototype.createMultiPoint=function(){if(0===arguments.length)return new yc(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new yc(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Lu(arguments[0],zu)){var r=arguments[0];if(null===r)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(r.size()).fill(null),i=0;i<r.size();i++){var o=this.getCoordinateSequenceFactory().create(1,r.getDimension());lc.copy(r,i,o,0,1),n[i]=this.createPoint(o)}return this.createMultiPoint(n)}}},Ac.prototype.interfaces_=function(){return[Ou]},Ac.prototype.getClass=function(){return Ac},Ac.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.getDefaultCoordinateSequenceFactory=function(){return Ec.instance()},Ac.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ac.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Lc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ac,Lc);var jc=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Rc=function(t){this.geometryFactory=t||new Ac};Rc.prototype.read=function(t){var e,r=(e="string"==typeof t?JSON.parse(t):t).type;if(!Fc[r])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==jc.indexOf(r)?Fc[r].apply(this,[e.coordinates]):"GeometryCollection"===r?Fc[r].apply(this,[e.geometries]):Fc[r].apply(this,[e])},Rc.prototype.write=function(t){var e=t.getGeometryType();if(!Dc[e])throw new Error("Geometry is not supported");return Dc[e].apply(this,[t])};var Fc={Feature:function(t){var e={};for(var r in t)e[r]=t[r];if(t.geometry){var n=t.geometry.type;if(!Fc[n])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Fc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var r=0;r<t.features.length;++r)e.features.push(this.read(t.features[r]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push(new Cu(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Cu(t[0],t[1]),new Cu(t[2],t[1]),new Cu(t[2],t[3]),new Cu(t[0],t[3]),new Cu(t[0],t[1])])},Point:function(t){var e=new Cu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],r=0;r<t.length;++r)e.push(Fc.Point.apply(this,[t[r]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Fc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],r=0;r<t.length;++r)e.push(Fc.LineString.apply(this,[t[r]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Fc.coordinates.apply(this,[t[0]]),r=this.geometryFactory.createLinearRing(e),n=[],i=1;i<t.length;++i){var o=t[i],s=Fc.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);n.push(a)}return this.geometryFactory.createPolygon(r,n)},MultiPolygon:function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push(Fc.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],r=0;r<t.length;++r){var n=t[r];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},Dc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:Dc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],r=0;r<t._geometries.length;++r){var n=t._geometries[r],i=Dc.Point.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],r=t.getCoordinates(),n=0;n<r.length;++n){var i=r[n];e.push(Dc.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],r=0;r<t._geometries.length;++r){var n=t._geometries[r],i=Dc.LineString.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],r=Dc.LineString.apply(this,[t._shell]);e.push(r.coordinates);for(var n=0;n<t._holes.length;++n){var i=t._holes[n],o=Dc.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],r=0;r<t._geometries.length;++r){var n=t._geometries[r],i=Dc.Polygon.apply(this,[n]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],r=0;r<t._geometries.length;++r){var n=t._geometries[r],i=n.getGeometryType();e.push(Dc[i].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}},kc=function(t){this.geometryFactory=t||new Ac,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Rc(this.geometryFactory)};kc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Ic.FIXED&&this.reducePrecision(e),e},kc.prototype.reducePrecision=function(t){var e,r;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,r=t.points.length;e<r;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,r=t.geometries.length;e<r;e++)this.reducePrecision(t.geometries[e])};var Gc=function(){this.parser=new Rc(this.geometryFactory)};Gc.prototype.write=function(t){return this.parser.write(t)};var Bc=function(){},Uc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function qc(t){this.message=t||""}function zc(){this.array_=[]}Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc},Bc.opposite=function(t){return t===Bc.LEFT?Bc.RIGHT:t===Bc.RIGHT?Bc.LEFT:t},Uc.ON.get=function(){return 0},Uc.LEFT.get=function(){return 1},Uc.RIGHT.get=function(){return 2},Object.defineProperties(Bc,Uc),qc.prototype=new Error,qc.prototype.name="EmptyStackException",zc.prototype=new Ol,zc.prototype.add=function(t){return this.array_.push(t),!0},zc.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},zc.prototype.push=function(t){return this.array_.push(t),t},zc.prototype.pop=function(t){if(0===this.array_.length)throw new qc;return this.array_.pop()},zc.prototype.peek=function(){if(0===this.array_.length)throw new qc;return this.array_[this.array_.length-1]},zc.prototype.empty=function(){return 0===this.array_.length},zc.prototype.isEmpty=function(){return this.empty()},zc.prototype.search=function(t){return this.array_.indexOf(t)},zc.prototype.size=function(){return this.array_.length},zc.prototype.toArray=function(){for(var t=[],e=0,r=this.array_.length;e<r;e++)t.push(this.array_[e]);return t};var Vc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Vc.prototype.getCoordinate=function(){return this._minCoord},Vc.prototype.getRightmostSide=function(t,e){var r=this.getRightmostSideOfSegment(t,e);return r<0&&(r=this.getRightmostSideOfSegment(t,e-1)),r<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),r},Vc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();il.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],r=t[this._minIndex+1],n=cl.computeOrientation(this._minCoord,r,e),i=!1;(e.y<this._minCoord.y&&r.y<this._minCoord.y&&n===cl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&r.y>this._minCoord.y&&n===cl.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Vc.prototype.getRightmostSideOfSegment=function(t,e){var r=t.getEdge().getCoordinates();if(e<0||e+1>=r.length)return-1;if(r[e].y===r[e+1].y)return-1;var n=Bc.LEFT;return r[e].y<r[e+1].y&&(n=Bc.RIGHT),n},Vc.prototype.getEdge=function(){return this._orientedDe},Vc.prototype.checkForRightmostCoordinate=function(t){for(var e=this,r=t.getEdge().getCoordinates(),n=0;n<r.length-1;n++)(null===e._minCoord||r[n].x>e._minCoord.x)&&(e._minDe=t,e._minIndex=n,e._minCoord=r[n])},Vc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Vc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();r.isForward()&&this.checkForRightmostCoordinate(r)}il.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Bc.LEFT&&(this._orientedDe=this._minDe.getSym())},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Zc=function(t){function e(r,n){t.call(this,e.msgWithCoord(r,n)),this.pt=n?new Cu(n):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(rl),Wc=function(){this.array_=[]};Wc.prototype.addLast=function(t){this.array_.push(t)},Wc.prototype.removeFirst=function(){return this.array_.shift()},Wc.prototype.isEmpty=function(){return 0===this.array_.length};var Xc=function(){this._finder=null,this._dirEdgeList=new Il,this._nodes=new Il,this._rightMostCoord=null,this._env=null,this._finder=new Vc};Xc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Xc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Xc.prototype.computeNodeDepth=function(t){for(var e=null,r=t.getEdges().iterator();r.hasNext();){var n=r.next();if(n.isVisited()||n.getSym().isVisited()){e=n;break}}if(null===e)throw new Zc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Xc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Bc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Xc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Xc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Bc.RIGHT)>=1&&e.getDepth(Bc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Xc.prototype.computeDepths=function(t){var e=new Gl,r=new Wc,n=t.getNode();for(r.addLast(n),e.add(n),t.setVisited(!0);!r.isEmpty();){var i=r.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(r.addLast(a),e.add(a))}}}},Xc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Xc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Qu,e=this._dirEdgeList.iterator();e.hasNext();)for(var r=e.next().getEdge().getCoordinates(),n=0;n<r.length-1;n++)t.expandToInclude(r[n]);this._env=t}return this._env},Xc.prototype.addReachable=function(t){var e=new zc;for(e.add(t);!e.empty();){var r=e.pop();this.add(r,e)}},Xc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Bc.LEFT,t.getDepth(Bc.RIGHT)),e.setDepth(Bc.RIGHT,t.getDepth(Bc.LEFT))},Xc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var r=t.getEdges().iterator();r.hasNext();){var n=r.next();this._dirEdgeList.add(n);var i=n.getSym().getNode();i.isVisited()||e.push(i)}},Xc.prototype.getNodes=function(){return this._nodes},Xc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Xc.prototype.interfaces_=function(){return[Su]},Xc.prototype.getClass=function(){return Xc};var Yc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var r=arguments[0];this.init(1),this.location[Bc.ON]=r}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Bc.ON]=o,this.location[Bc.LEFT]=s,this.location[Bc.RIGHT]=a}};Yc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Yc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Tu.NONE)return!1;return!0},Yc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Tu.NONE&&(this.location[e]=t)},Yc.prototype.isLine=function(){return 1===this.location.length},Yc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Bc.ON]=this.location[Bc.ON],e[Bc.LEFT]=Tu.NONE,e[Bc.RIGHT]=Tu.NONE,this.location=e}for(var r=0;r<this.location.length;r++)this.location[r]===Tu.NONE&&r<t.location.length&&(this.location[r]=t.location[r])},Yc.prototype.getLocations=function(){return this.location},Yc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Bc.LEFT];this.location[Bc.LEFT]=this.location[Bc.RIGHT],this.location[Bc.RIGHT]=t},Yc.prototype.toString=function(){var t=new Fu;return this.location.length>1&&t.append(Tu.toLocationSymbol(this.location[Bc.LEFT])),t.append(Tu.toLocationSymbol(this.location[Bc.ON])),this.location.length>1&&t.append(Tu.toLocationSymbol(this.location[Bc.RIGHT])),t.toString()},Yc.prototype.setLocations=function(t,e,r){this.location[Bc.ON]=t,this.location[Bc.LEFT]=e,this.location[Bc.RIGHT]=r},Yc.prototype.get=function(t){return t<this.location.length?this.location[t]:Tu.NONE},Yc.prototype.isArea=function(){return this.location.length>1},Yc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Tu.NONE)return!0;return!1},Yc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Bc.ON,t)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];this.location[e]=r}},Yc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Tu.NONE)},Yc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Yc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Yc.prototype.interfaces_=function(){return[]},Yc.prototype.getClass=function(){return Yc};var Qc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Yc(e),this.elt[1]=new Yc(e)}else if(arguments[0]instanceof t){var r=arguments[0];this.elt[0]=new Yc(r.elt[0]),this.elt[1]=new Yc(r.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new Yc(Tu.NONE),this.elt[1]=new Yc(Tu.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Yc(o,s,a),this.elt[1]=new Yc(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Yc(Tu.NONE,Tu.NONE,Tu.NONE),this.elt[1]=new Yc(Tu.NONE,Tu.NONE,Tu.NONE),this.elt[u].setLocations(l,c,h)}};Qc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Qc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Qc.prototype.isNull=function(t){return this.elt[t].isNull()},Qc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];this.elt[e].setAllLocationsIfNull(r)}},Qc.prototype.isLine=function(t){return this.elt[t].isLine()},Qc.prototype.merge=function(t){for(var e=this,r=0;r<2;r++)null===e.elt[r]&&null!==t.elt[r]?e.elt[r]=new Yc(t.elt[r]):e.elt[r].merge(t.elt[r])},Qc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Qc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Bc.ON)}if(2===arguments.length){var e=arguments[0],r=arguments[1];return this.elt[e].get(r)}},Qc.prototype.toString=function(){var t=new Fu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Qc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Qc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Qc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Bc.ON,e)}else if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2];this.elt[r].setLocation(n,i)}},Qc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Qc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Qc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Yc(this.elt[t].location[0]))},Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.toLineLabel=function(t){for(var e=new Qc(Tu.NONE),r=0;r<2;r++)e.setLocation(r,t.getLocation(r));return e};var Hc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Il,this._pts=new Il,this._label=new Qc(Tu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Il,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Hc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=cl.isCCW(this._ring.getCoordinates())},Hc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Hc.prototype.computePoints=function(t){var e=this;this._startDe=t;var r=t,n=!0;do{if(null===r)throw new Zc("Found null DirectedEdge");if(r.getEdgeRing()===e)throw new Zc("Directed Edge visited twice during ring-building at "+r.getCoordinate());e._edges.add(r);var i=r.getLabel();il.isTrue(i.isArea()),e.mergeLabel(i),e.addPoints(r.getEdge(),r.isForward(),n),n=!1,e.setEdgeRing(r,e),r=e.getNext(r)}while(r!==this._startDe)},Hc.prototype.getLinearRing=function(){return this._ring},Hc.prototype.getCoordinate=function(t){return this._pts.get(t)},Hc.prototype.computeMaxNodeDegree=function(){var t=this;this._maxNodeDegree=0;var e=this._startDe;do{var r=e.getNode().getEdges().getOutgoingDegree(t);r>t._maxNodeDegree&&(t._maxNodeDegree=r),e=t.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},Hc.prototype.addPoints=function(t,e,r){var n=t.getCoordinates();if(e){var i=1;r&&(i=0);for(var o=i;o<n.length;o++)this._pts.add(n[o])}else{var s=n.length-2;r&&(s=n.length-1);for(var a=s;a>=0;a--)this._pts.add(n[a])}},Hc.prototype.isHole=function(){return this._isHole},Hc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Hc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!cl.isPointInRing(t,e.getCoordinates()))return!1;for(var r=this._holes.iterator();r.hasNext();)if(r.next().containsPoint(t))return!1;return!0},Hc.prototype.addHole=function(t){this._holes.add(t)},Hc.prototype.isShell=function(){return null===this._shell},Hc.prototype.getLabel=function(){return this._label},Hc.prototype.getEdges=function(){return this._edges},Hc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Hc.prototype.getShell=function(){return this._shell},Hc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],r=arguments[1],n=e.getLocation(r,Bc.RIGHT);if(n===Tu.NONE)return null;if(this._label.getLocation(r)===Tu.NONE)return this._label.setLocation(r,n),null}},Hc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Hc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),r=0;r<this._holes.size();r++)e[r]=this._holes.get(r).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Jc=function(t){function e(){var e=arguments[0],r=arguments[1];t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hc),Kc=function(t){function e(){var e=arguments[0],r=arguments[1];t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Il,e=this._startDe;do{if(null===e.getMinEdgeRing()){var r=new Jc(e,this._geometryFactory);t.add(r)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hc),$c=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};$c.prototype.setVisited=function(t){this._isVisited=t},$c.prototype.setInResult=function(t){this._isInResult=t},$c.prototype.isCovered=function(){return this._isCovered},$c.prototype.isCoveredSet=function(){return this._isCoveredSet},$c.prototype.setLabel=function(t){this._label=t},$c.prototype.getLabel=function(){return this._label},$c.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},$c.prototype.updateIM=function(t){il.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},$c.prototype.isInResult=function(){return this._isInResult},$c.prototype.isVisited=function(){return this._isVisited},$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c};var th=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],r=arguments[1];this._coord=e,this._edges=r,this._label=new Qc(0,Tu.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var r=Tu.NONE;if(r=this._label.getLocation(e),!t.isNull(e)){var n=t.getLocation(e);r!==Tu.BOUNDARY&&(r=n)}return r},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],r=arguments[1];null===this._label?this._label=new Qc(e,r):this._label.setLocation(e,r)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){var t=this;if(arguments[0]instanceof e){var r=arguments[0];this.mergeLabel(r._label)}else if(arguments[0]instanceof Qc)for(var n=arguments[0],i=0;i<2;i++){var o=t.computeMergedLocation(n,i),s=t._label.getLocation(i);s===Tu.NONE&&t._label.setLocation(i,o)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Tu.NONE;null!==this._label&&(e=this._label.getLocation(t));var r=null;switch(e){case Tu.BOUNDARY:r=Tu.INTERIOR;break;case Tu.INTERIOR:default:r=Tu.BOUNDARY}this._label.setLocation(t,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($c),eh=function(){this.nodeMap=new Wl,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};eh.prototype.find=function(t){return this.nodeMap.get(t)},eh.prototype.addNode=function(){if(arguments[0]instanceof Cu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof th){var r=arguments[0],n=this.nodeMap.get(r.getCoordinate());return null===n?(this.nodeMap.put(r.getCoordinate(),r),r):(n.mergeLabel(r),n)}},eh.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},eh.prototype.iterator=function(){return this.nodeMap.values().iterator()},eh.prototype.values=function(){return this.nodeMap.values()},eh.prototype.getBoundaryNodes=function(t){for(var e=new Il,r=this.iterator();r.hasNext();){var n=r.next();n.getLabel().getLocation(t)===Tu.BOUNDARY&&e.add(n)}return e},eh.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh};var rh=function(){},nh={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.isNorthern=function(t){return t===rh.NE||t===rh.NW},rh.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},rh.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var r=t<e?t:e;return 0===r&&3===(t>e?t:e)?3:r},rh.isInHalfPlane=function(t,e){return e===rh.SE?t===rh.SE||t===rh.SW:t===e||t===e+1},rh.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new bu("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?rh.NE:rh.SE:e>=0?rh.NW:rh.SW}if(arguments[0]instanceof Cu&&arguments[1]instanceof Cu){var r=arguments[0],n=arguments[1];if(n.x===r.x&&n.y===r.y)throw new bu("Cannot compute the quadrant for two identical points "+r);return n.x>=r.x?n.y>=r.y?rh.NE:rh.SE:n.y>=r.y?rh.NW:rh.SW}},nh.NE.get=function(){return 0},nh.NW.get=function(){return 1},nh.SW.get=function(){return 2},nh.SE.get=function(){return 3},Object.defineProperties(rh,nh);var ih=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],r=arguments[1],n=arguments[2];this._edge=e,this.init(r,n),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};ih.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:cl.computeOrientation(t._p0,t._p1,this._p1)},ih.prototype.getDy=function(){return this._dy},ih.prototype.getCoordinate=function(){return this._p0},ih.prototype.setNode=function(t){this._node=t},ih.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),r=this.getClass().getName(),n=r.lastIndexOf("."),i=r.substring(n+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},ih.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},ih.prototype.getDirectedCoordinate=function(){return this._p1},ih.prototype.getDx=function(){return this._dx},ih.prototype.getLabel=function(){return this._label},ih.prototype.getEdge=function(){return this._edge},ih.prototype.getQuadrant=function(){return this._quadrant},ih.prototype.getNode=function(){return this._node},ih.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),r=e.lastIndexOf(".");return"  "+e.substring(r+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},ih.prototype.computeLabel=function(t){},ih.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=rh.quadrant(this._dx,this._dy),il.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},ih.prototype.interfaces_=function(){return[Su]},ih.prototype.getClass=function(){return ih};var oh=function(t){function e(){var e=arguments[0],r=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=r,r)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Qc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Zc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=this,e=!0,r=0;r<2;r++)t._label.isArea(r)&&t._label.getLocation(r,Bc.LEFT)===Tu.INTERIOR&&t._label.getLocation(r,Bc.RIGHT)===Tu.INTERIOR||(e=!1);return e},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Bc.LEFT]+"/"+this._depth[Bc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Tu.EXTERIOR),r=!this._label.isArea(1)||this._label.allPositionsEqual(1,Tu.EXTERIOR);return t&&e&&r},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var r=this.getEdge().getDepthDelta();this._isForward||(r=-r);var n=1;t===Bc.LEFT&&(n=-1);var i=Bc.opposite(t),o=e+r*n;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Tu.EXTERIOR&&e===Tu.INTERIOR?1:t===Tu.INTERIOR&&e===Tu.EXTERIOR?-1:0},e}(ih),sh=function(){};sh.prototype.createNode=function(t){return new th(t,null)},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh};var ah=function(){if(this._edges=new Il,this._nodes=null,this._edgeEndList=new Il,0===arguments.length)this._nodes=new eh(new sh);else if(1===arguments.length){var t=arguments[0];this._nodes=new eh(t)}};ah.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var r=this._edges.get(e);r.print(t),r.eiList.print(t)}},ah.prototype.find=function(t){return this._nodes.find(t)},ah.prototype.addNode=function(){if(arguments[0]instanceof th){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Cu){var e=arguments[0];return this._nodes.addNode(e)}},ah.prototype.getNodeIterator=function(){return this._nodes.iterator()},ah.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},ah.prototype.debugPrintln=function(t){Xu.out.println(t)},ah.prototype.isBoundaryNode=function(t,e){var r=this._nodes.find(e);if(null===r)return!1;var n=r.getLabel();return null!==n&&n.getLocation(t)===Tu.BOUNDARY},ah.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},ah.prototype.matchInSameDirection=function(t,e,r,n){return!!t.equals(r)&&cl.computeOrientation(t,e,n)===cl.COLLINEAR&&rh.quadrant(t,e)===rh.quadrant(r,n)},ah.prototype.getEdgeEnds=function(){return this._edgeEndList},ah.prototype.debugPrint=function(t){Xu.out.print(t)},ah.prototype.getEdgeIterator=function(){return this._edges.iterator()},ah.prototype.findEdgeInSameDirection=function(t,e){for(var r=this,n=0;n<this._edges.size();n++){var i=r._edges.get(n),o=i.getCoordinates();if(r.matchInSameDirection(t,e,o[0],o[1]))return i;if(r.matchInSameDirection(t,e,o[o.length-1],o[o.length-2]))return i}return null},ah.prototype.insertEdge=function(t){this._edges.add(t)},ah.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var r=e.next();if(r.getEdge()===t)return r}return null},ah.prototype.addEdges=function(t){for(var e=this,r=t.iterator();r.hasNext();){var n=r.next();e._edges.add(n);var i=new oh(n,!0),o=new oh(n,!1);i.setSym(o),o.setSym(i),e.add(i),e.add(o)}},ah.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},ah.prototype.getNodes=function(){return this._nodes.values()},ah.prototype.findEdge=function(t,e){for(var r=0;r<this._edges.size();r++){var n=this._edges.get(r),i=n.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return n}return null},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var uh=function(){this._geometryFactory=null,this._shellList=new Il;var t=arguments[0];this._geometryFactory=t};uh.prototype.sortShellsAndHoles=function(t,e,r){for(var n=t.iterator();n.hasNext();){var i=n.next();i.isHole()?r.add(i):e.add(i)}},uh.prototype.computePolygons=function(t){for(var e=new Il,r=t.iterator();r.hasNext();){var n=r.next().toPolygon(this._geometryFactory);e.add(n)}return e},uh.prototype.placeFreeHoles=function(t,e){for(var r=e.iterator();r.hasNext();){var n=r.next();if(null===n.getShell()){var i=this.findEdgeRingContaining(n,t);if(null===i)throw new Zc("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(i)}}},uh.prototype.buildMinimalEdgeRings=function(t,e,r){for(var n=new Il,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):r.addAll(s)}else n.add(o)}return n},uh.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},uh.prototype.buildMaximalEdgeRings=function(t){for(var e=new Il,r=t.iterator();r.hasNext();){var n=r.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var i=new Kc(n,this._geometryFactory);e.add(i),i.setInResult()}}return e},uh.prototype.placePolygonHoles=function(t,e){for(var r=e.iterator();r.hasNext();){var n=r.next();n.isHole()&&n.setShell(t)}},uh.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},uh.prototype.findEdgeRingContaining=function(t,e){for(var r=t.getLinearRing(),n=r.getEnvelopeInternal(),i=r.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(n)&&cl.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},uh.prototype.findShell=function(t){for(var e=0,r=null,n=t.iterator();n.hasNext();){var i=n.next();i.isHole()||(r=i,e++)}return il.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),r},uh.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],r=arguments[1];ah.linkResultDirectedEdges(r);var n=this.buildMaximalEdgeRings(e),i=new Il,o=this.buildMinimalEdgeRings(n,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var lh=function(){};lh.prototype.getBounds=function(){},lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh};var ch=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};ch.prototype.getItem=function(){return this._item},ch.prototype.getBounds=function(){return this._bounds},ch.prototype.interfaces_=function(){return[lh,Ou]},ch.prototype.getClass=function(){return ch};var hh=function(){this._size=null,this._items=null,this._size=0,this._items=new Il,this._items.add(null)};hh.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},hh.prototype.size=function(){return this._size},hh.prototype.reorder=function(t){for(var e=this,r=null,n=this._items.get(t);2*t<=this._size&&((r=2*t)!==e._size&&e._items.get(r+1).compareTo(e._items.get(r))<0&&r++,e._items.get(r).compareTo(n)<0);t=r)e._items.set(t,e._items.get(r));this._items.set(t,n)},hh.prototype.clear=function(){this._size=0,this._items.clear()},hh.prototype.isEmpty=function(){return 0===this._size},hh.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh};var fh=function(){};fh.prototype.visitItem=function(t){},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh};var ph=function(){};ph.prototype.insert=function(t,e){},ph.prototype.remove=function(t,e){},ph.prototype.query=function(){},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph};var dh=function(){if(this._childBoundables=new Il,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},yh={serialVersionUID:{configurable:!0}};dh.prototype.getLevel=function(){return this._level},dh.prototype.size=function(){return this._childBoundables.size()},dh.prototype.getChildBoundables=function(){return this._childBoundables},dh.prototype.addChildBoundable=function(t){il.isTrue(null===this._bounds),this._childBoundables.add(t)},dh.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},dh.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},dh.prototype.interfaces_=function(){return[lh,Ou]},dh.prototype.getClass=function(){return dh},yh.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(dh,yh);var gh=function(){};gh.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},gh.min=function(t){return gh.sort(t),t.get(0)},gh.sort=function(t,e){var r=t.toArray();e?Jl.sort(r,e):Jl.sort(r);for(var n=t.iterator(),i=0,o=r.length;i<o;i++)n.next(),n.set(r[i])},gh.singletonList=function(t){var e=new Il;return e.add(t),e};var vh=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],r=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=r,this._distance=this.distance()};vh.prototype.expandToQueue=function(t,e){var r=vh.isComposite(this._boundable1),n=vh.isComposite(this._boundable2);if(r&&n)return vh.area(this._boundable1)>vh.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(r)return this.expand(this._boundable1,this._boundable2,t,e),null;if(n)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new bu("neither boundable is composite")},vh.prototype.isLeaves=function(){return!(vh.isComposite(this._boundable1)||vh.isComposite(this._boundable2))},vh.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},vh.prototype.expand=function(t,e,r,n){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new vh(o,e,this._itemDistance);s.getDistance()<n&&r.add(s)}},vh.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},vh.prototype.getDistance=function(){return this._distance},vh.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},vh.prototype.interfaces_=function(){return[Su]},vh.prototype.getClass=function(){return vh},vh.area=function(t){return t.getBounds().getArea()},vh.isComposite=function(t){return t instanceof dh};var mh=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Il,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var r=arguments[0];il.isTrue(r>1,"Node capacity must be greater than 1"),this._nodeCapacity=r}},_h={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};mh.prototype.getNodeCapacity=function(){return this._nodeCapacity},mh.prototype.lastNode=function(t){return t.get(t.size()-1)},mh.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,r=t.getChildBoundables().iterator();r.hasNext();){var n=r.next();n instanceof dh?e+=this.size(n):n instanceof ch&&(e+=1)}return e}},mh.prototype.removeItem=function(t,e){for(var r=null,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof ch&&i.getItem()===e&&(r=i)}return null!==r&&(t.getChildBoundables().remove(r),!0)},mh.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Il:t}if(1===arguments.length){for(var e=arguments[0],r=new Il,n=e.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof dh){var o=this.itemsTree(i);null!==o&&r.add(o)}else i instanceof ch?r.add(i.getItem()):il.shouldNeverReachHere()}return r.size()<=0?null:r}},mh.prototype.insert=function(t,e){il.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ch(t,e))},mh.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Il;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2];if(il.isTrue(r>-2),n.getLevel()===r)return i.add(n),null;for(var o=n.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof dh?this.boundablesAtLevel(r,s,i):(il.isTrue(s instanceof ch),-1===r&&i.add(s))}return null}},mh.prototype.query=function(){var t=this;if(1===arguments.length){var e=arguments[0];this.build();var r=new Il;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,r),r}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(Lu(arguments[2],fh)&&arguments[0]instanceof Object&&arguments[1]instanceof dh)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getChildBoundables(),l=0;l<u.size();l++){var c=u.get(l);t.getIntersectsOp().intersects(c.getBounds(),o)&&(c instanceof dh?t.query(o,c,a):c instanceof ch?a.visitItem(c.getItem()):il.shouldNeverReachHere())}else if(Lu(arguments[2],Ol)&&arguments[0]instanceof Object&&arguments[1]instanceof dh)for(var h=arguments[0],f=arguments[1],p=arguments[2],d=f.getChildBoundables(),y=0;y<d.size();y++){var g=d.get(y);t.getIntersectsOp().intersects(g.getBounds(),h)&&(g instanceof dh?t.query(h,g,p):g instanceof ch?p.add(g.getItem()):il.shouldNeverReachHere())}},mh.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},mh.prototype.getRoot=function(){return this.build(),this._root},mh.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2],o=this.removeItem(n,i);if(o)return!0;for(var s=null,a=n.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),r)&&u instanceof dh&&(o=this.remove(r,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(s),o}},mh.prototype.createHigherLevels=function(t,e){il.isTrue(!t.isEmpty());var r=this.createParentBoundables(t,e+1);return 1===r.size()?r.get(0):this.createHigherLevels(r,e+1)},mh.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=arguments[0],e=0,r=t.getChildBoundables().iterator();r.hasNext();){var n=r.next();if(n instanceof dh){var i=this.depth(n);i>e&&(e=i)}}return e+1}},mh.prototype.createParentBoundables=function(t,e){var r=this;il.isTrue(!t.isEmpty());var n=new Il;n.add(this.createNode(e));var i=new Il(t);gh.sort(i,this.getComparator());for(var o=i.iterator();o.hasNext();){var s=o.next();r.lastNode(n).getChildBoundables().size()===r.getNodeCapacity()&&n.add(r.createNode(e)),r.lastNode(n).addChildBoundable(s)}return n},mh.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},mh.prototype.interfaces_=function(){return[Ou]},mh.prototype.getClass=function(){return mh},mh.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},_h.IntersectsOp.get=function(){return bh},_h.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},_h.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(mh,_h);var bh=function(){},xh=function(){};xh.prototype.distance=function(t,e){},xh.prototype.interfaces_=function(){return[]},xh.prototype.getClass=function(){return xh};var wh=function(t){function e(r){r=r||e.DEFAULT_NODE_CAPACITY,t.call(this,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){il.isTrue(t.length>0);for(var r=new Il,n=0;n<t.length;n++)r.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return r},e.prototype.createNode=function(t){return new Sh(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],r=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,r)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var r=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){n[o]=new Il;for(var s=0;i.hasNext()&&s<r;){var a=i.next();n[o].add(a),s++}}return n},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var r=arguments[0],n=arguments[1];t.prototype.query.call(this,r,n)}else if(3===arguments.length)if(Lu(arguments[2],fh)&&arguments[0]instanceof Object&&arguments[1]instanceof dh){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(Lu(arguments[2],Ol)&&arguments[0]instanceof Object&&arguments[1]instanceof dh){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,r){return t.prototype.createParentBoundables.call(this,e,r)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],r=arguments[1];return t.prototype.remove.call(this,e,r)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,r){il.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Il(t);gh.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(o,r)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Lu(arguments[0],xh)){var t=arguments[0],r=new vh(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(r)}if(arguments[0]instanceof vh){var n=arguments[0];return this.nearestNeighbour(n,xu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Lu(arguments[1],xh)){var i=arguments[0],o=arguments[1],s=new vh(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof vh&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=u,c=null,h=new hh;for(h.add(a);!h.isEmpty()&&l>0;){var f=h.poll(),p=f.getDistance();if(p>=l)break;f.isLeaves()?(l=p,c=f):f.expandToQueue(h,l)}return[c.getBoundable(0).getItem(),c.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],y=arguments[1],g=arguments[2],v=new ch(d,y),m=new vh(this.getRoot(),v,g);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[ph,Ou]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return Sh},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[Eu]},compare:function(r,n){return t.compareDoubles(e.centreX(r.getBounds()),e.centreX(n.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[Eu]},compare:function(r,n){return t.compareDoubles(e.centreY(r.getBounds()),e.centreY(n.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,r),e}(mh),Sh=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var r=e.next();null===t?t=new Qu(r.getBounds()):t.expandToInclude(r.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dh),Ph=function(){};Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph},Ph.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Ph.compare=function(t,e,r){if(e.equals2D(r))return 0;var n=Ph.relativeSign(e.x,r.x),i=Ph.relativeSign(e.y,r.y);switch(t){case 0:return Ph.compareValue(n,i);case 1:return Ph.compareValue(i,n);case 2:return Ph.compareValue(i,-n);case 3:return Ph.compareValue(-n,i);case 4:return Ph.compareValue(-n,-i);case 5:return Ph.compareValue(-i,-n);case 6:return Ph.compareValue(-i,n);case 7:return Ph.compareValue(n,-i)}return il.shouldNeverReachHere("invalid octant value"),0},Ph.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Eh=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this._segString=t,this.coord=new Cu(e),this.segmentIndex=r,this._segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(r))};Eh.prototype.getCoordinate=function(){return this.coord},Eh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Eh.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ph.compare(this._segmentOctant,this.coord,e.coord)},Eh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Eh.prototype.isInterior=function(){return this._isInterior},Eh.prototype.interfaces_=function(){return[Su]},Eh.prototype.getClass=function(){return Eh};var Oh=function(){this._nodeMap=new Wl,this._edge=null;var t=arguments[0];this._edge=t};Oh.prototype.getSplitCoordinates=function(){var t=new Nl;this.addEndpoints();for(var e=this.iterator(),r=e.next();e.hasNext();){var n=e.next();this.addEdgeCoordinates(r,n,t),r=n}return t.toCoordinateArray()},Oh.prototype.addCollapsedNodes=function(){var t=new Il;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var r=e.next().intValue();this.add(this._edge.getCoordinate(r),r)}},Oh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Oh.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var r=this._edge.getCoordinate(e),n=this._edge.getCoordinate(e+2);r.equals2D(n)&&t.add(new Du(e+1))}},Oh.prototype.addEdgeCoordinates=function(t,e,r){var n=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(n);r.add(new Cu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)r.add(this._edge.getCoordinate(o));i&&r.add(new Cu(e.coord))},Oh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Oh.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),r=e.next();e.hasNext();){var n=e.next(),i=this.createSplitEdge(r,n);t.add(i),r=n}},Oh.prototype.findCollapseIndex=function(t,e,r){if(!t.coord.equals2D(e.coord))return!1;var n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(r[0]=t.segmentIndex+1,!0)},Oh.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),r=this.iterator(),n=r.next();r.hasNext();){var i=r.next();this.findCollapseIndex(n,i,e)&&t.add(new Du(e[0])),n=i}},Oh.prototype.getEdge=function(){return this._edge},Oh.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Oh.prototype.createSplitEdge=function(t,e){var r=e.segmentIndex-t.segmentIndex+2,n=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(n);i||r--;var o=new Array(r).fill(null),s=0;o[s++]=new Cu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new Cu(e.coord)),new Nh(o,this._edge.getData())},Oh.prototype.add=function(t,e){var r=new Eh(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(r);return null!==n?(il.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(r,r),r)},Oh.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),r=t.get(0).getCoordinate(0);if(!r.equals2D(e[0]))throw new rl("bad split edge start point at "+r);var n=t.get(t.size()-1).getCoordinates(),i=n[n.length-1];if(!i.equals2D(e[e.length-1]))throw new rl("bad split edge end point at "+i)},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Ch=function(){};Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ch.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new bu("Cannot compute the octant for point ( "+t+", "+e+" )");var r=Math.abs(t),n=Math.abs(e);return t>=0?e>=0?r>=n?0:1:r>=n?7:6:e>=0?r>=n?3:2:r>=n?4:5}if(arguments[0]instanceof Cu&&arguments[1]instanceof Cu){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new bu("Cannot compute the octant for two identical points "+i);return Ch.octant(s,a)}};var Ih=function(){};Ih.prototype.getCoordinates=function(){},Ih.prototype.size=function(){},Ih.prototype.getCoordinate=function(t){},Ih.prototype.isClosed=function(){},Ih.prototype.setData=function(t){},Ih.prototype.getData=function(){},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih};var Mh=function(){};Mh.prototype.addIntersection=function(t,e){},Mh.prototype.interfaces_=function(){return[Ih]},Mh.prototype.getClass=function(){return Mh};var Nh=function(){this._nodeList=new Oh(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Nh.prototype.getCoordinates=function(){return this._pts},Nh.prototype.size=function(){return this._pts.length},Nh.prototype.getCoordinate=function(t){return this._pts[t]},Nh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Nh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Nh.prototype.setData=function(t){this._data=t},Nh.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Ch.octant(t,e)},Nh.prototype.getData=function(){return this._data},Nh.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[3],o=new Cu(r.getIntersection(i));this.addIntersection(o,n)}},Nh.prototype.toString=function(){return el.toLineString(new Sc(this._pts))},Nh.prototype.getNodeList=function(){return this._nodeList},Nh.prototype.addIntersectionNode=function(t,e){var r=e,n=r+1;if(n<this._pts.length){var i=this._pts[n];t.equals2D(i)&&(r=n)}return this._nodeList.add(t,r)},Nh.prototype.addIntersections=function(t,e,r){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,r,n)},Nh.prototype.interfaces_=function(){return[Mh]},Nh.prototype.getClass=function(){return Nh},Nh.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Il;return Nh.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var r=arguments[0],n=arguments[1],i=r.iterator();i.hasNext();){var o=i.next();o.getNodeList().addSplitEdges(n)}};var Th=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Cu,this.p1=new Cu;else if(1===arguments.length){var t=arguments[0];this.p0=new Cu(t.p0),this.p1=new Cu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],r=arguments[1],n=arguments[2],i=arguments[3];this.p0=new Cu(e,r),this.p1=new Cu(n,i)}},Ah={serialVersionUID:{configurable:!0}};Th.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Th.prototype.orientationIndex=function(){if(arguments[0]instanceof Th){var t=arguments[0],e=cl.orientationIndex(this.p0,this.p1,t.p0),r=cl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&r>=0||e<=0&&r<=0?Math.max(e,r):0}if(arguments[0]instanceof Cu){var n=arguments[0];return cl.orientationIndex(this.p0,this.p1,n)}},Th.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Th.prototype.isVertical=function(){return this.p0.x===this.p1.x},Th.prototype.equals=function(t){if(!(t instanceof Th))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Th.prototype.intersection=function(t){var e=new al;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Th.prototype.project=function(){if(arguments[0]instanceof Cu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Cu(t);var e=this.projectionFactor(t),r=new Cu;return r.x=this.p0.x+e*(this.p1.x-this.p0.x),r.y=this.p0.y+e*(this.p1.y-this.p0.y),r}if(arguments[0]instanceof Th){var n=arguments[0],i=this.projectionFactor(n.p0),o=this.projectionFactor(n.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(n.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(n.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new Th(s,a)}},Th.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Th.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Th.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Th.prototype.distancePerpendicular=function(t){return cl.distancePointLinePerpendicular(t,this.p0,this.p1)},Th.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Th.prototype.midPoint=function(){return Th.midPoint(this.p0,this.p1)},Th.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,n=e*e+r*r;return n<=0?xu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*r)/n},Th.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var r=new Array(2).fill(null),n=xu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);n=o.distance(t.p0),r[0]=o,r[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<n&&(n=i,r[0]=s,r[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<n&&(n=i,r[0]=this.p0,r[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<n&&(n=i,r[0]=this.p1,r[1]=u),r},Th.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Th.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Th.prototype.getLength=function(){return this.p0.distance(this.p1)},Th.prototype.compareTo=function(t){var e=t,r=this.p0.compareTo(e.p0);return 0!==r?r:this.p1.compareTo(e.p1)},Th.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Th.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Th.prototype.lineIntersection=function(t){try{return Yu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof Wu))throw t}return null},Th.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Th.prototype.pointAlongOffset=function(t,e){var r=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new Cu(r-u,n+a)},Th.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],r=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=r.x,this.p1.y=r.y}},Th.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||xu.isNaN(e))&&(e=1),e},Th.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Th.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Th.prototype.distance=function(){if(arguments[0]instanceof Th){var t=arguments[0];return cl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Cu){var e=arguments[0];return cl.distancePointLine(e,this.p0,this.p1)}},Th.prototype.pointAlong=function(t){var e=new Cu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Th.prototype.hashCode=function(){var t=xu.doubleToLongBits(this.p0.x);t^=31*xu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),r=xu.doubleToLongBits(this.p1.x);return r^=31*xu.doubleToLongBits(this.p1.y),e^Math.trunc(r)^Math.trunc(r>>32)},Th.prototype.interfaces_=function(){return[Su,Ou]},Th.prototype.getClass=function(){return Th},Th.midPoint=function(t,e){return new Cu((t.x+e.x)/2,(t.y+e.y)/2)},Ah.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Th,Ah);var Lh=function(){this.tempEnv1=new Qu,this.tempEnv2=new Qu,this._overlapSeg1=new Th,this._overlapSeg2=new Th};Lh.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];t.getLineSegment(e,this._overlapSeg1),r.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh};var jh=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this._pts=t,this._start=e,this._end=r,this._context=n};jh.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},jh.prototype.computeSelect=function(t,e,r,n){var i=this._pts[e],o=this._pts[r];if(n.tempEnv1.init(i,o),r-e==1)return n.select(this,e),null;if(!t.intersects(n.tempEnv1))return null;var s=Math.trunc((e+r)/2);e<s&&this.computeSelect(t,e,s,n),s<r&&this.computeSelect(t,s,r,n)},jh.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,r=this._start;r<=this._end;r++)t[e++]=this._pts[r];return t},jh.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},jh.prototype.setId=function(t){this._id=t},jh.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},jh.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Qu(t,e)}return this._env},jh.prototype.getEndIndex=function(){return this._end},jh.prototype.getStartIndex=function(){return this._start},jh.prototype.getContext=function(){return this._context},jh.prototype.getId=function(){return this._id},jh.prototype.computeOverlapsInternal=function(t,e,r,n,i,o){var s=this._pts[t],a=this._pts[e],u=r._pts[n],l=r._pts[i];if(e-t==1&&i-n==1)return o.overlap(this,t,r,n),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((n+i)/2);t<c&&(n<h&&this.computeOverlapsInternal(t,c,r,n,h,o),h<i&&this.computeOverlapsInternal(t,c,r,h,i,o)),c<e&&(n<h&&this.computeOverlapsInternal(c,e,r,n,h,o),h<i&&this.computeOverlapsInternal(c,e,r,h,i,o))},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh};var Rh=function(){};Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.getChainStartIndices=function(t){var e=0,r=new Il;r.add(new Du(e));do{var n=Rh.findChainEnd(t,e);r.add(new Du(n)),e=n}while(e<t.length-1);return Rh.toIntArray(r)},Rh.findChainEnd=function(t,e){for(var r=e;r<t.length-1&&t[r].equals2D(t[r+1]);)r++;if(r>=t.length-1)return t.length-1;for(var n=rh.quadrant(t[r],t[r+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||rh.quadrant(t[i-1],t[i])===n);)i++;return i-1},Rh.getChains=function(){if(1===arguments.length){var t=arguments[0];return Rh.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],r=arguments[1],n=new Il,i=Rh.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new jh(e,i[o],i[o+1],r);n.add(s)}return n}},Rh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),r=0;r<e.length;r++)e[r]=t.get(r).intValue();return e};var Fh=function(){};Fh.prototype.computeNodes=function(t){},Fh.prototype.getNodedSubstrings=function(){},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh};var Dh=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Dh.prototype.setSegmentIntersector=function(t){this._segInt=t},Dh.prototype.interfaces_=function(){return[Fh]},Dh.prototype.getClass=function(){return Dh};var kh=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Il,this._index=new wh,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Nh.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=this,r=Rh.getChains(t.getCoordinates(),t).iterator();r.hasNext();){var n=r.next();n.setId(e._idCounter++),e._index.insert(n.getEnvelope(),n),e._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=this,e=new Gh(this._segInt),r=this._monoChains.iterator();r.hasNext();)for(var n=r.next(),i=t._index.query(n.getEnvelope()).iterator();i.hasNext();){var o=i.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,e),t._nOverlaps++),t._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},r.SegmentOverlapAction.get=function(){return Gh},Object.defineProperties(e,r),e}(Dh),Gh=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],r=arguments[1],n=arguments[2],i=arguments[3],o=e.getContext(),s=n.getContext();this._si.processIntersections(o,r,s,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lh),Bh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var r=arguments[0],n=arguments[1];this.setQuadrantSegments(r),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Uh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Bh.prototype.getEndCapStyle=function(){return this._endCapStyle},Bh.prototype.isSingleSided=function(){return this._isSingleSided},Bh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Bh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Bh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Bh.JOIN_ROUND&&(this._quadrantSegments=Bh.DEFAULT_QUADRANT_SEGMENTS)},Bh.prototype.getJoinStyle=function(){return this._joinStyle},Bh.prototype.setJoinStyle=function(t){this._joinStyle=t},Bh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Bh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Bh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Bh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Bh.prototype.getMitreLimit=function(){return this._mitreLimit},Bh.prototype.setMitreLimit=function(t){this._mitreLimit=t},Bh.prototype.setSingleSided=function(t){this._isSingleSided=t},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh},Bh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Uh.CAP_ROUND.get=function(){return 1},Uh.CAP_FLAT.get=function(){return 2},Uh.CAP_SQUARE.get=function(){return 3},Uh.JOIN_ROUND.get=function(){return 1},Uh.JOIN_MITRE.get=function(){return 2},Uh.JOIN_BEVEL.get=function(){return 3},Uh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Uh.DEFAULT_MITRE_LIMIT.get=function(){return 5},Uh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Bh,Uh);var qh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=cl.COUNTERCLOCKWISE,this._inputLine=t||null},zh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};qh.prototype.isDeletable=function(t,e,r,n){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[r];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,n)&&this.isShallowSampled(i,o,t,r,n)},qh.prototype.deleteShallowConcavities=function(){for(var t=this,e=1,r=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(r),i=!1;n<this._inputLine.length;){var o=!1;t.isDeletable(e,r,n,t._distanceTol)&&(t._isDeleted[r]=qh.DELETE,o=!0,i=!0),e=o?n:r,r=t.findNextNonDeletedIndex(e),n=t.findNextNonDeletedIndex(r)}return i},qh.prototype.isShallowConcavity=function(t,e,r,n){return cl.computeOrientation(t,e,r)===this._angleOrientation&&cl.distancePointLine(e,t,r)<n},qh.prototype.isShallowSampled=function(t,e,r,n,i){var o=Math.trunc((n-r)/qh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=r;s<n;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},qh.prototype.isConcave=function(t,e,r){var n=cl.computeOrientation(t,e,r)===this._angleOrientation;return n},qh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=cl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},qh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===qh.DELETE;)e++;return e},qh.prototype.isShallow=function(t,e,r,n){return cl.distancePointLine(e,t,r)<n},qh.prototype.collapseLine=function(){for(var t=new Nl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==qh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh},qh.simplify=function(t,e){return new qh(t).simplify(e)},zh.INIT.get=function(){return 0},zh.DELETE.get=function(){return 1},zh.KEEP.get=function(){return 1},zh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(qh,zh);var Vh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Il},Zh={COORDINATE_ARRAY_TYPE:{configurable:!0}};Vh.prototype.getCoordinates=function(){return this._ptList.toArray(Vh.COORDINATE_ARRAY_TYPE)},Vh.prototype.setPrecisionModel=function(t){this._precisionModel=t},Vh.prototype.addPt=function(t){var e=new Cu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Vh.prototype.revere=function(){},Vh.prototype.addPts=function(t,e){if(e)for(var r=0;r<t.length;r++)this.addPt(t[r]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},Vh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Vh.prototype.toString=function(){return(new Ac).createLineString(this.getCoordinates()).toString()},Vh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Cu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Vh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Zh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Vh,Zh);var Wh=function(){},Xh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.toDegrees=function(t){return 180*t/Math.PI},Wh.normalize=function(t){for(;t>Math.PI;)t-=Wh.PI_TIMES_2;for(;t<=-Math.PI;)t+=Wh.PI_TIMES_2;return t},Wh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],r=arguments[1],n=r.x-e.x,i=r.y-e.y;return Math.atan2(i,n)}},Wh.isAcute=function(t,e,r){var n=t.x-e.x,i=t.y-e.y;return n*(r.x-e.x)+i*(r.y-e.y)>0},Wh.isObtuse=function(t,e,r){var n=t.x-e.x,i=t.y-e.y;return n*(r.x-e.x)+i*(r.y-e.y)<0},Wh.interiorAngle=function(t,e,r){var n=Wh.angle(e,t),i=Wh.angle(e,r);return Math.abs(i-n)},Wh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Wh.PI_TIMES_2;t>=Wh.PI_TIMES_2&&(t=0)}else{for(;t>=Wh.PI_TIMES_2;)t-=Wh.PI_TIMES_2;t<0&&(t=0)}return t},Wh.angleBetween=function(t,e,r){var n=Wh.angle(e,t),i=Wh.angle(e,r);return Wh.diff(n,i)},Wh.diff=function(t,e){var r=null;return(r=t<e?e-t:t-e)>Math.PI&&(r=2*Math.PI-r),r},Wh.toRadians=function(t){return t*Math.PI/180},Wh.getTurn=function(t,e){var r=Math.sin(e-t);return r>0?Wh.COUNTERCLOCKWISE:r<0?Wh.CLOCKWISE:Wh.NONE},Wh.angleBetweenOriented=function(t,e,r){var n=Wh.angle(e,t),i=Wh.angle(e,r)-n;return i<=-Math.PI?i+Wh.PI_TIMES_2:i>Math.PI?i-Wh.PI_TIMES_2:i},Xh.PI_TIMES_2.get=function(){return 2*Math.PI},Xh.PI_OVER_2.get=function(){return Math.PI/2},Xh.PI_OVER_4.get=function(){return Math.PI/4},Xh.COUNTERCLOCKWISE.get=function(){return cl.COUNTERCLOCKWISE},Xh.CLOCKWISE.get=function(){return cl.CLOCKWISE},Xh.NONE.get=function(){return cl.COLLINEAR},Object.defineProperties(Wh,Xh);var Yh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Th,this._seg1=new Th,this._offset0=new Th,this._offset1=new Th,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],r=arguments[1],n=arguments[2];this._precisionModel=e,this._bufParams=r,this._li=new al,this._filletAngleQuantum=Math.PI/2/r.getQuadrantSegments(),r.getQuadrantSegments()>=8&&r.getJoinStyle()===Bh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},Qh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Yh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var r=cl.computeOrientation(this._s0,this._s1,this._s2),n=r===cl.CLOCKWISE&&this._side===Bc.LEFT||r===cl.COUNTERCLOCKWISE&&this._side===Bc.RIGHT;0===r?this.addCollinear(e):n?this.addOutsideTurn(r,e):this.addInsideTurn(r,e)},Yh.prototype.addLineEndCap=function(t,e){var r=new Th(t,e),n=new Th;this.computeOffsetSegment(r,Bc.LEFT,this._distance,n);var i=new Th;this.computeOffsetSegment(r,Bc.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Bh.CAP_ROUND:this._segList.addPt(n.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,cl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Bh.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(i.p1);break;case Bh.CAP_SQUARE:var u=new Cu;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new Cu(n.p1.x+u.x,n.p1.y+u.y),c=new Cu(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Yh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Yh.prototype.addMitreJoin=function(t,e,r,n){var i=!0,o=null;try{o=Yu.intersection(e.p0,e.p1,r.p0,r.p1),(n<=0?1:o.distance(t)/Math.abs(n))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof Wu))throw t;o=new Cu(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,r,n,this._bufParams.getMitreLimit())},Yh.prototype.addFilletCorner=function(t,e,r,n,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=r.x-t.x,l=r.y-t.y,c=Math.atan2(l,u);n===cl.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,n,i),this._segList.addPt(r)},Yh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Yh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Bh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Bh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Yh.prototype.createSquare=function(t){this._segList.addPt(new Cu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Cu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Cu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Cu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Yh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Yh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Yh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Yh.prototype.initSideSegments=function(t,e,r){this._s1=t,this._s2=e,this._side=r,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,r,this._distance,this._offset1)},Yh.prototype.addLimitedMitreJoin=function(t,e,r,n){var i=this._seg0.p1,o=Wh.angle(i,this._seg0.p0),s=Wh.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Wh.normalize(o+s),u=Wh.normalize(a+Math.PI),l=n*r,c=r-l*Math.abs(Math.sin(s)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new Cu(h,f),d=new Th(i,p),y=d.pointAlongOffset(1,c),g=d.pointAlongOffset(1,-c);this._side===Bc.LEFT?(this._segList.addPt(y),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(y))},Yh.prototype.computeOffsetSegment=function(t,e,r,n){var i=e===Bc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*r*o/a,l=i*r*s/a;n.p0.x=t.p0.x-l,n.p0.y=t.p0.y+u,n.p1.x=t.p1.x-l,n.p1.y=t.p1.y+u},Yh.prototype.addFilletArc=function(t,e,r,n,i){var o=n===cl.CLOCKWISE?-1:1,s=Math.abs(e-r),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new Cu;l<s;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},Yh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Yh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new Cu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var n=new Cu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Yh.prototype.createCircle=function(t){var e=new Cu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Yh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Yh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Vh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Yh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Yh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Bh.JOIN_BEVEL||this._bufParams.getJoinStyle()===Bh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,cl.CLOCKWISE,this._distance))},Yh.prototype.closeRing=function(){this._segList.closeRing()},Yh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Qh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Qh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Qh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Qh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Yh,Qh);var Hh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Hh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var r=e<0,n=Math.abs(e),i=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,r,i);var o=i.getCoordinates();return r&&Tl.reverse(o),o},Hh.prototype.computeSingleSidedBufferCurve=function(t,e,r){var n=this.simplifyTolerance(this._distance);if(e){r.addSegments(t,!0);var i=qh.simplify(t,-n),o=i.length-1;r.initSideSegments(i[o],i[o-1],Bc.LEFT),r.addFirstSegment();for(var s=o-2;s>=0;s--)r.addNextSegment(i[s],!0)}else{r.addSegments(t,!1);var a=qh.simplify(t,n),u=a.length-1;r.initSideSegments(a[0],a[1],Bc.LEFT),r.addFirstSegment();for(var l=2;l<=u;l++)r.addNextSegment(a[l],!0)}r.addLastSegment(),r.closeRing()},Hh.prototype.computeRingBufferCurve=function(t,e,r){var n=this.simplifyTolerance(this._distance);e===Bc.RIGHT&&(n=-n);var i=qh.simplify(t,n),o=i.length-1;r.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;r.addNextSegment(i[s],a)}r.closeRing()},Hh.prototype.computeLineBufferCurve=function(t,e){var r=this.simplifyTolerance(this._distance),n=qh.simplify(t,r),i=n.length-1;e.initSideSegments(n[0],n[1],Bc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(n[o],!0);e.addLastSegment(),e.addLineEndCap(n[i-1],n[i]);var s=qh.simplify(t,-r),a=s.length-1;e.initSideSegments(s[a],s[a-1],Bc.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Hh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Bh.CAP_ROUND:e.createCircle(t);break;case Bh.CAP_SQUARE:e.createSquare(t)}},Hh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var r=Math.abs(e),n=this.getSegGen(r);if(t.length<=1)this.computePointCurve(t[0],n);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,n)}else this.computeLineBufferCurve(t,n);return n.getCoordinates()},Hh.prototype.getBufferParameters=function(){return this._bufParams},Hh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Hh.prototype.getRingCurve=function(t,e,r){if(this._distance=r,t.length<=2)return this.getLineCurve(t,r);if(0===r)return Hh.copyCoordinates(t);var n=this.getSegGen(r);return this.computeRingBufferCurve(t,e,n),n.getCoordinates()},Hh.prototype.computeOffsetCurve=function(t,e,r){var n=this.simplifyTolerance(this._distance);if(e){var i=qh.simplify(t,-n),o=i.length-1;r.initSideSegments(i[o],i[o-1],Bc.LEFT),r.addFirstSegment();for(var s=o-2;s>=0;s--)r.addNextSegment(i[s],!0)}else{var a=qh.simplify(t,n),u=a.length-1;r.initSideSegments(a[0],a[1],Bc.LEFT),r.addFirstSegment();for(var l=2;l<=u;l++)r.addNextSegment(a[l],!0)}r.addLastSegment()},Hh.prototype.getSegGen=function(t){return new Yh(this._precisionModel,this._bufParams,t)},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Hh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),r=0;r<e.length;r++)e[r]=new Cu(t[r]);return e};var Jh=function(){this._subgraphs=null,this._seg=new Th,this._cga=new cl;var t=arguments[0];this._subgraphs=t},Kh={DepthSegment:{configurable:!0}};Jh.prototype.findStabbedSegments=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],r=new Il,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),o=i.getEnvelope();e.y<o.getMinY()||e.y>o.getMaxY()||t.findStabbedSegments(e,i.getDirectedEdges(),r)}return r}if(3===arguments.length)if(Lu(arguments[2],Ol)&&arguments[0]instanceof Cu&&arguments[1]instanceof oh)for(var s=arguments[0],a=arguments[1],u=arguments[2],l=a.getEdge().getCoordinates(),c=0;c<l.length-1;c++){t._seg.p0=l[c],t._seg.p1=l[c+1],t._seg.p0.y>t._seg.p1.y&&t._seg.reverse();var h=Math.max(t._seg.p0.x,t._seg.p1.x);if(!(h<s.x||t._seg.isHorizontal()||s.y<t._seg.p0.y||s.y>t._seg.p1.y||cl.computeOrientation(t._seg.p0,t._seg.p1,s)===cl.RIGHT)){var f=a.getDepth(Bc.LEFT);t._seg.p0.equals(l[c])||(f=a.getDepth(Bc.RIGHT));var p=new $h(t._seg,f);u.add(p)}}else if(Lu(arguments[2],Ol)&&arguments[0]instanceof Cu&&Lu(arguments[1],Ol))for(var d=arguments[0],y=arguments[1],g=arguments[2],v=y.iterator();v.hasNext();){var m=v.next();m.isForward()&&t.findStabbedSegments(d,m,g)}},Jh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:gh.min(e)._leftDepth},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},Kh.DepthSegment.get=function(){return $h},Object.defineProperties(Jh,Kh);var $h=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Th(t),this._leftDepth=e};$h.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var r=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==r||0!=(r=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?r:this._upwardSeg.compareTo(e._upwardSeg)},$h.prototype.compareX=function(t,e){var r=t.p0.compareTo(e.p0);return 0!==r?r:t.p1.compareTo(e.p1)},$h.prototype.toString=function(){return this._upwardSeg.toString()},$h.prototype.interfaces_=function(){return[Su]},$h.prototype.getClass=function(){return $h};var tf=function(t,e,r){this.p0=t||null,this.p1=e||null,this.p2=r||null};tf.prototype.area=function(){return tf.area(this.p0,this.p1,this.p2)},tf.prototype.signedArea=function(){return tf.signedArea(this.p0,this.p1,this.p2)},tf.prototype.interpolateZ=function(t){if(null===t)throw new bu("Supplied point is null.");return tf.interpolateZ(t,this.p0,this.p1,this.p2)},tf.prototype.longestSideLength=function(){return tf.longestSideLength(this.p0,this.p1,this.p2)},tf.prototype.isAcute=function(){return tf.isAcute(this.p0,this.p1,this.p2)},tf.prototype.circumcentre=function(){return tf.circumcentre(this.p0,this.p1,this.p2)},tf.prototype.area3D=function(){return tf.area3D(this.p0,this.p1,this.p2)},tf.prototype.centroid=function(){return tf.centroid(this.p0,this.p1,this.p2)},tf.prototype.inCentre=function(){return tf.inCentre(this.p0,this.p1,this.p2)},tf.prototype.interfaces_=function(){return[]},tf.prototype.getClass=function(){return tf},tf.area=function(t,e,r){return Math.abs(((r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y))/2)},tf.signedArea=function(t,e,r){return((r.x-t.x)*(e.y-t.y)-(e.x-t.x)*(r.y-t.y))/2},tf.det=function(t,e,r,n){return t*n-e*r},tf.interpolateZ=function(t,e,r,n){var i=e.x,o=e.y,s=r.x-i,a=n.x-i,u=r.y-o,l=n.y-o,c=s*l-a*u,h=t.x-i,f=t.y-o,p=(l*h-a*f)/c,d=(-u*h+s*f)/c;return e.z+p*(r.z-e.z)+d*(n.z-e.z)},tf.longestSideLength=function(t,e,r){var n=t.distance(e),i=e.distance(r),o=r.distance(t),s=n;return i>s&&(s=i),o>s&&(s=o),s},tf.isAcute=function(t,e,r){return!!Wh.isAcute(t,e,r)&&!!Wh.isAcute(e,r,t)&&!!Wh.isAcute(r,t,e)},tf.circumcentre=function(t,e,r){var n=r.x,i=r.y,o=t.x-n,s=t.y-i,a=e.x-n,u=e.y-i,l=2*tf.det(o,s,a,u),c=tf.det(s,o*o+s*s,u,a*a+u*u),h=tf.det(o,o*o+s*s,a,a*a+u*u);return new Cu(n-c/l,i+h/l)},tf.perpendicularBisector=function(t,e){var r=e.x-t.x,n=e.y-t.y,i=new Yu(t.x+r/2,t.y+n/2,1),o=new Yu(t.x-n+r/2,t.y+r+n/2,1);return new Yu(i,o)},tf.angleBisector=function(t,e,r){var n=e.distance(t),i=n/(n+e.distance(r)),o=r.x-t.x,s=r.y-t.y;return new Cu(t.x+i*o,t.y+i*s)},tf.area3D=function(t,e,r){var n=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=r.x-t.x,a=r.y-t.y,u=r.z-t.z,l=i*u-o*a,c=o*s-n*u,h=n*a-i*s,f=l*l+c*c+h*h,p=Math.sqrt(f)/2;return p},tf.centroid=function(t,e,r){var n=(t.x+e.x+r.x)/3,i=(t.y+e.y+r.y)/3;return new Cu(n,i)},tf.inCentre=function(t,e,r){var n=e.distance(r),i=t.distance(r),o=t.distance(e),s=n+i+o,a=(n*t.x+i*e.x+o*r.x)/s,u=(n*t.y+i*e.y+o*r.y)/s;return new Cu(a,u)};var ef=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Il;var t=arguments[0],e=arguments[1],r=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=r};ef.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),r=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(r,Tu.EXTERIOR,Tu.INTERIOR)},ef.prototype.addPolygon=function(t){var e=this,r=this._distance,n=Bc.LEFT;this._distance<0&&(r=-this._distance,n=Bc.RIGHT);var i=t.getExteriorRing(),o=Tl.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,r,n,Tu.EXTERIOR,Tu.INTERIOR);for(var s=0;s<t.getNumInteriorRing();s++){var a=t.getInteriorRingN(s),u=Tl.removeRepeatedPoints(a.getCoordinates());e._distance>0&&e.isErodedCompletely(a,-e._distance)||e.addPolygonRing(u,r,Bc.opposite(n),Tu.INTERIOR,Tu.EXTERIOR)}},ef.prototype.isTriangleErodedCompletely=function(t,e){var r=new tf(t[0],t[1],t[2]),n=r.inCentre();return cl.distancePointLine(n,r.p0,r.p1)<Math.abs(e)},ef.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Tl.removeRepeatedPoints(t.getCoordinates()),r=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(r,Tu.EXTERIOR,Tu.INTERIOR)},ef.prototype.addCurve=function(t,e,r){if(null===t||t.length<2)return null;var n=new Nh(t,new Qc(0,Tu.BOUNDARY,e,r));this._curveList.add(n)},ef.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},ef.prototype.addPolygonRing=function(t,e,r,n,i){if(0===e&&t.length<gc.MINIMUM_VALID_SIZE)return null;var o=n,s=i;t.length>=gc.MINIMUM_VALID_SIZE&&cl.isCCW(t)&&(o=i,s=n,r=Bc.opposite(r));var a=this._curveBuilder.getRingCurve(t,r,e);this.addCurve(a,o,s)},ef.prototype.add=function(t){if(t.isEmpty())return null;t instanceof dc?this.addPolygon(t):t instanceof cc?this.addLineString(t):t instanceof fc?this.addPoint(t):(t instanceof yc||t instanceof nc||t instanceof vc||t instanceof rc)&&this.addCollection(t)},ef.prototype.isErodedCompletely=function(t,e){var r=t.getCoordinates();if(r.length<4)return e<0;if(4===r.length)return this.isTriangleErodedCompletely(r,e);var n=t.getEnvelopeInternal(),i=Math.min(n.getHeight(),n.getWidth());return e<0&&2*Math.abs(e)>i},ef.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);this.add(r)}},ef.prototype.interfaces_=function(){return[]},ef.prototype.getClass=function(){return ef};var rf=function(){};rf.prototype.locate=function(t){},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var nf=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};nf.prototype.next=function(){if(this._atStart)return this._atStart=!1,nf.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Cl;var t=this._parent.getGeometryN(this._index++);return t instanceof rc?(this._subcollectionIterator=new nf(t),this._subcollectionIterator.next()):t},nf.prototype.remove=function(){throw new Error(this.getClass().getName())},nf.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},nf.prototype.interfaces_=function(){return[El]},nf.prototype.getClass=function(){return nf},nf.isAtomic=function(t){return!(t instanceof rc)};var of=function(){this._geom=null;var t=arguments[0];this._geom=t};of.prototype.locate=function(t){return of.locate(t,this._geom)},of.prototype.interfaces_=function(){return[rf]},of.prototype.getClass=function(){return of},of.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&cl.isPointInRing(t,e.getCoordinates())},of.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var r=e.getExteriorRing();if(!of.isPointInRing(t,r))return!1;for(var n=0;n<e.getNumInteriorRing();n++){var i=e.getInteriorRingN(n);if(of.isPointInRing(t,i))return!1}return!0},of.containsPoint=function(t,e){if(e instanceof dc)return of.containsPointInPolygon(t,e);if(e instanceof rc)for(var r=new nf(e);r.hasNext();){var n=r.next();if(n!==e&&of.containsPoint(t,n))return!0}return!1},of.locate=function(t,e){return e.isEmpty()?Tu.EXTERIOR:of.containsPoint(t,e)?Tu.INTERIOR:Tu.EXTERIOR};var sf=function(){this._edgeMap=new Wl,this._edgeList=null,this._ptInAreaLocation=[Tu.NONE,Tu.NONE]};sf.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),r=e-1;return 0===e&&(r=this._edgeList.size()-1),this._edgeList.get(r)},sf.prototype.propagateSideLabels=function(t){for(var e=Tu.NONE,r=this.iterator();r.hasNext();){var n=r.next().getLabel();n.isArea(t)&&n.getLocation(t,Bc.LEFT)!==Tu.NONE&&(e=n.getLocation(t,Bc.LEFT))}if(e===Tu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Bc.ON)===Tu.NONE&&a.setLocation(t,Bc.ON,i),a.isArea(t)){var u=a.getLocation(t,Bc.LEFT),l=a.getLocation(t,Bc.RIGHT);if(l!==Tu.NONE){if(l!==i)throw new Zc("side location conflict",s.getCoordinate());u===Tu.NONE&&il.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else il.isTrue(a.getLocation(t,Bc.LEFT)===Tu.NONE,"found single null side"),a.setLocation(t,Bc.RIGHT,i),a.setLocation(t,Bc.LEFT,i)}}},sf.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},sf.prototype.print=function(t){Xu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},sf.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},sf.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var r=e.size()-1,n=e.get(r).getLabel().getLocation(t,Bc.LEFT);il.isTrue(n!==Tu.NONE,"Found unlabelled area edge");for(var i=n,o=this.iterator();o.hasNext();){var s=o.next().getLabel();il.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Bc.LEFT),u=s.getLocation(t,Bc.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},sf.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},sf.prototype.iterator=function(){return this.getEdges().iterator()},sf.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Il(this._edgeMap.values())),this._edgeList},sf.prototype.getLocation=function(t,e,r){return this._ptInAreaLocation[t]===Tu.NONE&&(this._ptInAreaLocation[t]=of.locate(e,r[t].getGeometry())),this._ptInAreaLocation[t]},sf.prototype.toString=function(){var t=new Fu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var r=e.next();t.append(r),t.append("\n")}return t.toString()},sf.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},sf.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],r=this.iterator();r.hasNext();)for(var n=r.next().getLabel(),i=0;i<2;i++)n.isLine(i)&&n.getLocation(i)===Tu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=Tu.NONE;if(e[u])l=Tu.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},sf.prototype.getDegree=function(){return this._edgeMap.size()},sf.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf};var af=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){var t=this;this.getResultAreaEdges();for(var e=null,r=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var o=t._resultAreaEdgeList.get(i),s=o.getSym();if(o.getLabel().isArea())switch(null===e&&o.isInResult()&&(e=o),n){case t._SCANNING_FOR_INCOMING:if(!s.isInResult())continue;r=s,n=t._LINKING_TO_OUTGOING;break;case t._LINKING_TO_OUTGOING:if(!o.isInResult())continue;r.setNext(o),n=t._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new Zc("no outgoing dirEdge found",this.getCoordinate());il.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),r.setNext(e)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var r=t.get(0);if(1===e)return r;var n=t.get(e-1),i=r.getQuadrant(),o=n.getQuadrant();return rh.isNorthern(i)&&rh.isNorthern(o)?r:rh.isNorthern(i)||rh.isNorthern(o)?0!==r.getDy()?r:0!==n.getDy()?n:(il.shouldNeverReachHere("found two horizontal edges incident on node"),null):n},e.prototype.print=function(t){Xu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var r=e.next();t.print("out "),r.print(t),t.println(),t.print("in "),r.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Il;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var r=e.next().getLabel();r.setAllLocationsIfNull(0,t.getLocation(0)),r.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,r=this._edgeList.size()-1;r>=0;r--){var n=this._edgeList.get(r),i=n.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=n}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),r=t.getDepth(Bc.LEFT),n=t.getDepth(Bc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),r),o=this.computeDepths(0,e,i);if(o!==n)throw new Zc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=u,c=s;c<a;c++){var h=this._edgeList.get(c);h.setEdgeDepths(Bc.RIGHT,l),l=h.getDepth(Bc.LEFT)}return l}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=this,r=null,n=null,i=this._SCANNING_FOR_INCOMING,o=this._resultAreaEdgeList.size()-1;o>=0;o--){var s=e._resultAreaEdgeList.get(o),a=s.getSym();switch(null===r&&s.getEdgeRing()===t&&(r=s),i){case e._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,i=e._LINKING_TO_OUTGOING;break;case e._LINKING_TO_OUTGOING:if(s.getEdgeRing()!==t)continue;n.setNextMin(s),i=e._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(il.isTrue(null!==r,"found null for first outgoing dirEdge"),il.isTrue(r.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(r))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var r=e.next();r.isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],i=0,o=this.iterator();o.hasNext();){var s=o.next();s.getEdgeRing()===n&&i++}return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Tu.NONE,e=this.iterator();e.hasNext();){var r=e.next(),n=r.getSym();if(!r.isLineEdge()){if(r.isInResult()){t=Tu.INTERIOR;break}if(n.isInResult()){t=Tu.EXTERIOR;break}}}if(t===Tu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===Tu.INTERIOR):(s.isInResult()&&(i=Tu.EXTERIOR),a.isInResult()&&(i=Tu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Qc(Tu.NONE);for(var r=this.iterator();r.hasNext();)for(var n=r.next().getEdge().getLabel(),i=0;i<2;i++){var o=n.getLocation(i);o!==Tu.INTERIOR&&o!==Tu.BOUNDARY||this._label.setLocation(i,Tu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sf),uf=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new th(t,new af)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(sh),lf=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};lf.prototype.compareTo=function(t){var e=t;return lf.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},lf.prototype.interfaces_=function(){return[Su]},lf.prototype.getClass=function(){return lf},lf.orientation=function(t){return 1===Tl.increasingDirection(t)},lf.compareOriented=function(t,e,r,n){for(var i=e?1:-1,o=n?1:-1,s=e?t.length:-1,a=n?r.length:-1,u=e?0:t.length-1,l=n?0:r.length-1;;){var c=t[u].compareTo(r[l]);if(0!==c)return c;var h=(u+=i)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var cf=function(){this._edges=new Il,this._ocaMap=new Wl};cf.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var r=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var n=r.getCoordinates(),i=0;i<n.length;i++)i>0&&t.print(","),t.print(n[i].x+" "+n[i].y);t.println(")")}t.print(")  ")},cf.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},cf.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},cf.prototype.iterator=function(){return this._edges.iterator()},cf.prototype.getEdges=function(){return this._edges},cf.prototype.get=function(t){return this._edges.get(t)},cf.prototype.findEqualEdge=function(t){var e=new lf(t.getCoordinates());return this._ocaMap.get(e)},cf.prototype.add=function(t){this._edges.add(t);var e=new lf(t.getCoordinates());this._ocaMap.put(e,t)},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var hf=function(){};hf.prototype.processIntersections=function(t,e,r,n){},hf.prototype.isDone=function(){},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf};var ff=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};ff.prototype.isTrivialIntersection=function(t,e,r,n){if(t===r&&1===this._li.getIntersectionNum()){if(ff.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&n===i||0===n&&e===i)return!0}}return!1},ff.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ff.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ff.prototype.getLineIntersector=function(){return this._li},ff.prototype.hasProperIntersection=function(){return this._hasProper},ff.prototype.processIntersections=function(t,e,r,n){if(t===r&&e===n)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=r.getCoordinates()[n],a=r.getCoordinates()[n+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,r,n)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),r.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},ff.prototype.hasIntersection=function(){return this._hasIntersection},ff.prototype.isDone=function(){return!1},ff.prototype.hasInteriorIntersection=function(){return this._hasInterior},ff.prototype.interfaces_=function(){return[hf]},ff.prototype.getClass=function(){return ff},ff.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var pf=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],r=arguments[2];this.coord=new Cu(t),this.segmentIndex=e,this.dist=r};pf.prototype.getSegmentIndex=function(){return this.segmentIndex},pf.prototype.getCoordinate=function(){return this.coord},pf.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},pf.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},pf.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},pf.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},pf.prototype.getDistance=function(){return this.dist},pf.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},pf.prototype.interfaces_=function(){return[Su]},pf.prototype.getClass=function(){return pf};var df=function(){this._nodeMap=new Wl,this.edge=null;var t=arguments[0];this.edge=t};df.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},df.prototype.iterator=function(){return this._nodeMap.values().iterator()},df.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),r=e.next();e.hasNext();){var n=e.next(),i=this.createSplitEdge(r,n);t.add(i),r=n}},df.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},df.prototype.createSplitEdge=function(t,e){var r=e.segmentIndex-t.segmentIndex+2,n=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(n);i||r--;var o=new Array(r).fill(null),s=0;o[s++]=new Cu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new _f(o,new Qc(this.edge._label))},df.prototype.add=function(t,e,r){var n=new pf(t,e,r),i=this._nodeMap.get(n);return null!==i?i:(this._nodeMap.put(n,n),n)},df.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df};var yf=function(){};yf.prototype.getChainStartIndices=function(t){var e=0,r=new Il;r.add(new Du(e));do{var n=this.findChainEnd(t,e);r.add(new Du(n)),e=n}while(e<t.length-1);return yf.toIntArray(r)},yf.prototype.findChainEnd=function(t,e){for(var r=rh.quadrant(t[e],t[e+1]),n=e+1;n<t.length&&rh.quadrant(t[n-1],t[n])===r;)n++;return n-1},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf},yf.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),r=0;r<e.length;r++)e[r]=t.get(r).intValue();return e};var gf=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Qu,this.env2=new Qu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new yf;this.startIndex=e.getChainStartIndices(this.pts)};gf.prototype.getCoordinates=function(){return this.pts},gf.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return e>r?e:r},gf.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,r=this.pts[this.startIndex[t+1]].x;return e<r?e:r},gf.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],r=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[r],e.startIndex[r+1],n)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),y=Math.trunc((a+u)/2);i<d&&(a<y&&this.computeIntersectsForChain(i,d,s,a,y,l),y<u&&this.computeIntersectsForChain(i,d,s,y,u,l)),d<o&&(a<y&&this.computeIntersectsForChain(d,o,s,a,y,l),y<u&&this.computeIntersectsForChain(d,o,s,y,u,l))}},gf.prototype.getStartIndexes=function(){return this.startIndex},gf.prototype.computeIntersects=function(t,e){for(var r=0;r<this.startIndex.length-1;r++)for(var n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(r,t,n,e)},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var vf=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var r=0;r<3;r++)this._depth[e][r]=t.NULL_VALUE},mf={NULL_VALUE:{configurable:!0}};vf.prototype.getDepth=function(t,e){return this._depth[t][e]},vf.prototype.setDepth=function(t,e,r){this._depth[t][e]=r},vf.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==vf.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===vf.NULL_VALUE}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this._depth[n][i]===vf.NULL_VALUE}},vf.prototype.normalize=function(){for(var t=this,e=0;e<2;e++)if(!t.isNull(e)){var r=t._depth[e][1];t._depth[e][2]<r&&(r=t._depth[e][2]),r<0&&(r=0);for(var n=1;n<3;n++){var i=0;t._depth[e][n]>r&&(i=1),t._depth[e][n]=i}}},vf.prototype.getDelta=function(t){return this._depth[t][Bc.RIGHT]-this._depth[t][Bc.LEFT]},vf.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Tu.EXTERIOR:Tu.INTERIOR},vf.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},vf.prototype.add=function(){var t=this;if(1===arguments.length)for(var e=arguments[0],r=0;r<2;r++)for(var n=1;n<3;n++){var i=e.getLocation(r,n);i!==Tu.EXTERIOR&&i!==Tu.INTERIOR||(t.isNull(r,n)?t._depth[r][n]=vf.depthAtLocation(i):t._depth[r][n]+=vf.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];a===Tu.INTERIOR&&this._depth[o][s]++}},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.depthAtLocation=function(t){return t===Tu.EXTERIOR?0:t===Tu.INTERIOR?1:vf.NULL_VALUE},mf.NULL_VALUE.get=function(){return-1},Object.defineProperties(vf,mf);var _f=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new df(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new vf,this._depthDelta=0,1===arguments.length){var r=arguments[0];e.call(this,r,null)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.pts=n,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Qc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var r=t;if(this.pts.length!==r.pts.length)return!1;for(var n=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(r.pts[s])||(n=!1),this.pts[s].equals2D(r.pts[--o])||(i=!1),!n&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new gf(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Qu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,r,n){var i=new Cu(t.getIntersection(n)),o=e,s=t.getEdgeDistance(r,n),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new Fu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,r){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],r=arguments[1];r.setAtLeastIfValid(e.getLocation(0,Bc.ON),e.getLocation(1,Bc.ON),1),e.isArea()&&(r.setAtLeastIfValid(e.getLocation(0,Bc.LEFT),e.getLocation(1,Bc.LEFT),2),r.setAtLeastIfValid(e.getLocation(0,Bc.RIGHT),e.getLocation(1,Bc.RIGHT),2))},e}($c),bf=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new cf,this._bufParams=t||null};bf.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},bf.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var r=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Qc(t.getLabel())).flip(),r.merge(n);var i=bf.depthDelta(n),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(bf.depthDelta(t.getLabel()))},bf.prototype.buildSubgraphs=function(t,e){for(var r=new Il,n=t.iterator();n.hasNext();){var i=n.next(),o=i.getRightmostCoordinate(),s=new Jh(r).getDepth(o);i.computeDepth(s),i.findResultEdges(),r.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},bf.prototype.createSubgraphs=function(t){for(var e=new Il,r=t.getNodes().iterator();r.hasNext();){var n=r.next();if(!n.isVisited()){var i=new Xc;i.create(n),e.add(i)}}return gh.sort(e,gh.reverseOrder()),e},bf.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},bf.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new kh,r=new al;return r.setPrecisionModel(t),e.setSegmentIntersector(new ff(r)),e},bf.prototype.buffer=function(t,e){var r=this._workingPrecisionModel;null===r&&(r=t.getPrecisionModel()),this._geomFact=t.getFactory();var n=new Hh(r,this._bufParams),i=new ef(t,e,n).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,r),this._graph=new ah(new uf),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new uh(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},bf.prototype.computeNodedEdges=function(t,e){var r=this.getNoder(e);r.computeNodes(t);for(var n=r.getNodedSubstrings().iterator();n.hasNext();){var i=n.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new _f(i.getCoordinates(),new Qc(s));this.insertUniqueEdge(a)}}},bf.prototype.setNoder=function(t){this._workingNoder=t},bf.prototype.interfaces_=function(){return[]},bf.prototype.getClass=function(){return bf},bf.depthDelta=function(t){var e=t.getLocation(0,Bc.LEFT),r=t.getLocation(0,Bc.RIGHT);return e===Tu.INTERIOR&&r===Tu.EXTERIOR?1:e===Tu.EXTERIOR&&r===Tu.INTERIOR?-1:0},bf.convertSegStrings=function(t){for(var e=new Ac,r=new Il;t.hasNext();){var n=t.next(),i=e.createLineString(n.getCoordinates());r.add(i)}return e.buildGeometry(r)};var xf=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3];this._noder=r,this._scaleFactor=n,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};xf.prototype.rescale=function(){var t=this;if(Lu(arguments[0],Sl))for(var e=arguments[0],r=e.iterator();r.hasNext();){var n=r.next();t.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){for(var i=arguments[0],o=0;o<i.length;o++)i[o].x=i[o].x/t._scaleFactor+t._offsetX,i[o].y=i[o].y/t._scaleFactor+t._offsetY;2===i.length&&i[0].equals2D(i[1])&&Xu.out.println(i)}},xf.prototype.scale=function(){var t=this;if(Lu(arguments[0],Sl)){for(var e=arguments[0],r=new Il,n=e.iterator();n.hasNext();){var i=n.next();r.add(new Nh(t.scale(i.getCoordinates()),i.getData()))}return r}if(arguments[0]instanceof Array){for(var o=arguments[0],s=new Array(o.length).fill(null),a=0;a<o.length;a++)s[a]=new Cu(Math.round((o[a].x-t._offsetX)*t._scaleFactor),Math.round((o[a].y-t._offsetY)*t._scaleFactor),o[a].z);var u=Tl.removeRepeatedPoints(s);return u}},xf.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},xf.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},xf.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},xf.prototype.interfaces_=function(){return[Fh]},xf.prototype.getClass=function(){return xf};var wf=function(){this._li=new al,this._segStrings=null;var t=arguments[0];this._segStrings=t},Sf={fact:{configurable:!0}};wf.prototype.checkEndPtVertexIntersections=function(){var t=this;if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var r=e.next(),n=r.getCoordinates();t.checkEndPtVertexIntersections(n[0],t._segStrings),t.checkEndPtVertexIntersections(n[n.length-1],t._segStrings)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=o.iterator();s.hasNext();)for(var a=s.next(),u=a.getCoordinates(),l=1;l<u.length-1;l++)if(u[l].equals(i))throw new rl("found endpt/interior pt intersection at index "+l+" :pt "+i)},wf.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),r=this._segStrings.iterator();r.hasNext();){var n=r.next();this.checkInteriorIntersections(e,n)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],y=c.getCoordinates()[h+1],g=f.getCoordinates()[p],v=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,y,g,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,y)||this.hasInteriorIntersection(this._li,g,v)))throw new rl("found non-noded intersection at "+d+"-"+y+" and "+g+"-"+v)}},wf.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},wf.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var r=arguments[0],n=r.getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},wf.prototype.hasInteriorIntersection=function(t,e,r){for(var n=0;n<t.getIntersectionNum();n++){var i=t.getIntersection(n);if(!i.equals(e)&&!i.equals(r))return!0}return!1},wf.prototype.checkCollapse=function(t,e,r){if(t.equals(r))throw new rl("found non-noded collapse at "+wf.fact.createLineString([t,e,r]))},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},Sf.fact.get=function(){return new Ac},Object.defineProperties(wf,Sf);var Pf=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],r=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=r,e<=0)throw new bu("Scale factor must be non-zero");1!==e&&(this._pt=new Cu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Cu,this._p1Scaled=new Cu),this.initCorners(this._pt)},Ef={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Pf.prototype.intersectsScaled=function(t,e){var r=Math.min(t.x,e.x),n=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<r||this._minx>n||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return il.isTrue(!(s&&a),"Found bad envelope test"),a},Pf.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new Cu(this._maxx,this._maxy),this._corner[1]=new Cu(this._minx,this._maxy),this._corner[2]=new Cu(this._minx,this._miny),this._corner[3]=new Cu(this._maxx,this._miny)},Pf.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Pf.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Pf.prototype.getCoordinate=function(){return this._originalPt},Pf.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Pf.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Pf.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Qu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Pf.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Pf.prototype.intersectsToleranceSquare=function(t,e){var r=!1,n=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||r&&n||t.equals(this._pt)||e.equals(this._pt)))))},Pf.prototype.addSnappedNode=function(t,e){var r=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(r,n)&&(t.addIntersection(this.getCoordinate(),e),!0)},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Ef.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Pf,Ef);var Of=function(){this.tempEnv1=new Qu,this.selectedSegment=new Th};Of.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of};var Cf=function(){this._index=null;var t=arguments[0];this._index=t},If={HotPixelSnapAction:{configurable:!0}};Cf.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],r=arguments[1],n=arguments[2],i=e.getSafeEnvelope(),o=new Mf(e,r,n);return this._index.query(i,{interfaces_:function(){return[fh]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},If.HotPixelSnapAction.get=function(){return Mf},Object.defineProperties(Cf,If);var Mf=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],r=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=r,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],r=arguments[1],n=e.getContext();if(null!==this._parentEdge&&n===this._parentEdge&&r===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Of),Nf=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Il};Nf.prototype.processIntersections=function(t,e,r,n){if(t===r&&e===n)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=r.getCoordinates()[n],a=r.getCoordinates()[n+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),r.addIntersections(this._li,n,1)}},Nf.prototype.isDone=function(){return!1},Nf.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Nf.prototype.interfaces_=function(){return[hf]},Nf.prototype.getClass=function(){return Nf};var Tf=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new al,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Tf.prototype.checkCorrectness=function(t){var e=Nh.getNodedSubstrings(t),r=new wf(e);try{r.checkValid()}catch(t){if(!(t instanceof Zu))throw t;t.printStackTrace()}},Tf.prototype.getNodedSubstrings=function(){return Nh.getNodedSubstrings(this._nodedSegStrings)},Tf.prototype.snapRound=function(t,e){var r=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(r),this.computeVertexSnaps(t)},Tf.prototype.findInteriorIntersections=function(t,e){var r=new Nf(e);return this._noder.setSegmentIntersector(r),this._noder.computeNodes(t),r.getInteriorIntersections()},Tf.prototype.computeVertexSnaps=function(){var t=this;if(Lu(arguments[0],Sl))for(var e=arguments[0],r=e.iterator();r.hasNext();){var n=r.next();t.computeVertexSnaps(n)}else if(arguments[0]instanceof Nh)for(var i=arguments[0],o=i.getCoordinates(),s=0;s<o.length;s++){var a=new Pf(o[s],t._scaleFactor,t._li),u=t._pointSnapper.snap(a,i,s);u&&i.addIntersection(o[s],s)}},Tf.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new kh,this._pointSnapper=new Cf(this._noder.getIndex()),this.snapRound(t,this._li)},Tf.prototype.computeIntersectionSnaps=function(t){for(var e=this,r=t.iterator();r.hasNext();){var n=r.next(),i=new Pf(n,e._scaleFactor,e._li);e._pointSnapper.snap(i)}},Tf.prototype.interfaces_=function(){return[Fh]},Tf.prototype.getClass=function(){return Tf};var Af=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Bh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],r=arguments[1];this._argGeom=e,this._bufParams=r}},Lf={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Af.prototype.bufferFixedPrecision=function(t){var e=new xf(new Tf(new Ic(1)),t.getScale()),r=new bf(this._bufParams);r.setWorkingPrecisionModel(t),r.setNoder(e),this._resultGeometry=r.buffer(this._argGeom,this._distance)},Af.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Af.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Zc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var r=arguments[0],n=Af.precisionScaleFactor(this._argGeom,this._distance,r),i=new Ic(n);this.bufferFixedPrecision(i)}},Af.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Ic.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Af.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Af.prototype.bufferOriginalPrecision=function(){try{var t=new bf(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof rl))throw t;this._saveException=t}},Af.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Af.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Af.prototype.interfaces_=function(){return[]},Af.prototype.getClass=function(){return Af},Af.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],r=new Af(t),n=r.getResultGeometry(e);return n}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof pl&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=arguments[2],a=new Af(i);a.setQuadrantSegments(s);var u=a.getResultGeometry(o);return u}if(arguments[2]instanceof Bh&&arguments[0]instanceof pl&&"number"==typeof arguments[1]){var l=arguments[0],c=arguments[1],h=arguments[2],f=new Af(l,h),p=f.getResultGeometry(c);return p}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],g=arguments[2],v=arguments[3],m=new Af(d);m.setQuadrantSegments(g),m.setEndCapStyle(v);var _=m.getResultGeometry(y);return _}},Af.precisionScaleFactor=function(t,e,r){var n=t.getEnvelopeInternal(),i=ju.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(e>0?e:0),o=r-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},Lf.CAP_ROUND.get=function(){return Bh.CAP_ROUND},Lf.CAP_BUTT.get=function(){return Bh.CAP_FLAT},Lf.CAP_FLAT.get=function(){return Bh.CAP_FLAT},Lf.CAP_SQUARE.get=function(){return Bh.CAP_SQUARE},Lf.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Af,Lf);var jf=function(){this._pt=[new Cu,new Cu],this._distance=xu.NaN,this._isNull=!0};jf.prototype.getCoordinates=function(){return this._pt},jf.prototype.getCoordinate=function(t){return this._pt[t]},jf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(e,r),null;var n=e.distance(r);n<this._distance&&this.initialize(e,r,n)}},jf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},jf.prototype.getDistance=function(){return this._distance},jf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(e,r),null;var n=e.distance(r);n>this._distance&&this.initialize(e,r,n)}},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var Rf=function(){};Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Rf.computeDistance=function(){if(arguments[2]instanceof jf&&arguments[0]instanceof cc&&arguments[1]instanceof Cu)for(var t=arguments[0],e=arguments[1],r=arguments[2],n=t.getCoordinates(),i=new Th,o=0;o<n.length-1;o++){i.setCoordinates(n[o],n[o+1]);var s=i.closestPoint(e);r.setMinimum(s,e)}else if(arguments[2]instanceof jf&&arguments[0]instanceof dc&&arguments[1]instanceof Cu){var a=arguments[0],u=arguments[1],l=arguments[2];Rf.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Rf.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof jf&&arguments[0]instanceof pl&&arguments[1]instanceof Cu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof cc)Rf.computeDistance(h,f,p);else if(h instanceof dc)Rf.computeDistance(h,f,p);else if(h instanceof rc)for(var d=h,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);Rf.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof jf&&arguments[0]instanceof Th&&arguments[1]instanceof Cu){var v=arguments[0],m=arguments[1],_=arguments[2],b=v.closestPoint(m);_.setMinimum(b,m)}};var Ff=function(t){this._maxPtDist=new jf,this._inputGeom=t||null},Df={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Ff.prototype.computeMaxMidpointDistance=function(t){var e=new Gf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ff.prototype.computeMaxVertexDistance=function(t){var e=new kf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Ff.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Ff.prototype.getDistancePoints=function(){return this._maxPtDist},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff},Df.MaxPointDistanceFilter.get=function(){return kf},Df.MaxMidpointDistanceFilter.get=function(){return Gf},Object.defineProperties(Ff,Df);var kf=function(t){this._maxPtDist=new jf,this._minPtDist=new jf,this._geom=t||null};kf.prototype.filter=function(t){this._minPtDist.initialize(),Rf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},kf.prototype.getMaxPointDistance=function(){return this._maxPtDist},kf.prototype.interfaces_=function(){return[gl]},kf.prototype.getClass=function(){return kf};var Gf=function(t){this._maxPtDist=new jf,this._minPtDist=new jf,this._geom=t||null};Gf.prototype.filter=function(t,e){if(0===e)return null;var r=t.getCoordinate(e-1),n=t.getCoordinate(e),i=new Cu((r.x+n.x)/2,(r.y+n.y)/2);this._minPtDist.initialize(),Rf.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Gf.prototype.isDone=function(){return!1},Gf.prototype.isGeometryChanged=function(){return!1},Gf.prototype.getMaxPointDistance=function(){return this._maxPtDist},Gf.prototype.interfaces_=function(){return[ec]},Gf.prototype.getClass=function(){return Gf};var Bf=function(t){this._comps=t||null};Bf.prototype.filter=function(t){t instanceof dc&&this._comps.add(t)},Bf.prototype.interfaces_=function(){return[tc]},Bf.prototype.getClass=function(){return Bf},Bf.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Bf.getPolygons(t,new Il)}if(2===arguments.length){var e=arguments[0],r=arguments[1];return e instanceof dc?r.add(e):e instanceof rc&&e.apply(new Bf(r)),r}};var Uf=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],r=arguments[1];this._lines=e,this._isForcedToLineString=r}};Uf.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof gc){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof cc&&this._lines.add(t)},Uf.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Uf.prototype.interfaces_=function(){return[fl]},Uf.prototype.getClass=function(){return Uf},Uf.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Uf.getLines(t))}if(2===arguments.length){var e=arguments[0],r=arguments[1];return e.getFactory().buildGeometry(Uf.getLines(e,r))}},Uf.getLines=function(){if(1===arguments.length){var t=arguments[0];return Uf.getLines(t,!1)}if(2===arguments.length){if(Lu(arguments[0],Sl)&&Lu(arguments[1],Sl)){for(var e=arguments[0],r=arguments[1],n=e.iterator();n.hasNext();){var i=n.next();Uf.getLines(i,r)}return r}if(arguments[0]instanceof pl&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Il;return o.apply(new Uf(a,s)),a}if(arguments[0]instanceof pl&&Lu(arguments[1],Sl)){var u=arguments[0],l=arguments[1];return u instanceof cc?l.add(u):u.apply(new Uf(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Lu(arguments[0],Sl)&&Lu(arguments[1],Sl)){for(var c=arguments[0],h=arguments[1],f=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();Uf.getLines(d,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof pl&&Lu(arguments[1],Sl)){var y=arguments[0],g=arguments[1],v=arguments[2];return y.apply(new Uf(g,v)),g}}};var qf=function(){if(this._boundaryRule=vl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new bu("Rule must be non-null");this._boundaryRule=t}};qf.prototype.locateInternal=function(){if(arguments[0]instanceof Cu&&arguments[1]instanceof dc){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Tu.EXTERIOR;var r=e.getExteriorRing(),n=this.locateInPolygonRing(t,r);if(n===Tu.EXTERIOR)return Tu.EXTERIOR;if(n===Tu.BOUNDARY)return Tu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===Tu.INTERIOR)return Tu.EXTERIOR;if(s===Tu.BOUNDARY)return Tu.BOUNDARY}return Tu.INTERIOR}if(arguments[0]instanceof Cu&&arguments[1]instanceof cc){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return Tu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?cl.isOnLine(a,l)?Tu.INTERIOR:Tu.EXTERIOR:Tu.BOUNDARY}if(arguments[0]instanceof Cu&&arguments[1]instanceof fc){var c=arguments[0],h=arguments[1],f=h.getCoordinate();return f.equals2D(c)?Tu.INTERIOR:Tu.EXTERIOR}},qf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?cl.locatePointInRing(t,e.getCoordinates()):Tu.EXTERIOR},qf.prototype.intersects=function(t,e){return this.locate(t,e)!==Tu.EXTERIOR},qf.prototype.updateLocationInfo=function(t){t===Tu.INTERIOR&&(this._isIn=!0),t===Tu.BOUNDARY&&this._numBoundaries++},qf.prototype.computeLocation=function(t,e){var r=this;if(e instanceof fc&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof cc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dc)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof nc)for(var n=e,i=0;i<n.getNumGeometries();i++){var o=n.getGeometryN(i);r.updateLocationInfo(r.locateInternal(t,o))}else if(e instanceof vc)for(var s=e,a=0;a<s.getNumGeometries();a++){var u=s.getGeometryN(a);r.updateLocationInfo(r.locateInternal(t,u))}else if(e instanceof rc)for(var l=new nf(e);l.hasNext();){var c=l.next();c!==e&&r.computeLocation(t,c)}},qf.prototype.locate=function(t,e){return e.isEmpty()?Tu.EXTERIOR:e instanceof cc||e instanceof dc?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Tu.BOUNDARY:this._numBoundaries>0||this._isIn?Tu.INTERIOR:Tu.EXTERIOR)},qf.prototype.interfaces_=function(){return[]},qf.prototype.getClass=function(){return qf};var zf=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],r=arguments[1];t.call(this,e,t.INSIDE_AREA,r)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._component=n,this._segIndex=i,this._pt=o}},Vf={INSIDE_AREA:{configurable:!0}};zf.prototype.isInsideArea=function(){return this._segIndex===zf.INSIDE_AREA},zf.prototype.getCoordinate=function(){return this._pt},zf.prototype.getGeometryComponent=function(){return this._component},zf.prototype.getSegmentIndex=function(){return this._segIndex},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},Vf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(zf,Vf);var Zf=function(t){this._pts=t||null};Zf.prototype.filter=function(t){t instanceof fc&&this._pts.add(t)},Zf.prototype.interfaces_=function(){return[tc]},Zf.prototype.getClass=function(){return Zf},Zf.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof fc?gh.singletonList(t):Zf.getPoints(t,new Il)}if(2===arguments.length){var e=arguments[0],r=arguments[1];return e instanceof fc?r.add(e):e instanceof rc&&e.apply(new Zf(r)),r}};var Wf=function(){this._locations=null;var t=arguments[0];this._locations=t};Wf.prototype.filter=function(t){(t instanceof fc||t instanceof cc||t instanceof dc)&&this._locations.add(new zf(t,0,t.getCoordinate()))},Wf.prototype.interfaces_=function(){return[tc]},Wf.prototype.getClass=function(){return Wf},Wf.getLocations=function(t){var e=new Il;return t.apply(new Wf(e)),e};var Xf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new qf,this._minDistanceLocation=null,this._minDistance=xu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=r,this._geom[1]=n,this._terminateDistance=i}};Xf.prototype.computeContainmentDistance=function(){var t=this;if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var r=arguments[0],n=arguments[1],i=1-r,o=Bf.getPolygons(this._geom[r]);if(o.size()>0){var s=Wf.getLocations(this._geom[i]);if(this.computeContainmentDistance(s,o,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[r]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Lu(arguments[0],Ol)&&Lu(arguments[1],Ol)){for(var a=arguments[0],u=arguments[1],l=arguments[2],c=0;c<a.size();c++)for(var h=a.get(c),f=0;f<u.size();f++)if(t.computeContainmentDistance(h,u.get(f),l),t._minDistance<=t._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof zf&&arguments[1]instanceof dc){var p=arguments[0],d=arguments[1],y=arguments[2],g=p.getCoordinate();if(Tu.EXTERIOR!==this._ptLocator.locate(g,d))return this._minDistance=0,y[0]=p,y[1]=new zf(d,g),null}},Xf.prototype.computeMinDistanceLinesPoints=function(t,e,r){for(var n=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(n.computeMinDistance(o,a,r),n._minDistance<=n._terminateDistance)return null}},Xf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Uf.getLines(this._geom[0]),r=Uf.getLines(this._geom[1]),n=Zf.getPoints(this._geom[0]),i=Zf.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(r,n,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,i,t),void this.updateMinDistance(t,!1))))},Xf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Xf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Xf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Xf.prototype.computeMinDistance=function(){var t=this;if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof cc&&arguments[1]instanceof fc){var e=arguments[0],r=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(r.getEnvelopeInternal())>this._minDistance)return null;for(var i=e.getCoordinates(),o=r.getCoordinate(),s=0;s<i.length-1;s++){var a=cl.distancePointLine(o,i[s],i[s+1]);if(a<t._minDistance){t._minDistance=a;var u=new Th(i[s],i[s+1]),l=u.closestPoint(o);n[0]=new zf(e,s,l),n[1]=new zf(r,0,o)}if(t._minDistance<=t._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof cc&&arguments[1]instanceof cc){var c=arguments[0],h=arguments[1],f=arguments[2];if(c.getEnvelopeInternal().distance(h.getEnvelopeInternal())>this._minDistance)return null;for(var p=c.getCoordinates(),d=h.getCoordinates(),y=0;y<p.length-1;y++)for(var g=0;g<d.length-1;g++){var v=cl.distanceLineLine(p[y],p[y+1],d[g],d[g+1]);if(v<t._minDistance){t._minDistance=v;var m=new Th(p[y],p[y+1]),_=new Th(d[g],d[g+1]),b=m.closestPoints(_);f[0]=new zf(c,y,b[0]),f[1]=new zf(h,g,b[1])}if(t._minDistance<=t._terminateDistance)return null}}},Xf.prototype.computeMinDistancePoints=function(t,e,r){for(var n=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s),u=o.getCoordinate().distance(a.getCoordinate());if(u<n._minDistance&&(n._minDistance=u,r[0]=new zf(o,0,o.getCoordinate()),r[1]=new zf(a,0,a.getCoordinate())),n._minDistance<=n._terminateDistance)return null}},Xf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new bu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Xf.prototype.computeMinDistanceLines=function(t,e,r){for(var n=this,i=0;i<t.size();i++)for(var o=t.get(i),s=0;s<e.size();s++){var a=e.get(s);if(n.computeMinDistance(o,a,r),n._minDistance<=n._terminateDistance)return null}},Xf.prototype.interfaces_=function(){return[]},Xf.prototype.getClass=function(){return Xf},Xf.distance=function(t,e){return new Xf(t,e).distance()},Xf.isWithinDistance=function(t,e,r){return new Xf(t,e,r).distance()<=r},Xf.nearestPoints=function(t,e){return new Xf(t,e).nearestPoints()};var Yf=function(){this._pt=[new Cu,new Cu],this._distance=xu.NaN,this._isNull=!0};Yf.prototype.getCoordinates=function(){return this._pt},Yf.prototype.getCoordinate=function(t){return this._pt[t]},Yf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(e,r),null;var n=e.distance(r);n<this._distance&&this.initialize(e,r,n)}},Yf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(r),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},Yf.prototype.toString=function(){return el.toLineString(this._pt[0],this._pt[1])},Yf.prototype.getDistance=function(){return this._distance},Yf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],r=arguments[1];if(this._isNull)return this.initialize(e,r),null;var n=e.distance(r);n>this._distance&&this.initialize(e,r,n)}},Yf.prototype.interfaces_=function(){return[]},Yf.prototype.getClass=function(){return Yf};var Qf=function(){};Qf.prototype.interfaces_=function(){return[]},Qf.prototype.getClass=function(){return Qf},Qf.computeDistance=function(){if(arguments[2]instanceof Yf&&arguments[0]instanceof cc&&arguments[1]instanceof Cu)for(var t=arguments[0],e=arguments[1],r=arguments[2],n=new Th,i=t.getCoordinates(),o=0;o<i.length-1;o++){n.setCoordinates(i[o],i[o+1]);var s=n.closestPoint(e);r.setMinimum(s,e)}else if(arguments[2]instanceof Yf&&arguments[0]instanceof dc&&arguments[1]instanceof Cu){var a=arguments[0],u=arguments[1],l=arguments[2];Qf.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Qf.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Yf&&arguments[0]instanceof pl&&arguments[1]instanceof Cu){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof cc)Qf.computeDistance(h,f,p);else if(h instanceof dc)Qf.computeDistance(h,f,p);else if(h instanceof rc)for(var d=h,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);Qf.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Yf&&arguments[0]instanceof Th&&arguments[1]instanceof Cu){var v=arguments[0],m=arguments[1],_=arguments[2],b=v.closestPoint(m);_.setMinimum(b,m)}};var Hf=function(){this._g0=null,this._g1=null,this._ptDist=new Yf,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Jf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Hf.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Hf.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new bu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Hf.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Hf.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Hf.prototype.computeOrientedDistance=function(t,e,r){var n=new Kf(e);if(t.apply(n),r.setMaximum(n.getMaxPointDistance()),this._densifyFrac>0){var i=new $f(e,this._densifyFrac);t.apply(i),r.setMaximum(i.getMaxPointDistance())}},Hf.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Hf.prototype.interfaces_=function(){return[]},Hf.prototype.getClass=function(){return Hf},Hf.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],r=new Hf(t,e);return r.distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],s=new Hf(n,i);return s.setDensifyFraction(o),s.distance()}},Jf.MaxPointDistanceFilter.get=function(){return Kf},Jf.MaxDensifiedByFractionDistanceFilter.get=function(){return $f},Object.defineProperties(Hf,Jf);var Kf=function(){this._maxPtDist=new Yf,this._minPtDist=new Yf,this._euclideanDist=new Qf,this._geom=null;var t=arguments[0];this._geom=t};Kf.prototype.filter=function(t){this._minPtDist.initialize(),Qf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Kf.prototype.getMaxPointDistance=function(){return this._maxPtDist},Kf.prototype.interfaces_=function(){return[gl]},Kf.prototype.getClass=function(){return Kf};var $f=function(){this._maxPtDist=new Yf,this._minPtDist=new Yf,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};$f.prototype.filter=function(t,e){var r=this;if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),o=(i.x-n.x)/this._numSubSegs,s=(i.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var u=n.x+a*o,l=n.y+a*s,c=new Cu(u,l);r._minPtDist.initialize(),Qf.computeDistance(r._geom,c,r._minPtDist),r._maxPtDist.setMaximum(r._minPtDist)}},$f.prototype.isDone=function(){return!1},$f.prototype.isGeometryChanged=function(){return!1},$f.prototype.getMaxPointDistance=function(){return this._maxPtDist},$f.prototype.interfaces_=function(){return[ec]},$f.prototype.getClass=function(){return $f};var tp=function(t,e,r){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=r||null},ep={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};tp.prototype.checkMaximumDistance=function(t,e,r){var n=new Hf(e,t);if(n.setDensifyFraction(.25),this._maxDistanceFound=n.orientedDistance(),this._maxDistanceFound>r){this._isValid=!1;var i=n.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+el.toLineString(i[0],i[1])+")"}},tp.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=tp.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),tp.VERBOSE&&Xu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},tp.prototype.checkNegativeValid=function(){if(!(this._input instanceof dc||this._input instanceof vc||this._input instanceof rc))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},tp.prototype.getErrorIndicator=function(){return this._errorIndicator},tp.prototype.checkMinimumDistance=function(t,e,r){var n=new Xf(t,e,r);if(this._minDistanceFound=n.distance(),this._minDistanceFound<r){this._isValid=!1;var i=n.nearestPoints();this._errorLocation=n.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+el.toLineString(i[0],i[1])+" )"}},tp.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},tp.prototype.getErrorLocation=function(){return this._errorLocation},tp.prototype.getPolygonLines=function(t){for(var e=new Il,r=new Uf(e),n=Bf.getPolygons(t).iterator();n.hasNext();)n.next().apply(r);return t.getFactory().buildGeometry(e)},tp.prototype.getErrorMessage=function(){return this._errMsg},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp},ep.VERBOSE.get=function(){return!1},ep.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(tp,ep);var rp=function(t,e,r){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=r||null},np={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};rp.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},rp.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*rp.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Qu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var r=new Qu(this._result.getEnvelopeInternal());r.expandBy(t),r.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(r)),this.report("Envelope")},rp.prototype.checkDistance=function(){var t=new tp(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},rp.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},rp.prototype.checkPolygonal=function(){this._result instanceof dc||this._result instanceof vc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},rp.prototype.getErrorIndicator=function(){return this._errorIndicator},rp.prototype.getErrorLocation=function(){return this._errorLocation},rp.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},rp.prototype.report=function(t){if(!rp.VERBOSE)return null;Xu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},rp.prototype.getErrorMessage=function(){return this._errorMsg},rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},rp.isValidMsg=function(t,e,r){var n=new rp(t,e,r);return n.isValid()?null:n.getErrorMessage()},rp.isValid=function(t,e,r){return!!new rp(t,e,r).isValid()},np.VERBOSE.get=function(){return!1},np.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(rp,np);var ip=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};ip.prototype.getCoordinates=function(){return this._pts},ip.prototype.size=function(){return this._pts.length},ip.prototype.getCoordinate=function(t){return this._pts[t]},ip.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},ip.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Ch.octant(this.getCoordinate(t),this.getCoordinate(t+1))},ip.prototype.setData=function(t){this._data=t},ip.prototype.getData=function(){return this._data},ip.prototype.toString=function(){return el.toLineString(new Sc(this._pts))},ip.prototype.interfaces_=function(){return[Ih]},ip.prototype.getClass=function(){return ip};var op=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Il,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};op.prototype.getInteriorIntersection=function(){return this._interiorIntersection},op.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},op.prototype.getIntersectionSegments=function(){return this._intSegments},op.prototype.count=function(){return this._intersectionCount},op.prototype.getIntersections=function(){return this._intersections},op.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},op.prototype.setKeepIntersections=function(t){this._keepIntersections=t},op.prototype.processIntersections=function(t,e,r,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===r&&e===n)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(r,n))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=r.getCoordinates()[n],a=r.getCoordinates()[n+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},op.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},op.prototype.hasIntersection=function(){return null!==this._interiorIntersection},op.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},op.prototype.interfaces_=function(){return[hf]},op.prototype.getClass=function(){return op},op.createAllIntersectionsFinder=function(t){var e=new op(t);return e.setFindAllIntersections(!0),e},op.createAnyIntersectionFinder=function(t){return new op(t)},op.createIntersectionCounter=function(t){var e=new op(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var sp=function(){this._li=new al,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};sp.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},sp.prototype.getIntersections=function(){return this._segInt.getIntersections()},sp.prototype.isValid=function(){return this.execute(),this._isValid},sp.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},sp.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new op(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new kh;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},sp.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Zc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},sp.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+el.toLineString(t[0],t[1])+" and "+el.toLineString(t[2],t[3])},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp},sp.computeIntersections=function(t){var e=new sp(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var ap=function t(){this._nv=null;var e=arguments[0];this._nv=new sp(t.toSegmentStrings(e))};ap.prototype.checkValid=function(){this._nv.checkValid()},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap},ap.toSegmentStrings=function(t){for(var e=new Il,r=t.iterator();r.hasNext();){var n=r.next();e.add(new ip(n.getCoordinates(),n))}return e},ap.checkValid=function(t){new ap(t).checkValid()};var up=function(t){this._mapOp=t};up.prototype.map=function(t){for(var e=new Il,r=0;r<t.getNumGeometries();r++){var n=this._mapOp.map(t.getGeometryN(r));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection(Ac.toGeometryArray(e))},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up},up.map=function(t,e){return new up(e).map(t)};var lp=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Il,this._resultLineList=new Il;var t=arguments[0],e=arguments[1],r=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=r};lp.prototype.collectLines=function(t){for(var e=this,r=this._op.getGraph().getEdgeEnds().iterator();r.hasNext();){var n=r.next();e.collectLineEdge(n,t,e._lineEdgesList),e.collectBoundaryTouchEdge(n,t,e._lineEdgesList)}},lp.prototype.labelIsolatedLine=function(t,e){var r=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,r)},lp.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},lp.prototype.collectLineEdge=function(t,e,r){var n=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!zp.isResultOfOp(n,e)||i.isCovered()||(r.add(i),t.setVisitedEdge(!0)))},lp.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var r=e.next(),n=r.getEdge();if(r.isLineEdge()&&!n.isCoveredSet()){var i=this._op.isCoveredByA(r.getCoordinate());n.setCovered(i)}}},lp.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next(),n=r.getLabel();r.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(r,0):this.labelIsolatedLine(r,1))}},lp.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var r=e.next(),n=this._geometryFactory.createLineString(r.getCoordinates());this._resultLineList.add(n),r.setInResult(!0)}},lp.prototype.collectBoundaryTouchEdge=function(t,e,r){var n=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(il.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(zp.isResultOfOp(n,e)&&e===zp.INTERSECTION&&(r.add(t.getEdge()),t.setVisitedEdge(!0))))},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var cp=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Il;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};cp.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var r=this._geometryFactory.createPoint(e);this._resultPointList.add(r)}},cp.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var r=e.next();if(!(r.isInResult()||r.isIncidentEdgeInResult()||0!==r.getEdges().getDegree()&&t!==zp.INTERSECTION)){var n=r.getLabel();zp.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(r)}}},cp.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var hp=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};hp.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},hp.prototype.transformPolygon=function(t,e){var r=!0,n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof gc&&!n.isEmpty()||(r=!1);for(var i=new Il,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof gc||(r=!1),i.add(s))}if(r)return this._factory.createPolygon(n,i.toArray([]));var a=new Il;return null!==n&&a.add(n),a.addAll(i),this._factory.buildGeometry(a)},hp.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},hp.prototype.getInputGeometry=function(){return this._inputGeom},hp.prototype.transformMultiLineString=function(t,e){for(var r=new Il,n=0;n<t.getNumGeometries();n++){var i=this.transformLineString(t.getGeometryN(n),t);null!==i&&(i.isEmpty()||r.add(i))}return this._factory.buildGeometry(r)},hp.prototype.transformCoordinates=function(t,e){return this.copy(t)},hp.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},hp.prototype.transformMultiPoint=function(t,e){for(var r=new Il,n=0;n<t.getNumGeometries();n++){var i=this.transformPoint(t.getGeometryN(n),t);null!==i&&(i.isEmpty()||r.add(i))}return this._factory.buildGeometry(r)},hp.prototype.transformMultiPolygon=function(t,e){for(var r=new Il,n=0;n<t.getNumGeometries();n++){var i=this.transformPolygon(t.getGeometryN(n),t);null!==i&&(i.isEmpty()||r.add(i))}return this._factory.buildGeometry(r)},hp.prototype.copy=function(t){return t.copy()},hp.prototype.transformGeometryCollection=function(t,e){for(var r=new Il,n=0;n<t.getNumGeometries();n++){var i=this.transform(t.getGeometryN(n));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||r.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ac.toGeometryArray(r)):this._factory.buildGeometry(r)},hp.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof fc)return this.transformPoint(t,null);if(t instanceof yc)return this.transformMultiPoint(t,null);if(t instanceof gc)return this.transformLinearRing(t,null);if(t instanceof cc)return this.transformLineString(t,null);if(t instanceof nc)return this.transformMultiLineString(t,null);if(t instanceof dc)return this.transformPolygon(t,null);if(t instanceof vc)return this.transformMultiPolygon(t,null);if(t instanceof rc)return this.transformGeometryCollection(t,null);throw new bu("Unknown Geometry subtype: "+t.getClass().getName())},hp.prototype.transformLinearRing=function(t,e){var r=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===r)return this._factory.createLinearRing(null);var n=r.size();return n>0&&n<4&&!this._preserveType?this._factory.createLineString(r):this._factory.createLinearRing(r)},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp};var fp=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Th,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof cc&&"number"==typeof arguments[1]){var e=arguments[0],r=arguments[1];t.call(this,e.getCoordinates(),r)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=i}};fp.prototype.snapVertices=function(t,e){for(var r=this._isClosed?t.size()-1:t.size(),n=0;n<r;n++){var i=t.get(n),o=this.findSnapForVertex(i,e);null!==o&&(t.set(n,new Cu(o)),0===n&&this._isClosed&&t.set(t.size()-1,new Cu(o)))}},fp.prototype.findSnapForVertex=function(t,e){for(var r=0;r<e.length;r++){if(t.equals2D(e[r]))return null;if(t.distance(e[r])<this._snapTolerance)return e[r]}return null},fp.prototype.snapTo=function(t){var e=new Nl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},fp.prototype.snapSegments=function(t,e){if(0===e.length)return null;var r=e.length;e[0].equals2D(e[e.length-1])&&(r=e.length-1);for(var n=0;n<r;n++){var i=e[n],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new Cu(i),!1)}},fp.prototype.findSegmentIndexToSnap=function(t,e){for(var r=this,n=xu.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(r._seg.p0=e.get(o),r._seg.p1=e.get(o+1),r._seg.p0.equals2D(t)||r._seg.p1.equals2D(t)){if(r._allowSnappingToSourceVertices)continue;return-1}var s=r._seg.distance(t);s<r._snapTolerance&&s<n&&(n=s,i=o)}return i},fp.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var pp=function(t){this._srcGeom=t||null},dp={SNAP_PRECISION_FACTOR:{configurable:!0}};pp.prototype.snapTo=function(t,e){var r=this.extractTargetCoordinates(t);return new yp(e,r).transform(this._srcGeom)},pp.prototype.snapToSelf=function(t,e){var r=this.extractTargetCoordinates(this._srcGeom),n=new yp(t,r,!0).transform(this._srcGeom),i=n;return e&&Lu(i,pc)&&(i=n.buffer(0)),i},pp.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},pp.prototype.extractTargetCoordinates=function(t){for(var e=new Ql,r=t.getCoordinates(),n=0;n<r.length;n++)e.add(r[n]);return e.toArray(new Array(0).fill(null))},pp.prototype.computeMinimumSegmentLength=function(t){for(var e=xu.MAX_VALUE,r=0;r<t.length-1;r++){var n=t[r].distance(t[r+1]);n<e&&(e=n)}return e},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},pp.snap=function(t,e,r){var n=new Array(2).fill(null),i=new pp(t);n[0]=i.snapTo(e,r);var o=new pp(e);return n[1]=o.snapTo(n[0],r),n},pp.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=pp.computeSizeBasedSnapTolerance(t),r=t.getPrecisionModel();if(r.getType()===Ic.FIXED){var n=1/r.getScale()*2/1.415;n>e&&(e=n)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(pp.computeOverlaySnapTolerance(i),pp.computeOverlaySnapTolerance(o))}},pp.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*pp.SNAP_PRECISION_FACTOR},pp.snapToSelf=function(t,e,r){return new pp(t).snapToSelf(e,r)},dp.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(pp,dp);var yp=function(t){function e(e,r,n){t.call(this),this._snapTolerance=e||null,this._snapPts=r||null,this._isSelfSnap=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var r=new fp(t,this._snapTolerance);return r.setAllowSnappingToSourceVertices(this._isSelfSnap),r.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var r=t.toCoordinateArray(),n=this.snapLine(r,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hp),gp=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};gp.prototype.getCommon=function(){return xu.longBitsToDouble(this._commonBits)},gp.prototype.add=function(t){var e=xu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=gp.signExpBits(this._commonBits),this._isFirst=!1,null):gp.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=gp.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=gp.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},gp.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=xu.longBitsToDouble(t),r=xu.toBinaryString(t),n="0000000000000000000000000000000000000000000000000000000000000000"+r,i=n.substring(n.length-64),o=i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]";return o}},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp},gp.getBit=function(t,e){return 0!=(t&1<<e)?1:0},gp.signExpBits=function(t){return t>>52},gp.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},gp.numCommonMostSigMantissaBits=function(t,e){for(var r=0,n=52;n>=0;n--){if(gp.getBit(t,n)!==gp.getBit(e,n))return r;r++}return 52};var vp=function(){this._commonCoord=null,this._ccFilter=new _p},mp={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};vp.prototype.addCommonBits=function(t){var e=new bp(this._commonCoord);t.apply(e),t.geometryChanged()},vp.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Cu(this._commonCoord);e.x=-e.x,e.y=-e.y;var r=new bp(e);return t.apply(r),t.geometryChanged(),t},vp.prototype.getCommonCoordinate=function(){return this._commonCoord},vp.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp},mp.CommonCoordinateFilter.get=function(){return _p},mp.Translater.get=function(){return bp},Object.defineProperties(vp,mp);var _p=function(){this._commonBitsX=new gp,this._commonBitsY=new gp};_p.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},_p.prototype.getCommonCoordinate=function(){return new Cu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},_p.prototype.interfaces_=function(){return[gl]},_p.prototype.getClass=function(){return _p};var bp=function(){this.trans=null;var t=arguments[0];this.trans=t};bp.prototype.filter=function(t,e){var r=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,r),t.setOrdinate(e,1,n)},bp.prototype.isDone=function(){return!1},bp.prototype.isGeometryChanged=function(){return!0},bp.prototype.interfaces_=function(){return[ec]},bp.prototype.getClass=function(){return bp};var xp=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};xp.prototype.selfSnap=function(t){return new pp(t).snapTo(t,this._snapTolerance)},xp.prototype.removeCommonBits=function(t){this._cbr=new vp,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},xp.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},xp.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),r=zp.overlayOp(e[0],e[1],t);return this.prepareResult(r)},xp.prototype.checkValid=function(t){t.isValid()||Xu.out.println("Snapped geometry is invalid")},xp.prototype.computeSnapTolerance=function(){this._snapTolerance=pp.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},xp.prototype.snap=function(t){var e=this.removeCommonBits(t);return pp.snap(e[0],e[1],this._snapTolerance)},xp.prototype.interfaces_=function(){return[]},xp.prototype.getClass=function(){return xp},xp.overlayOp=function(t,e,r){return new xp(t,e).getResultGeometry(r)},xp.union=function(t,e){return xp.overlayOp(t,e,zp.UNION)},xp.intersection=function(t,e){return xp.overlayOp(t,e,zp.INTERSECTION)},xp.symDifference=function(t,e){return xp.overlayOp(t,e,zp.SYMDIFFERENCE)},xp.difference=function(t,e){return xp.overlayOp(t,e,zp.DIFFERENCE)};var wp=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};wp.prototype.getResultGeometry=function(t){var e=null,r=!1,n=null;try{e=zp.overlayOp(this._geom[0],this._geom[1],t),r=!0}catch(t){if(!(t instanceof rl))throw t;n=t}if(!r)try{e=xp.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof rl?n:t}return e},wp.prototype.interfaces_=function(){return[]},wp.prototype.getClass=function(){return wp},wp.overlayOp=function(t,e,r){return new wp(t,e).getResultGeometry(r)},wp.union=function(t,e){return wp.overlayOp(t,e,zp.UNION)},wp.intersection=function(t,e){return wp.overlayOp(t,e,zp.INTERSECTION)},wp.symDifference=function(t,e){return wp.overlayOp(t,e,zp.SYMDIFFERENCE)},wp.difference=function(t,e){return wp.overlayOp(t,e,zp.DIFFERENCE)};var Sp=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Sp.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp};var Pp=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],r=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=r}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=n,this._xValue=i,this._obj=o}},Ep={INSERT:{configurable:!0},DELETE:{configurable:!0}};Pp.prototype.isDelete=function(){return this._eventType===Pp.DELETE},Pp.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Pp.prototype.getObject=function(){return this._obj},Pp.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Pp.prototype.getInsertEvent=function(){return this._insertEvent},Pp.prototype.isInsert=function(){return this._eventType===Pp.INSERT},Pp.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Pp.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Pp.prototype.interfaces_=function(){return[Su]},Pp.prototype.getClass=function(){return Pp},Ep.INSERT.get=function(){return 1},Ep.DELETE.get=function(){return 2},Object.defineProperties(Pp,Ep);var Op=function(){};Op.prototype.interfaces_=function(){return[]},Op.prototype.getClass=function(){return Op};var Cp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],r=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=r};Cp.prototype.isTrivialIntersection=function(t,e,r,n){if(t===r&&1===this._li.getIntersectionNum()){if(Cp.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&n===i||0===n&&e===i)return!0}}return!1},Cp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Cp.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Cp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Cp.prototype.isBoundaryPointInternal=function(t,e){for(var r=e.iterator();r.hasNext();){var n=r.next().getCoordinate();if(t.isIntersection(n))return!0}return!1},Cp.prototype.hasProperIntersection=function(){return this._hasProper},Cp.prototype.hasIntersection=function(){return this._hasIntersection},Cp.prototype.isDone=function(){return this._isDone},Cp.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Cp.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Cp.prototype.addIntersections=function(t,e,r,n){if(t===r&&e===n)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=r.getCoordinates()[n],a=r.getCoordinates()[n+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),r.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,r,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),r.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp},Cp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ip=function(t){function e(){t.call(this),this.events=new Il,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){gh.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var r=this.events.get(e);if(r.isInsert()&&this.processOverlaps(e,r.getDeleteEventIndex(),r,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Cp&&Lu(arguments[0],Ol)&&Lu(arguments[1],Ol)){var n=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(n,n),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Lu(arguments[0],Ol)&&arguments[1]instanceof Cp){var s=arguments[0],a=arguments[1],u=arguments[2];u?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var r=t.getMonotoneChainEdge(),n=r.getStartIndexes(),i=0;i<n.length-1;i++){var o=new Sp(r,i),s=new Pp(e,r.getMinX(i),o);this.events.add(s),this.events.add(new Pp(r.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,r,n){for(var i=r.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();r.isSameLabel(s)||(i.computeIntersections(a,n),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var r=e.next();this.addEdge(r,r)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],o=n.iterator();o.hasNext();){var s=o.next();this.addEdge(s,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Op),Mp=function(){this._min=xu.POSITIVE_INFINITY,this._max=xu.NEGATIVE_INFINITY},Np={NodeComparator:{configurable:!0}};Mp.prototype.getMin=function(){return this._min},Mp.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Mp.prototype.getMax=function(){return this._max},Mp.prototype.toString=function(){return el.toLineString(new Cu(this._min,0),new Cu(this._max,0))},Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Np.NodeComparator.get=function(){return Tp},Object.defineProperties(Mp,Np);var Tp=function(){};Tp.prototype.compare=function(t,e){var r=t,n=e,i=(r._min+r._max)/2,o=(n._min+n._max)/2;return i<o?-1:i>o?1:0},Tp.prototype.interfaces_=function(){return[Eu]},Tp.prototype.getClass=function(){return Tp};var Ap=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],r=arguments[1],n=arguments[2];this._min=e,this._max=r,this._item=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,r){if(!this.intersects(t,e))return null;r.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mp),Lp=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],r=arguments[1];this._node1=e,this._node2=r,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,r){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,r),null!==this._node2&&this._node2.query(t,e,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mp),jp=function(){this._leaves=new Il,this._root=null,this._level=0};jp.prototype.buildTree=function(){gh.sort(this._leaves,new Mp.NodeComparator);for(var t=this._leaves,e=null,r=new Il;;){if(this.buildLevel(t,r),1===r.size())return r.get(0);e=t,t=r,r=e}},jp.prototype.insert=function(t,e,r){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Ap(t,e,r))},jp.prototype.query=function(t,e,r){this.init(),this._root.query(t,e,r)},jp.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},jp.prototype.printNode=function(t){Xu.out.println(el.toLineString(new Cu(t._min,this._level),new Cu(t._max,this._level)))},jp.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},jp.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var r=0;r<t.size();r+=2){var n=t.get(r);if(null===(r+1<t.size()?t.get(r):null))e.add(n);else{var i=new Lp(t.get(r),t.get(r+1));e.add(i)}}},jp.prototype.interfaces_=function(){return[]},jp.prototype.getClass=function(){return jp};var Rp=function(){this._items=new Il};Rp.prototype.visitItem=function(t){this._items.add(t)},Rp.prototype.getItems=function(){return this._items},Rp.prototype.interfaces_=function(){return[fh]},Rp.prototype.getClass=function(){return Rp};var Fp=function(){this._index=null;var t=arguments[0];if(!Lu(t,pc))throw new bu("Argument must be Polygonal");this._index=new Gp(t)},Dp={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Fp.prototype.locate=function(t){var e=new ll(t),r=new kp(e);return this._index.query(t.y,t.y,r),e.getLocation()},Fp.prototype.interfaces_=function(){return[rf]},Fp.prototype.getClass=function(){return Fp},Dp.SegmentVisitor.get=function(){return kp},Dp.IntervalIndexedGeometry.get=function(){return Gp},Object.defineProperties(Fp,Dp);var kp=function(){this._counter=null;var t=arguments[0];this._counter=t};kp.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},kp.prototype.interfaces_=function(){return[fh]},kp.prototype.getClass=function(){return kp};var Gp=function(){this._index=new jp;var t=arguments[0];this.init(t)};Gp.prototype.init=function(t){for(var e=Uf.getLines(t).iterator();e.hasNext();){var r=e.next().getCoordinates();this.addLine(r)}},Gp.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var r=new Th(t[e-1],t[e]),n=Math.min(r.p0.y,r.p1.y),i=Math.max(r.p0.y,r.p1.y);this._index.insert(n,i,r)}},Gp.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],r=new Rp;return this._index.query(t,e,r),r.getItems()}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this._index.query(n,i,o)}},Gp.prototype.interfaces_=function(){return[]},Gp.prototype.getClass=function(){return Gp};var Bp=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Cc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new qf,2===arguments.length){var e=arguments[0],r=arguments[1],n=vl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=r,this._boundaryNodeRule=n,null!==r&&this.add(r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,r){var n=this._nodes.addNode(r).getLabel(),i=1;n.getLocation(t,Bc.ON)===Tu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);n.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var r=arguments[0],n=arguments[1],i=arguments[2],o=new Cp(r,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof gc||this._parentGeom instanceof dc||this._parentGeom instanceof vc,u=n||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,r){var n=new Cp(e,r,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof fc){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this._argIndex,e,Tu.INTERIOR)}else if(arguments[0]instanceof Cu){var r=arguments[0];this.insertPoint(this._argIndex,r,Tu.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Tu.EXTERIOR,Tu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var r=t.getInteriorRingN(e);this.addPolygonRing(r,Tu.INTERIOR,Tu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Tu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Tu.BOUNDARY)},e.prototype.addLineString=function(t){var e=Tl.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var r=new _f(e,new Qc(this._argIndex,Tu.INTERIOR));this._lineEdgeMap.put(t,r),this.insertEdge(r),il.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),r=0,n=t.iterator();n.hasNext();){var i=n.next();e[r++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,r){if(this.isBoundaryNode(t,e))return null;r===Tu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,r)},e.prototype.addPolygonRing=function(t,e,r){if(t.isEmpty())return null;var n=Tl.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var i=e,o=r;cl.isCCW(n)&&(i=r,o=e);var s=new _f(n,new Qc(this._argIndex,Tu.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,n[0],Tu.BOUNDARY)},e.prototype.insertPoint=function(t,e,r){var n=this._nodes.addNode(e),i=n.getLabel();null===i?n._label=new Qc(t,r):i.setLocation(t,r)},e.prototype.createEdgeSetIntersector=function(){return new Ip},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var r=e.next(),n=r.getLabel().getLocation(t),i=r.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,n)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof vc&&(this._useBoundaryDeterminationRule=!1),e instanceof dc)this.addPolygon(e);else if(e instanceof cc)this.addLineString(e);else if(e instanceof fc)this.addPoint(e);else if(e instanceof yc)this.addCollection(e);else if(e instanceof nc)this.addCollection(e);else if(e instanceof vc)this.addCollection(e);else{if(!(e instanceof rc))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var r=t.getGeometryN(e);this.add(r)}},e.prototype.locate=function(t){return Lu(this._parentGeom,pc)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Fp(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Tu.BOUNDARY:Tu.INTERIOR},e}(ah),Up=function(){if(this._li=new al,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Bp(0,t)}else if(2===arguments.length){var e=arguments[0],r=arguments[1],n=vl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bp(0,e,n),this._arg[1]=new Bp(1,r,n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Bp(0,i,s),this._arg[1]=new Bp(1,o,s)}};Up.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Up.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Up.prototype.interfaces_=function(){return[]},Up.prototype.getClass=function(){return Up};var qp=function(){};qp.prototype.interfaces_=function(){return[]},qp.prototype.getClass=function(){return qp},qp.map=function(){if(arguments[0]instanceof pl&&Lu(arguments[1],qp.MapOp)){for(var t=arguments[0],e=arguments[1],r=new Il,n=0;n<t.getNumGeometries();n++){var i=e.map(t.getGeometryN(n));null!==i&&r.add(i)}return t.getFactory().buildGeometry(r)}if(Lu(arguments[0],Sl)&&Lu(arguments[1],qp.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Il,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},qp.MapOp=function(){};var zp=function(t){function e(){var e=arguments[0],r=arguments[1];t.call(this,e,r),this._ptLocator=new qf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new cf,this._resultPolyList=new Il,this._resultLineList=new Il,this._resultPointList=new Il,this._graph=new ah(new uf),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var r=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new Qc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(r),i.add(n),r.merge(n)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),r=e.getSym();e.isInResult()&&r.isInResult()&&(e.setInResult(!1),r.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,r,n,i){var o=new Il;return o.addAll(t),o.addAll(r),o.addAll(n),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var r=e.iterator();r.hasNext();){var n=r.next();if(this._ptLocator.locate(t,n)!==Tu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Il,e=this._edgeList.iterator();e.hasNext();){var r=e.next();r.isCollapsed()&&(e.remove(),t.add(r.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),r=e.getEdges().getLabel();e.getLabel().merge(r)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var r=e.next();this.insertUniqueEdge(r)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Il;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ap.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var r=new uh(this._geomFact);r.add(this._graph),this._resultPolyList=r.getPolygons();var n=new lp(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(t);var i=new cp(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var r=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,r)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var r=e.next();this._graph.addNode(r.getCoordinate()).setLabel(t,r.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var r=this._graph.getEdgeEnds().iterator();r.hasNext();){var n=r.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Bc.RIGHT),i.getLocation(1,Bc.RIGHT),t)&&n.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),r=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(var i=0;i<2;i++)r.isNull(i)||!r.isArea()||n.isNull(i)||(0===n.getDelta(i)?r.toLine(i):(il.isTrue(!n.isNull(i,Bc.LEFT),"depth of LEFT side has not been initialized"),r.setLocation(i,Bc.LEFT,n.getLocation(i,Bc.LEFT)),il.isTrue(!n.isNull(i,Bc.RIGHT),"depth of RIGHT side has not been initialized"),r.setLocation(i,Bc.RIGHT,n.getLocation(i,Bc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),r=e.getLabel();e.isIsolated()&&(r.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(r)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Up);zp.overlayOp=function(t,e,r){return new zp(t,e).getResultGeometry(r)},zp.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return zp.createEmptyResult(zp.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var r=e;return up.map(t,{interfaces_:function(){return[qp.MapOp]},map:function(t){return t.intersection(r)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wp.overlayOp(t,e,zp.INTERSECTION)},zp.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return zp.createEmptyResult(zp.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wp.overlayOp(t,e,zp.SYMDIFFERENCE)},zp.resultDimension=function(t,e,r){var n=e.getDimension(),i=r.getDimension(),o=-1;switch(t){case zp.INTERSECTION:o=Math.min(n,i);break;case zp.UNION:o=Math.max(n,i);break;case zp.DIFFERENCE:o=n;break;case zp.SYMDIFFERENCE:o=Math.max(n,i)}return o},zp.createEmptyResult=function(t,e,r,n){var i=null;switch(zp.resultDimension(t,e,r)){case-1:i=n.createGeometryCollection(new Array(0).fill(null));break;case 0:i=n.createPoint();break;case 1:i=n.createLineString();break;case 2:i=n.createPolygon()}return i},zp.difference=function(t,e){return t.isEmpty()?zp.createEmptyResult(zp.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wp.overlayOp(t,e,zp.DIFFERENCE))},zp.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],r=t.getLocation(0),n=t.getLocation(1);return zp.isResultOfOp(r,n,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===Tu.BOUNDARY&&(i=Tu.INTERIOR),o===Tu.BOUNDARY&&(o=Tu.INTERIOR),s){case zp.INTERSECTION:return i===Tu.INTERIOR&&o===Tu.INTERIOR;case zp.UNION:return i===Tu.INTERIOR||o===Tu.INTERIOR;case zp.DIFFERENCE:return i===Tu.INTERIOR&&o!==Tu.INTERIOR;case zp.SYMDIFFERENCE:return i===Tu.INTERIOR&&o!==Tu.INTERIOR||i!==Tu.INTERIOR&&o===Tu.INTERIOR}return!1}},zp.INTERSECTION=1,zp.UNION=2,zp.DIFFERENCE=3,zp.SYMDIFFERENCE=4;var Vp=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new qf,this._seg=new Th;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Vp.prototype.isWithinToleranceOfBoundary=function(t){for(var e=this,r=0;r<this._linework.getNumGeometries();r++)for(var n=e._linework.getGeometryN(r).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,e._seg.p0),n.getCoordinate(i+1,e._seg.p1),e._seg.distance(t)<=e._boundaryDistanceTolerance)return!0;return!1},Vp.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Tu.BOUNDARY:this._ptLocator.locate(t,this._g)},Vp.prototype.extractLinework=function(t){var e=new Zp;t.apply(e);var r=e.getLinework(),n=Ac.toLineStringArray(r);return t.getFactory().createMultiLineString(n)},Vp.prototype.interfaces_=function(){return[]},Vp.prototype.getClass=function(){return Vp};var Zp=function(){this._linework=null,this._linework=new Il};Zp.prototype.getLinework=function(){return this._linework},Zp.prototype.filter=function(t){if(t instanceof dc){var e=t;this._linework.add(e.getExteriorRing());for(var r=0;r<e.getNumInteriorRing();r++)this._linework.add(e.getInteriorRingN(r))}},Zp.prototype.interfaces_=function(){return[tc]},Zp.prototype.getClass=function(){return Zp};var Wp=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Wp.prototype.extractPoints=function(t,e,r){for(var n=t.getCoordinates(),i=0;i<n.length-1;i++)this.computeOffsetPoints(n[i],n[i+1],e,r)},Wp.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Wp.prototype.getPoints=function(t){for(var e=new Il,r=Uf.getLines(this._g).iterator();r.hasNext();){var n=r.next();this.extractPoints(n,t,e)}return e},Wp.prototype.computeOffsetPoints=function(t,e,r,n){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=r*i/s,u=r*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new Cu(l-u,c+a);n.add(h)}if(this._doRight){var f=new Cu(l+u,c-a);n.add(f)}},Wp.prototype.interfaces_=function(){return[]},Wp.prototype.getClass=function(){return Wp};var Xp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Il;var e=arguments[0],r=arguments[1],n=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,r),this._geom=[e,r,n],this._locFinder=[new Vp(this._geom[0],this._boundaryDistanceTolerance),new Vp(this._geom[1],this._boundaryDistanceTolerance),new Vp(this._geom[2],this._boundaryDistanceTolerance)]},Yp={TOLERANCE:{configurable:!0}};Xp.prototype.reportResult=function(t,e,r){Xu.out.println("Overlay result invalid - A:"+Tu.toLocationSymbol(e[0])+" B:"+Tu.toLocationSymbol(e[1])+" expected:"+(r?"i":"e")+" actual:"+Tu.toLocationSymbol(e[2]))},Xp.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Xp.prototype.checkValid=function(){var t=this;if(1===arguments.length){for(var e=arguments[0],r=0;r<this._testCoords.size();r++){var n=t._testCoords.get(r);if(!t.checkValid(e,n))return t._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._location[0]=this._locFinder[0].getLocation(o),this._location[1]=this._locFinder[1].getLocation(o),this._location[2]=this._locFinder[2].getLocation(o),!!Xp.hasLocation(this._location,Tu.BOUNDARY)||this.isValidResult(i,this._location)}},Xp.prototype.addTestPts=function(t){var e=new Wp(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Xp.prototype.isValidResult=function(t,e){var r=zp.isResultOfOp(e[0],e[1],t),n=!(r^e[2]===Tu.INTERIOR);return n||this.reportResult(t,e,r),n},Xp.prototype.getInvalidLocation=function(){return this._invalidLocation},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp},Xp.hasLocation=function(t,e){for(var r=0;r<3;r++)if(t[r]===e)return!0;return!1},Xp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(pp.computeSizeBasedSnapTolerance(t),pp.computeSizeBasedSnapTolerance(e))},Xp.isValid=function(t,e,r,n){return new Xp(t,e,n).isValid(r)},Yp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Xp,Yp);var Qp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Qp.prototype.extractElements=function(t,e){if(null===t)return null;for(var r=0;r<t.getNumGeometries();r++){var n=t.getGeometryN(r);this._skipEmpty&&n.isEmpty()||e.add(n)}},Qp.prototype.combine=function(){for(var t=new Il,e=this._inputGeoms.iterator();e.hasNext();){var r=e.next();this.extractElements(r,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.combine=function(){if(1===arguments.length){var t=arguments[0],e=new Qp(t);return e.combine()}if(2===arguments.length){var r=arguments[0],n=arguments[1],i=new Qp(Qp.createList(r,n));return i.combine()}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=new Qp(Qp.createList(o,s,a));return u.combine()}},Qp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Qp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],r=new Il;return r.add(t),r.add(e),r}if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2],s=new Il;return s.add(n),s.add(i),s.add(o),s}};var Hp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Il)},Jp={STRTREE_NODE_CAPACITY:{configurable:!0}};Hp.prototype.reduceToGeometries=function(t){for(var e=new Il,r=t.iterator();r.hasNext();){var n=r.next(),i=null;Lu(n,Ol)?i=this.unionTree(n):n instanceof pl&&(i=n),e.add(i)}return e},Hp.prototype.extractByEnvelope=function(t,e,r){for(var n=new Il,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?n.add(o):r.add(o)}return this._geomFactory.buildGeometry(n)},Hp.prototype.unionOptimized=function(t,e){var r=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!r.intersects(n))return Qp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=r.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,i)},Hp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new wh(Hp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var r=e.next();t.insert(r.getEnvelopeInternal(),r)}this._inputPolys=null;var n=t.itemsTree();return this.unionTree(n)},Hp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],r=arguments[1],n=arguments[2];if(n-r<=1){var i=Hp.getGeometry(e,r);return this.unionSafe(i,null)}if(n-r==2)return this.unionSafe(Hp.getGeometry(e,r),Hp.getGeometry(e,r+1));var o=Math.trunc((n+r)/2),s=this.binaryUnion(e,r,o),a=this.binaryUnion(e,o,n);return this.unionSafe(s,a)}},Hp.prototype.repeatedUnion=function(t){for(var e=null,r=t.iterator();r.hasNext();){var n=r.next();e=null===e?n.copy():e.union(n)}return e},Hp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Hp.prototype.unionActual=function(t,e){return Hp.restrictToPolygons(t.union(e))},Hp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Hp.prototype.unionUsingEnvelopeIntersection=function(t,e,r){var n=new Il,i=this.extractByEnvelope(r,t,n),o=this.extractByEnvelope(r,e,n),s=this.unionActual(i,o);return n.add(s),Qp.combine(n)},Hp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),r=e.buildGeometry(t),n=r.buffer(0);return n}if(2===arguments.length){var i=arguments[0],o=arguments[1],s=i.getFactory(),a=s.createGeometryCollection([i,o]),u=a.buffer(0);return u}},Hp.prototype.interfaces_=function(){return[]},Hp.prototype.getClass=function(){return Hp},Hp.restrictToPolygons=function(t){if(Lu(t,pc))return t;var e=Bf.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ac.toPolygonArray(e))},Hp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Hp.union=function(t){return new Hp(t).union()},Jp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Hp,Jp);var Kp=function(){};function $p(){return new td}function td(){this.reset()}Kp.prototype.interfaces_=function(){return[]},Kp.prototype.getClass=function(){return Kp},Kp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return zp.createEmptyResult(zp.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),wp.overlayOp(t,e,zp.UNION)},td.prototype={constructor:td,reset:function(){this.s=this.t=0},add:function(t){rd(ed,t,this.t),rd(this,ed.s,this.s),this.s?this.t+=ed.t:this.s=ed.t},valueOf:function(){return this.s}};var ed=new td;function rd(t,e,r){var n=t.s=e+r,i=n-e,o=n-i;t.t=e-o+(r-i)}var nd=1e-6,id=Math.PI,od=id/2,sd=id/4,ad=2*id,ud=180/id,ld=id/180,cd=Math.abs,hd=Math.atan,fd=Math.atan2,pd=Math.cos,dd=Math.sin,yd=Math.sqrt;function gd(t){return t>1?0:t<-1?id:Math.acos(t)}function vd(t){return t>1?od:t<-1?-od:Math.asin(t)}function md(){}function _d(t,e){t&&Sd.hasOwnProperty(t.type)&&Sd[t.type](t,e)}var bd,xd,wd={Feature:function(t,e){_d(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n<i;)_d(r[n].geometry,e)}},Sd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pd(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)Pd(r[n],e,0)},Polygon:function(t,e){Ed(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n<i;)Ed(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n<i;)_d(r[n],e)}};function Pd(t,e,r){var n,i=-1,o=t.length-r;for(e.lineStart();++i<o;)n=t[i],e.point(n[0],n[1],n[2]);e.lineEnd()}function Ed(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)Pd(t[r],e,1);e.polygonEnd()}function Od(t){return[fd(t[1],t[0]),vd(t[2])]}function Cd(t){var e=t[0],r=t[1],n=pd(r);return[n*pd(e),n*dd(e),dd(r)]}function Id(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Md(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Nd(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Td(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ad(t){var e=yd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ld(t,e){function r(r,n){return r=t(r,n),e(r[0],r[1])}return t.invert&&e.invert&&(r.invert=function(r,n){return(r=e.invert(r,n))&&t.invert(r[0],r[1])}),r}function jd(t,e){return[t>id?t-ad:t<-id?t+ad:t,e]}function Rd(t){return function(e,r){return[(e+=t)>id?e-ad:e<-id?e+ad:e,r]}}function Fd(t){var e=Rd(t);return e.invert=Rd(-t),e}function Dd(t,e){var r=pd(t),n=dd(t),i=pd(e),o=dd(e);function s(t,e){var s=pd(e),a=pd(t)*s,u=dd(t)*s,l=dd(e),c=l*r+a*n;return[fd(u*i-c*o,a*r-l*n),vd(c*i+u*o)]}return s.invert=function(t,e){var s=pd(e),a=pd(t)*s,u=dd(t)*s,l=dd(e),c=l*i-u*o;return[fd(u*i+l*o,a*r+c*n),vd(c*r-a*n)]},s}function kd(t,e){(e=Cd(e))[0]-=t,Ad(e);var r=gd(-e[1]);return((-e[2]<0?-r:r)+ad-nd)%ad}function Gd(){var t,e=[];return{point:function(e,r){t.push([e,r])},lineStart:function(){e.push(t=[])},lineEnd:md,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Bd(t,e){return cd(t[0]-e[0])<nd&&cd(t[1]-e[1])<nd}function Ud(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function qd(t,e,r,n,i){var o,s,a=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,r,n=t[0],s=t[e];if(Bd(n,s)){for(i.lineStart(),o=0;o<e;++o)i.point((n=t[o])[0],n[1]);i.lineEnd()}else a.push(r=new Ud(n,t,null,!0)),u.push(r.o=new Ud(n,null,r,!1)),a.push(r=new Ud(s,t,null,!1)),u.push(r.o=new Ud(s,null,r,!0))}}),a.length){for(u.sort(e),zd(a),zd(u),o=0,s=u.length;o<s;++o)u[o].e=r=!r;for(var l,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else n(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else n(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function zd(t){if(e=t.length){for(var e,r,n=0,i=t[0];++n<e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Vd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zd(t){for(var e,r,n,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(r=new Array(s);--i>=0;)for(e=(n=t[i]).length;--e>=0;)r[--s]=n[e];return r}$p(),$p(),$p(),jd.invert=jd,1===(bd=Vd).length&&(xd=bd,bd=function(t,e){return Vd(xd(t),e)});var Wd=1e9,Xd=-Wd,Yd=$p();function Qd(t){return t}$p(),$p(),$p();var Hd=1/0,Jd=Hd,Kd=-Hd,$d=Kd,ty={point:function(t,e){t<Hd&&(Hd=t),t>Kd&&(Kd=t),e<Jd&&(Jd=e),e>$d&&($d=e)},lineStart:md,lineEnd:md,polygonStart:md,polygonEnd:md,result:function(){var t=[[Hd,Jd],[Kd,$d]];return Kd=$d=-(Jd=Hd=1/0),t}};function ey(t,e,r,n){return function(i,o){var s,a,u,l=e(o),c=i.invert(n[0],n[1]),h=Gd(),f=e(h),p=!1,d={point:y,lineStart:v,lineEnd:m,polygonStart:function(){d.point=_,d.lineStart=b,d.lineEnd=x,a=[],s=[]},polygonEnd:function(){d.point=y,d.lineStart=v,d.lineEnd=m,a=Zd(a);var t=function(t,e){var r=e[0],n=e[1],i=[dd(r),-pd(r),0],o=0,s=0;Yd.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,h=l[c-1],f=h[0],p=h[1]/2+sd,d=dd(p),y=pd(p),g=0;g<c;++g,f=m,d=b,y=x,h=v){var v=l[g],m=v[0],_=v[1]/2+sd,b=dd(_),x=pd(_),w=m-f,S=w>=0?1:-1,P=S*w,E=P>id,O=d*b;if(Yd.add(fd(O*S*dd(P),y*x+O*pd(P))),o+=E?w+S*ad:w,E^f>=r^m>=r){var C=Md(Cd(h),Cd(v));Ad(C);var I=Md(i,C);Ad(I);var M=(E^w>=0?-1:1)*vd(I[2]);(n>M||n===M&&(C[0]||C[1]))&&(s+=E^w>=0?1:-1)}}return(o<-1e-6||o<nd&&Yd<-1e-6)^1&s}(s,c);a.length?(p||(o.polygonStart(),p=!0),qd(a,ny,t,r,o)):t&&(p||(o.polygonStart(),p=!0),o.lineStart(),r(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),r(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function y(e,r){var n=i(e,r);t(e=n[0],r=n[1])&&o.point(e,r)}function g(t,e){var r=i(t,e);l.point(r[0],r[1])}function v(){d.point=g,l.lineStart()}function m(){d.point=y,l.lineEnd()}function _(t,e){u.push([t,e]);var r=i(t,e);f.point(r[0],r[1])}function b(){f.lineStart(),u=[]}function x(){_(u[0][0],u[0][1]),f.lineEnd();var t,e,r,n,i=f.clean(),l=h.result(),c=l.length;if(u.pop(),s.push(u),u=null,c)if(1&i){if((e=(r=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),t=0;t<e;++t)o.point((n=r[t])[0],n[1]);o.lineEnd()}}else c>1&&2&i&&l.push(l.pop().concat(l.shift())),a.push(l.filter(ry))}return d}}function ry(t){return t.length>1}function ny(t,e){return((t=t.x)[0]<0?t[1]-od-nd:od-t[1])-((e=e.x)[0]<0?e[1]-od-nd:od-e[1])}$p();var iy=ey(function(){return!0},function(t){var e,r=NaN,n=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?id:-id,u=cd(o-r);cd(u-id)<nd?(t.point(r,n=(n+s)/2>0?od:-od),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),e=0):i!==a&&u>=id&&(cd(r-i)<nd&&(r-=i*nd),cd(o-a)<nd&&(o-=a*nd),n=function(t,e,r,n){var i,o,s=dd(t-r);return cd(s)>nd?hd((dd(e)*(o=pd(n))*dd(r)-dd(n)*(i=pd(e))*dd(t))/(i*o*s)):(e+n)/2}(r,n,o,s),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(a,n),e=0),t.point(r=o,n=s),i=a},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}},function(t,e,r,n){var i;if(null==t)i=r*od,n.point(-id,i),n.point(0,i),n.point(id,i),n.point(id,0),n.point(id,-i),n.point(0,-i),n.point(-id,-i),n.point(-id,0),n.point(-id,i);else if(cd(t[0]-e[0])>nd){var o=t[0]<e[0]?id:-id;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(e[0],e[1])},[-id,-od]);function oy(t){return function(e){var r=new sy;for(var n in t)r[n]=t[n];return r.stream=e,r}}function sy(){}function ay(t,e,r){var n=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),function(t,e){t&&wd.hasOwnProperty(t.type)?wd[t.type](t,e):_d(t,e)}(r,t.stream(ty));var s=ty.result(),a=Math.min(n/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(n-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}sy.prototype={constructor:sy,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var uy=pd(30*ld);function ly(t,e){return+e?function(t,e){function r(n,i,o,s,a,u,l,c,h,f,p,d,y,g){var v=l-n,m=c-i,_=v*v+m*m;if(_>4*e&&y--){var b=s+f,x=a+p,w=u+d,S=yd(b*b+x*x+w*w),P=vd(w/=S),E=cd(cd(w)-1)<nd||cd(o-h)<nd?(o+h)/2:fd(x,b),O=t(E,P),C=O[0],I=O[1],M=C-n,N=I-i,T=m*M-v*N;(T*T/_>e||cd((v*M+m*N)/_-.5)>.3||s*f+a*p+u*d<uy)&&(r(n,i,o,s,a,u,C,I,E,b/=S,x/=S,w,y,g),g.point(C,I),r(C,I,E,b,x,w,l,c,h,f,p,d,y,g))}}return function(e){var n,i,o,s,a,u,l,c,h,f,p,d,y={point:g,lineStart:v,lineEnd:_,polygonStart:function(){e.polygonStart(),y.lineStart=b},polygonEnd:function(){e.polygonEnd(),y.lineStart=v}};function g(r,n){r=t(r,n),e.point(r[0],r[1])}function v(){c=NaN,y.point=m,e.lineStart()}function m(n,i){var o=Cd([n,i]),s=t(n,i);r(c,h,l,f,p,d,c=s[0],h=s[1],l=n,f=o[0],p=o[1],d=o[2],16,e),e.point(c,h)}function _(){y.point=g,e.lineEnd()}function b(){v(),y.point=x,y.lineEnd=w}function x(t,e){m(n=t,e),i=c,o=h,s=f,a=p,u=d,y.point=m}function w(){r(c,h,l,f,p,d,i,o,n,s,a,u,16,e),y.lineEnd=_,_()}return y}}(t,e):function(t){return oy({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}(t)}var cy=oy({point:function(t,e){this.stream.point(t*ld,e*ld)}});function hy(t){return function(t){var e,r,n,i,o,s,a,u,l,c,h=150,f=480,p=250,d=0,y=0,g=0,v=0,m=0,_=null,b=iy,x=null,w=Qd,S=.5,P=ly(C,S);function E(t){return[(t=o(t[0]*ld,t[1]*ld))[0]*h+r,n-t[1]*h]}function O(t){return(t=o.invert((t[0]-r)/h,(n-t[1])/h))&&[t[0]*ud,t[1]*ud]}function C(t,i){return[(t=e(t,i))[0]*h+r,n-t[1]*h]}function I(){o=Ld(i=function(t,e,r){return(t%=ad)?e||r?Ld(Fd(t),Dd(e,r)):Fd(t):e||r?Dd(e,r):jd}(g,v,m),e);var t=e(d,y);return r=f-t[0]*h,n=p+t[1]*h,M()}function M(){return l=c=null,E}return E.stream=function(t){return l&&c===t?l:l=cy(b(i,P(w(c=t))))},E.clipAngle=function(t){return arguments.length?(b=+t?function(t,e){var r=pd(t),n=r>0,i=cd(r)>nd;function o(t,e){return pd(t)*pd(e)>r}function s(t,e,n){var i=[1,0,0],o=Md(Cd(t),Cd(e)),s=Id(o,o),a=o[0],u=s-a*a;if(!u)return!n&&t;var l=r*s/u,c=-r*a/u,h=Md(i,o),f=Td(i,l);Nd(f,Td(o,c));var p=h,d=Id(f,p),y=Id(p,p),g=d*d-y*(Id(f,f)-1);if(!(g<0)){var v=yd(g),m=Td(p,(-d-v)/y);if(Nd(m,f),m=Od(m),!n)return m;var _,b=t[0],x=e[0],w=t[1],S=e[1];x<b&&(_=b,b=x,x=_);var P=x-b,E=cd(P-id)<nd;if(!E&&S<w&&(_=w,w=S,S=_),E||P<nd?E?w+S>0^m[1]<(cd(m[0]-b)<nd?w:S):w<=m[1]&&m[1]<=S:P>id^(b<=m[0]&&m[0]<=x)){var O=Td(p,(-d+v)/y);return Nd(O,f),[m,Od(O)]}}}function a(e,r){var i=n?t:id-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}return ey(o,function(t){var e,r,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],y=o(h,f),g=n?y?0:a(h,f):y?a(h+(h<0?id:-id),f):0;if(!e&&(l=u=y)&&t.lineStart(),y!==u&&(!(p=s(e,d))||Bd(e,p)||Bd(d,p))&&(d[0]+=nd,d[1]+=nd,y=o(d[0],d[1])),y!==u)c=0,y?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&n^y){var v;g&r||!(v=s(d,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!y||e&&Bd(e,d)||t.point(d[0],d[1]),e=d,u=y,r=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(r,n,i,o){!function(t,e,r,n,i,o){if(r){var s=pd(e),a=dd(e),u=n*r;null==i?(i=e+n*ad,o=e-u/2):(i=kd(s,i),o=kd(s,o),(n>0?i<o:i>o)&&(i+=n*ad));for(var l,c=i;n>0?c>o:c<o;c-=u)l=Od([s,-a*pd(c),-a*dd(c)]),t.point(l[0],l[1])}}(o,t,e,i,r,n)},n?[0,-t]:[-id,t-id])}(_=t*ld,6*ld):(_=null,iy),M()):_*ud},E.clipExtent=function(t){return arguments.length?(w=null==t?(x=s=a=u=null,Qd):function(t,e,r,n){function i(i,o){return t<=i&&i<=r&&e<=o&&o<=n}function o(i,o,a,l){var c=0,h=0;if(null==i||(c=s(i,a))!==(h=s(o,a))||u(i,o)<0^a>0)do{l.point(0===c||3===c?t:r,c>1?n:e)}while((c=(c+a+4)%4)!==h);else l.point(o[0],o[1])}function s(n,i){return cd(n[0]-t)<nd?i>0?0:3:cd(n[0]-r)<nd?i>0?2:1:cd(n[1]-e)<nd?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var r=s(t,1),n=s(e,1);return r!==n?r-n:0===r?e[1]-t[1]:1===r?t[0]-e[0]:2===r?t[1]-e[1]:e[0]-t[0]}return function(s){var u,l,c,h,f,p,d,y,g,v,m,_=s,b=Gd(),x={point:w,lineStart:function(){x.point=S,l&&l.push(c=[]),v=!0,g=!1,d=y=NaN},lineEnd:function(){u&&(S(h,f),p&&g&&b.rejoin(),u.push(b.result())),x.point=w,g&&_.lineEnd()},polygonStart:function(){_=b,u=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,r=0,i=l.length;r<i;++r)for(var o,s,a=l[r],u=1,c=a.length,h=a[0],f=h[0],p=h[1];u<c;++u)o=f,s=p,f=(h=a[u])[0],p=h[1],s<=n?p>n&&(f-o)*(n-s)>(p-s)*(t-o)&&++e:p<=n&&(f-o)*(n-s)<(p-s)*(t-o)&&--e;return e}(),r=m&&e,i=(u=Zd(u)).length;(r||i)&&(s.polygonStart(),r&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&qd(u,a,e,o,s),s.polygonEnd()),_=s,u=l=c=null}};function w(t,e){i(t,e)&&_.point(t,e)}function S(o,s){var a=i(o,s);if(l&&c.push([o,s]),v)h=o,f=s,p=a,v=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&g)_.point(o,s);else{var u=[d=Math.max(Xd,Math.min(Wd,d)),y=Math.max(Xd,Math.min(Wd,y))],b=[o=Math.max(Xd,Math.min(Wd,o)),s=Math.max(Xd,Math.min(Wd,s))];!function(t,e,r,n,i,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=r-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=n-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}}(u,b,t,e,r,n)?a&&(_.lineStart(),_.point(o,s),m=!1):(g||(_.lineStart(),_.point(u[0],u[1])),_.point(b[0],b[1]),a||_.lineEnd(),m=!1)}d=o,y=s,g=a}return x}}(x=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),M()):null==x?null:[[x,s],[a,u]]},E.scale=function(t){return arguments.length?(h=+t,I()):h},E.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],I()):[f,p]},E.center=function(t){return arguments.length?(d=t[0]%360*ld,y=t[1]%360*ld,I()):[d*ud,y*ud]},E.rotate=function(t){return arguments.length?(g=t[0]%360*ld,v=t[1]%360*ld,m=t.length>2?t[2]%360*ld:0,I()):[g*ud,v*ud,m*ud]},E.precision=function(t){return arguments.length?(P=ly(C,S=t*t),M()):yd(S)},E.fitExtent=function(t,e){return ay(E,t,e)},E.fitSize=function(t,e){return function(t,e,r){return ay(t,[[0,0],e],r)}(E,t,e)},function(){return e=t.apply(this,arguments),E.invert=e.invert&&O,I()}}(function(){return t})()}var fy=function(t,e){var r=pd(t),n=pd(e),i=function(t){return(t=gd(t))&&t/dd(t)}(r*n);return[i*n*dd(t),i*dd(e)]};function py(t,e,n,i){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var u=[];return Q(t,function(t){var r=py(t,e,n,i);r&&u.push(r)}),d(u)}var l=function(t){var e=ur(t).geometry.coordinates,n=[-e[0],-e[1]];return hy(fy).scale(79.4188).clipAngle(179.999).rotate(n).scale(r)}(a),c={type:a.type,coordinates:function t(e,r){return"object"!=typeof e[0]?r(e):e.map(function(e){return t(e,r)})}(a.coordinates,l)},h=(new kc).read(c),f=b(x(e,n),"meters"),p=Af.bufferOp(h,f,i);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((p=(new Gc).write(p)).coordinates))return s({type:p.type,coordinates:function t(e,r){return"object"!=typeof e[0]?r.invert(e):e.map(function(e){return t(e,r)})}(p.coordinates,l)},o)}function dy(t,e,r){void 0===r&&(r={});var n=G(t),i=G(e),o=vu(n.coordinates,i.coordinates);return 0===o.length?null:1===o.length?c(o[0],r.properties):v(o,r.properties)}function yy(t,e,r){void 0===r&&(r={});var n=G(t),i=G(e),o=mu(n.coordinates,i.coordinates);return 0===o.length?null:1===o.length?c(o[0],r.properties):v(o,r.properties)}
/**
     * @license get-closest https://github.com/cosmosio/get-closest
     *
     * The MIT License (MIT)
     *
     * Copyright (c) 2014-2017 Olivier Scherrer <pode.fr@gmail.com>
     */function gy(t,e){return function(t,e,r){var n,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,r){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===i||o<i)&&(i=o,n=r)}),n}(t,e)}function vy(t,e){return cn(f(Y(t)),f(Y(e))).features.length>0}function my(t,e,r){void 0===r&&(r={});var n=JSON.stringify(r.properties||{}),i=t[0],o=t[1],s=t[2],a=t[3],u=(o+a)/2,l=(i+s)/2,c=2*e/ve([i,u],[s,u],r)*(s-i),h=2*e/ve([l,o],[l,a],r)*(a-o),f=c/2,p=2*f,y=Math.sqrt(3)/2*h,g=s-i,v=a-o,m=.75*p,_=y,b=(g-p)/(p-f/2),x=Math.floor(b),w=(x*m-f/2-g)/2-f/2+m/2,S=Math.floor((v-y)/y),P=(v-S*y)/2,E=S*y-v>y/2;E&&(P-=y/4);for(var O=[],C=[],I=0;I<6;I++){var M=2*Math.PI/6*I;O.push(Math.cos(M)),C.push(Math.sin(M))}for(var N=[],T=0;T<=x;T++)for(var A=0;A<=S;A++){var L=T%2==1;if(!(0===A&&L||0===A&&E)){var j=T*m+i-w,R=A*_+o+P;if(L&&(R-=y/2),!0===r.triangles)by([j,R],c/2,h/2,JSON.parse(n),O,C).forEach(function(t){r.mask?yy(r.mask,t)&&N.push(t):N.push(t)});else{var F=_y([j,R],c/2,h/2,JSON.parse(n),O,C);r.mask?yy(r.mask,F)&&N.push(F):N.push(F)}}}return d(N)}function _y(t,e,r,n,i,o){for(var s=[],a=0;a<6;a++){var u=t[0]+e*i[a],l=t[1]+r*o[a];s.push([u,l])}return s.push(s[0].slice()),c([s],n)}function by(t,e,r,n,i,o){for(var s=[],a=0;a<6;a++){var u=[];u.push(t),u.push([t[0]+e*i[a],t[1]+r*o[a]]),u.push([t[0]+e*i[(a+1)%6],t[1]+r*o[(a+1)%6]]),u.push(t),s.push(c([u],n))}return s}function xy(t){if(t.features.length<=1)return t;var e=function(t){var e=St(),r=[];return J(t,function(t,e){var n=st(t);r.push({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],geojson:t,index:e})}),e.load(r),e}(t),r=[],n={};return J(t,function(t,i){if(n[i])return!0;for(e.remove({index:i},wy),n[i]=!0;;){var o=st(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0)for(var a=s.map(function(t){return n[t.index]=!0,e.remove({index:t.index},wy),t.geojson}),u=0,l=a.length;u<l;u++)t=dy(t,a[u]);if(0===s.length)break}r.push(t)}),d(r)}function wy(t,e){return t.index===e.index}function Sy(t,e,r){return void 0===r&&(r={}),function(t,e,r,n){void 0===n&&(n={});for(var i=[],o=t[0],s=t[1],a=t[2],u=t[3],l=e/ve([o,s],[a,s],n)*(a-o),h=r/ve([o,s],[o,u],n)*(u-s),f=a-o,p=u-s,y=Math.floor(f/l),g=Math.floor(p/h),v=(p-g*h)/2,m=o+(f-y*l)/2,_=0;_<y;_++){for(var b=s+v,x=0;x<g;x++){var w=c([[[m,b],[m,b+h],[m+l,b+h],[m+l,b],[m,b]]],n.properties);n.mask?ns(n.mask,w)&&i.push(w):i.push(w),b+=h}m+=l}return d(i)}(t,e,e,r)}function Py(t,e,r){void 0===r&&(r={});for(var n=[],i=e/ve([t[0],t[1]],[t[2],t[1]],r)*(t[2]-t[0]),o=e/ve([t[0],t[1]],[t[0],t[3]],r)*(t[3]-t[1]),s=0,a=t[0];a<=t[2];){for(var u=0,l=t[1];l<=t[3];){var h=null,f=null;s%2==0&&u%2==0?(h=c([[[a,l],[a,l+o],[a+i,l],[a,l]]],r.properties),f=c([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],r.properties)):s%2==0&&u%2==1?(h=c([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],r.properties),f=c([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],r.properties)):u%2==0&&s%2==1?(h=c([[[a,l],[a,l+o],[a+i,l+o],[a,l]]],r.properties),f=c([[[a,l],[a+i,l+o],[a+i,l],[a,l]]],r.properties)):u%2==1&&s%2==1&&(h=c([[[a,l],[a,l+o],[a+i,l],[a,l]]],r.properties),f=c([[[a,l+o],[a+i,l+o],[a+i,l],[a,l+o]]],r.properties)),r.mask?(yy(r.mask,h)&&n.push(h),yy(r.mask,f)&&n.push(f)):(n.push(h),n.push(f)),l+=o,u++}s++,a+=i}return d(n)}fy.invert=function(t,e){var r=yd(t*t+e*e),n=function(t){return t}(r),i=dd(n),o=pd(n);return[fd(t*i,r*o),vd(r&&e*i/r)]},e.along=function(t,e,r){void 0===r&&(r={});for(var n=G(t).coordinates,i=0,o=0;o<n.length&&!(e>=i&&o===n.length-1);o++){if(i>=e){var s=e-i;if(s){var a=ar(n[o],n[o-1])-180;return or(n[o],s,a,r)}return u(n[o])}i+=ve(n[o],n[o+1],r)}return u(n[n.length-1])},e.angle=function(t,e,r,n){if(void 0===n&&(n={}),!M(n))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!r)throw new Error("endPoint is required");var i=t,o=e,s=r,a=S(!0!==n.mercator?ar(i,o):gi(i,o)),u=S(!0!==n.mercator?ar(s,o):gi(s,o)),l=Math.abs(a-u);return!0===n.explementary?360-l:l},e.applyFilter=Ta,e.area=xn,e.areaFactors=o,e.bbox=st,e.bboxClip=function(t,e){var r=G(t),n=r.type,i="Feature"===t.type?t.properties:{},o=r.coordinates;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(o=[o]),o.forEach(function(t){!function(t,e,r){var n,i,o,s,a,u=t.length,l=ui(t[0],e),c=[];for(r||(r=[]),n=1;n<u;n++){for(i=t[n-1],s=a=ui(o=t[n],e);;){if(!(l|s)){c.push(i),s!==a?(c.push(o),n<u-1&&(r.push(c),c=[])):n===u-1&&c.push(o);break}if(l&s)break;l?l=ui(i=ai(i,o,l,e),e):s=ui(o=ai(i,o,s,e),e)}l=a}c.length&&r.push(c)}(t,e,s)}),1===s.length?f(s[0],i):y(s,i);case"Polygon":return c(li(o,e),i);case"MultiPolygon":return v(o.map(function(t){return li(t,e)}),i);default:throw new Error("geometry "+n+" not supported")}},e.bboxPolygon=rr,e.bearing=ar,e.bearingToAngle=S,e.bearingToAzimuth=S,e.bezier=er,e.bezierSpline=er,e.booleanClockwise=wi,e.booleanContains=function(t,e){var r=G(t),n=G(e),i=r.type,o=n.type,s=r.coordinates,a=n.coordinates;switch(i){case"Point":switch(o){case"Point":return Zo(s,a);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return function(t,e){var r,n=!1;for(r=0;r<t.coordinates.length;r++)if(Zo(t.coordinates[r],e.coordinates)){n=!0;break}return n}(r,n);case"MultiPoint":return function(t,e){for(var r=0,n=e.coordinates;r<n.length;r++){for(var i=n[r],o=!1,s=0,a=t.coordinates;s<a.length;s++)if(Zo(i,a[s])){o=!0;break}if(!o)return!1}return!0}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return Cn(n,r,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var r=!1,n=0,i=e.coordinates;n<i.length;n++){var o=i[n];if(Cn({type:"Point",coordinates:o},t,{ignoreEndVertices:!0})&&(r=!0),!Cn({type:"Point",coordinates:o},t,{ignoreEndVertices:!1}))return!1}return r}(r,n);case"MultiPoint":return function(t,e){for(var r=!1,n=0,i=e.coordinates;n<i.length;n++){var o=i[n];if(Cn(o,t,{ignoreEndVertices:!0})&&(r=!0),!Cn(o,t))return!1}return!!r}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return de(n,r,{ignoreBoundary:!0});case"LineString":return function(t,e){var r=!1,n=0,i=st(t),o=st(e);if(!Vo(i,o))return!1;for(;n<e.coordinates.length-1;n++)if(de({type:"Point",coordinates:Wo(e.coordinates[n],e.coordinates[n+1])},t,{ignoreBoundary:!0})){r=!0;break}return r}(r,n);case"Polygon":return function(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;var r=st(t),n=st(e);if(!Vo(r,n))return!1;for(var i=G(e).coordinates,o=0,s=i;o<s.length;o++)for(var a=0,u=s[o];a<u.length;a++)if(!de(u[a],t))return!1;return!0}(r,n);case"MultiPoint":return function(t,e){for(var r=0,n=e.coordinates;r<n.length;r++)if(!de(n[r],t,{ignoreBoundary:!0}))return!1;return!0}(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},e.booleanCrosses=function(t,e){var r=G(t),n=G(e),i=r.type,o=n.type;switch(i){case"MultiPoint":switch(o){case"LineString":return Xo(r,n);case"Polygon":return Qo(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"MultiPoint":return Xo(n,r);case"LineString":return function(t,e){if(cn(t,e).features.length>0)for(var r=0;r<t.coordinates.length-1;r++)for(var n=0;n<e.coordinates.length-1;n++){var i=!0;if(0!==n&&n!==e.coordinates.length-2||(i=!1),Ho(t.coordinates[r],t.coordinates[r+1],e.coordinates[n],i))return!0}return!1}(r,n);case"Polygon":return Yo(r,n);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"MultiPoint":return Qo(n,r);case"LineString":return Yo(n,r);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},e.booleanDisjoint=Bo,e.booleanEqual=function(t,e){return G(t).type===G(e).type&&new es({precision:6}).compare(Ve(t),Ve(e))},e.booleanIntersects=ns,e.booleanOverlap=rs,e.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==gs(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==gs(e,"line2"))throw new Error("line2 must be a LineString");for(var r=kr(Ve(t)).features,n=kr(Ve(e)).features,i=0;i<r.length;i++){var o=r[i].geometry.coordinates;if(!n[i])break;if(!ys(o,n[i].geometry.coordinates))return!1}return!0},e.booleanPointInPolygon=de,e.booleanPointOnLine=Cn,e.booleanWithin=Mn,e.buffer=function(t,e,r){var n=(r=r||{}).units||"kilometers",i=r.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof r)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(t.type){case"GeometryCollection":return Q(t,function(t){var r=py(t,e,n,i);r&&o.push(r)}),d(o);case"FeatureCollection":return W(t,function(t){var r=py(t,e,n,i);r&&W(r,function(t){t&&o.push(t)})}),d(o)}return py(t,e,n,i)},e.center=ur,e.centerMean=aa,e.centerMedian=function(t,e){if(void 0===e&&(e={}),!M(e=e||{}))throw new Error("options is invalid");var r=e.counter||10;if(!I(r))throw new Error("counter must be a number");var n=e.weight,i=aa(t,{weight:e.weight}),o=d([]);return W(t,function(t){o.features.push(lr(t,{properties:{weight:t.properties[n]}}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},function t(e,r,n,i){var o=n.properties.tolerance||.001,s=0,a=0,l=0,c=0;if(W(n,function(t){var r=t.properties.weight,n=null==r?1:r;if(!I(n=Number(n)))throw new Error("weight value must be a number");if(n>0){c+=1;var i=n*ve(t,e);0===i&&(i=1);var o=n/i;s+=t.geometry.coordinates[0]*o,a+=t.geometry.coordinates[1]*o,l+=o}}),c<1)throw new Error("no features to measure");var h=s/l,f=a/l;return 1===c||0===i||Math.abs(h-r[0])<o&&Math.abs(f-r[1])<o?u([h,f],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([h,f]),t([h,f],e,n,i-1))}(i.geometry.coordinates,[0,0],o,r)},e.centerOfMass=function t(e,r){switch(void 0===r&&(r={}),B(e)){case"Point":return u(L(e),r.properties);case"Polygon":var n=[];q(e,function(t){n.push(t)});var i,o,s,a,l,c,h,f,p=lr(e,{properties:r.properties}),d=p.geometry.coordinates,y=0,g=0,v=0,m=n.map(function(t){return[t[0]-d[0],t[1]-d[1]]});for(i=0;i<n.length-1;i++)a=(o=m[i])[0],c=o[1],l=(s=m[i+1])[0],v+=f=a*(h=s[1])-l*c,y+=(a+l)*f,g+=(c+h)*f;if(0===v)return p;var _=1/(.5*v*6);return u([d[0]+_*y,d[1]+_*g],r.properties);default:var b=pe(e);return b?t(b,{properties:r.properties}):lr(e,{properties:r.properties})}},e.centroid=lr,e.circle=sr,e.cleanCoords=Ve,e.clone=we,e.clusterEach=Ia,e.clusterReduce=Ma,e.clusters=ja,e.clustersDbscan=function(t,e,r){void 0===r&&(r={}),!0!==r.mutate&&(t=we(t)),r.minPoints=r.minPoints||3;var n=new us.DBSCAN,i=n.run(Y(t),O(e,r.units),r.minPoints,ve),o=-1;return i.forEach(function(e){o++,e.forEach(function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster=o,r.properties.dbscan="core"})}),n.noise.forEach(function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster?r.properties.dbscan="edge":r.properties.dbscan="noise"}),t},e.clustersKmeans=function(t,e){void 0===e&&(e={});var r=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(r/2)),e.numberOfClusters>r&&(e.numberOfClusters=r),!0!==e.mutate&&(t=we(t));var n=Y(t),i=n.slice(0,e.numberOfClusters),o=ds(n,e.numberOfClusters,i),s={};return o.centroids.forEach(function(t,e){s[e]=t}),W(t,function(t,e){var r=o.idxs[e];t.properties.cluster=r,t.properties.centroid=s[r]}),t},e.collect=function(t,e,r,n){var i=St(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[r]}});return i.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=st(t),r=i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),o=[];r.forEach(function(e){de([e.minX,e.minY],t)&&o.push(e.property)}),t.properties[n]=o}),t},e.collectionOf=k,e.combine=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(e).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});function n(t,r,n){n?e[r].coordinates=e[r].coordinates.concat(t.geometry.coordinates):e[r].coordinates.push(t.geometry.coordinates),e[r].properties.push(t.properties)}return W(t,function(t){t.geometry&&(e[t.geometry.type]?n(t,t.geometry.type,!0):r[t.geometry.type]&&n(t,r[t.geometry.type],!1))}),d(Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){return s({type:t,coordinates:e[t].coordinates},{collectedProperties:e[t].properties})}))},e.concave=function(t,e){void 0===e&&(e={});var r=e.maxEdge||1/0,n=me(function(t){var e=[],r={};return W(t,function(t){if(t.geometry){var n=t.geometry.coordinates.join("-");r.hasOwnProperty(n)||(e.push(t),r[n]=!0)}}),d(e)}(t));if(n.features=n.features.filter(function(t){var n=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=ve(n,i,e),a=ve(i,o,e),u=ve(n,o,e);return s<=r&&a<=r&&u<=r}),n.features.length<1)return null;var i=ze(n);return 1===i.coordinates.length&&(i.coordinates=i.coordinates[0],i.type="Polygon"),s(i)},e.containsNumber=R,e.convertArea=C,e.convertDistance=O,e.convertLength=O,e.convex=pe,e.coordAll=Y,e.coordEach=q,e.coordReduce=z,e.createBins=Na,e.degrees2radians=E,e.degreesToRadians=E,e.destination=or,e.difference=function(t,e){var r=G(t),n=G(e),i=t.properties||{},o=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return gu.run("difference",t,r)}(r.coordinates,n.coordinates);return 0===o.length?null:1===o.length?c(o[0],i):v(o,i)},e.dissolve=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.propertyName;k(t,"Polygon","dissolve");var n=we(t),i=n.features,o=[];i.forEach(function(t,e){t.properties.origIndexPosition=e});var s=un();for(var a in s.load(n),i){var u=i[a],l=!1;if(s.search(u).features.forEach(function(t){u=i[a];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var n=gy(e,o);0!==n&&(e-=n)}if(e!==+a){var c=i[e];c&&u&&(void 0!==r&&c.properties[r]!==u.properties[r]||rs(u,c)&&vy(u,c)&&(i[a]=dy(u,c),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),s.remove(t),i.splice(e,1),u.properties.origIndexPosition=a,s.remove(u,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),l=!0))}}),l){if(!u)continue;u.properties.origIndexPosition=a,s.insert(u),a--}}return i.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),n},e.distance=ve,e.distanceToDegrees=w,e.distanceToRadians=x,e.distanceWeight=fa,e.earthRadius=r,e.ellipse=oa,e.envelope=nr,e.explode=cr,e.factors=n,e.feature=s,e.featureCollection=d,e.featureEach=W,e.featureOf=D,e.featureReduce=X,e.filterProperties=La,e.findPoint=it,e.findSegment=nt,e.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return J(t,function(t){e.push(t)}),d(e)},e.flattenEach=J,e.flattenReduce=K,e.flip=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.mutate;if(!t)throw new Error("geojson is required");return!1!==r&&void 0!==r||(t=we(t)),q(t,function(t){var e=t[0],r=t[1];t[0]=r,t[1]=e}),t},e.geojsonType=F,e.geomEach=Q,e.geomReduce=H,e.geometry=a,e.geometryCollection=m,e.getCluster=Ca,e.getCoord=L,e.getCoords=j,e.getGeom=G,e.getType=B,e.greatCircle=function(t,e,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.properties,i=r.npoints,o=r.offset;return t=L(t),e=L(e),n=n||{},i=i||100,o=o||10,new Xn({x:t[0],y:t[1]},{x:e[0],y:e[1]},n).Arc(i,{offset:o}).json()},e.helpers=A,e.hexGrid=my,e.inside=de,e.interpolate=function(t,e,r){if("object"!=typeof(r=r||{}))throw new Error("options is invalid");var n=r.gridType,i=r.property,o=r.weight;if(!t)throw new Error("points is required");if(k(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",n=n||"square",o=o||1;var s,a=st(t);switch(n){case"point":case"points":s=Ln(a,e,r);break;case"square":case"squares":s=Sy(a,e,r);break;case"hex":case"hexes":s=my(a,e,r);break;case"triangle":case"triangles":s=Py(a,e,r);break;default:throw new Error("invalid gridType")}var u=[];return W(s,function(e){var s=0,a=0;W(t,function(t){var u,l=ve("point"===n?e:lr(e),t,r);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var c=1/Math.pow(l,o);a+=c,s+=c*u});var l=we(e);l.properties[i]=s/a,u.push(l)}),d(u)},e.intersect=yy,e.invariant=U,e.isNumber=I,e.isObject=M,e.isobands=function(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.zProperty||"elevation",i=r.commonProperties||{},o=r.breaksProperties||[];if(k(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!M(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.zProperty||"elevation",n=e.flip,i=e.flags;k(t,"Point","input must contain Points");for(var o=function(t,e){var r={};return W(t,function(t){var e=j(t)[1];r[e]||(r[e]=[]),r[e].push(t)}),Object.keys(r).map(function(t){return r[t].sort(function(t,e){return j(t)[0]-j(e)[0]})}).sort(function(t,r){return e?j(t[0])[1]-j(r[0])[1]:j(r[0])[1]-j(t[0])[1]})}
/*!
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */(t,n),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[r]?l.push(h.properties[r]):l.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:n,flip:!0}),a=function(t,e,r){for(var n=[],i=1;i<e.length;i++){var o=+e[i-1],s=+e[i],a=Eo(Po(Ii(t,o,s-o))),u={};u.groupedRings=a,u[r]=o+"-"+s,n.push(u)}return n}(s,e,n);return d((a=function(t,e,r){var n=st(r),i=n[2]-n[0],o=n[3]-n[1],s=n[0],a=n[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(f)})})}),t}(a,s,t)).map(function(t,e){if(o[e]&&!M(o[e]))throw new Error("Each mappedProperty is required to be an Object");var r=ct({},i,o[e]);return r[n]=t[n],v(t.groupedRings,r)}))},e.isolines=function(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.zProperty||"elevation",i=r.commonProperties||{},o=r.breaksProperties||[];if(k(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!M(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.zProperty||"elevation",n=e.flip,i=e.flags;k(t,"Point","input must contain Points");for(var o=function(t,e){var r={};return W(t,function(t){var e=j(t)[1];r[e]||(r[e]=[]),r[e].push(t)}),Object.keys(r).map(function(t){return r[t].sort(function(t,e){return j(t)[0]-j(e)[0]})}).sort(function(t,r){return e?j(t[0])[1]-j(r[0])[1]:j(r[0])[1]-j(t[0])[1]})}(t,n),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var h=u[c];h.properties[r]?l.push(h.properties[r]):l.push(0),!0===i&&(h.properties.matrixPosition=[a,c])}s.push(l)}return s}(t,{zProperty:n,flip:!0});return d(function(t,e,r){var n=st(r),i=n[2]-n[0],o=n[3]-n[1],s=n[0],a=n[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach(function(t){q(t,f)}),t}(function(t,e,r,n,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=ct({},n,i[s]);u[r]=a;var l=y(pt(t,a),u);o.push(l)}return o}(s,e,n,i,o),s,t))},e.kinks=function(t){var e,r,n={type:"FeatureCollection",features:[]};if("LineString"===(r="Feature"===t.type?t.geometry:t).type)e=[r.coordinates];else if("MultiLineString"===r.type)e=r.coordinates;else if("MultiPolygon"===r.type)e=[].concat.apply([],r.coordinates);else{if("Polygon"!==r.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=r.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var r=0;r<t.length-1;r++)for(var i=r;i<e.length-1;i++){if(t===e){if(1===Math.abs(r-i))continue;if(0===r&&i===t.length-2&&t[r][0]===t[t.length-1][0]&&t[r][1]===t[t.length-1][1])continue}var o=vn(t[r][0],t[r][1],t[r+1][0],t[r+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);o&&n.features.push(u([o[0],o[1]]))}})}),n},e.length=En,e.lengthToDegrees=w,e.lengthToRadians=x,e.lineArc=Kn,e.lineChunk=function(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.units,i=r.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return J(t,function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,r,n){var i=En(t,{units:r});if(i<=e)return n(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)n(On(t,e*s,e*(s+1),{units:r}))}(t,e,n,function(t){o.push(t)})}),d(o)},e.lineDistance=En,e.lineEach=et,e.lineIntersect=cn,e.lineOffset=function(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var i=B(t),o=t.properties;switch(i){case"LineString":return Lo(t,e,n);case"MultiLineString":var s=[];return J(t,function(t){s.push(Lo(t,e,n).geometry.coordinates)}),y(s,o);default:throw new Error("geometry "+i+" is not supported")}},e.lineOverlap=pi,e.lineReduce=rt,e.lineSegment=kr,e.lineSlice=function(t,e,r){var n=j(r);if("LineString"!==B(r))throw new Error("line must be a LineString");for(var i,o=fn(r,t),s=fn(r,e),a=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=i[0].properties.index+1;u<i[1].properties.index+1;u++)a.push(n[u]);return a.push(i[1].geometry.coordinates),f(a,r.properties)},e.lineSliceAlong=On,e.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var r=B(t),n=B(e);if("LineString"!==r)throw new Error("line must be LineString");if("FeatureCollection"===n)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw new Error("splitter cannot be a GeometryCollection");var i=jn(e,{precision:7});switch(n){case"Point":return Qn(t,i);case"MultiPoint":return Yn(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Yn(t,cn(t,i))}},e.lineString=f,e.lineStringToPolygon=ni,e.lineStrings=p,e.lineToPolygon=ni,e.mask=function(t,e){var r,n,i=function(t){return c(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),o=(r=[],n=[],J(t,function(t){var e=t.geometry.coordinates,i=e[0],o=e.slice(1);r.push(c([i])),o.forEach(function(t){n.push(c([t]))})}),[d(r),d(n)]),s=o[0],a=o[1];return function(t,e,r){var n=[];return n.push(t.geometry.coordinates[0]),J(e,function(t){n.push(t.geometry.coordinates[0])}),J(r,function(t){n.push(t.geometry.coordinates[0])}),c(n)}(i,s=xy(s),a=xy(a))},e.meta=ot,e.midpoint=function(t,e){return or(t,ve(t,e)/2,ar(t,e))},e.moranIndex=function(t,e){var r=e.inputField,n=e.threshold||1e5,i=e.p||2,o=e.binary||!1,s=fa(t,{alpha:e.alpha||-1,binary:o,p:i,standardization:e.standardization||!0,threshold:n}),a=[];W(t,function(t){var e=t.properties||{};a.push(e[r])});for(var u=pa(a),l=function(t){for(var e=pa(t),r=0,n=0,i=t;n<i.length;n++){var o=i[n];r+=Math.pow(o-e,2)}return r/t.length}(a),c=0,h=0,f=0,p=0,d=s.length,y=0;y<d;y++){for(var g=0,v=0;v<d;v++)c+=s[y][v]*(a[y]-u)*(a[v]-u),h+=s[y][v],f+=Math.pow(s[y][v]+s[v][y],2),g+=s[y][v]+s[v][y];p+=Math.pow(g,2)}var m=c/h/l,_=-1/(d-1),b=(d*d*(f*=.5)-d*p+h*h*3)/((d-1)*(d+1)*(h*h))-_*_,x=Math.sqrt(b);return{expectedMoranIndex:_,moranIndex:m,stdNorm:x,zNorm:(m-_)/x}},e.multiLineString=y,e.multiPoint=g,e.multiPolygon=v,e.nearest=Dr,e.nearestPoint=Dr,e.nearestPointOnLine=fn,e.nearestPointToLine=function(t,e,r){void 0===r&&(r={});var n=r.units,i=r.properties||{},o=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return Q(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t);if(!o.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==B(e))throw new Error("line must be a LineString");var s=1/0,a=null;return W(o,function(t){var r=dn(t,e,{units:n});r<s&&(s=r,a=t)}),a&&(a.properties=ct({dist:s},a.properties,i)),a},e.planepoint=function(t,e){var r=L(t),n=G(e).coordinates[0];if(n.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=r[0],l=r[1],c=n[0][0],h=n[0][1],f=void 0!==o?o:n[0][2],p=n[1][0],d=n[1][1],y=void 0!==s?s:n[1][2],g=n[2][0],v=n[2][1],m=void 0!==a?a:n[2][2];return(m*(u-c)*(l-d)+f*(u-p)*(l-v)+y*(u-g)*(l-h)-y*(u-c)*(l-v)-m*(u-p)*(l-h)-f*(u-g)*(l-d))/((u-c)*(l-d)+(u-p)*(l-v)+(u-g)*(l-h)-(u-c)*(l-v)-(u-p)*(l-h)-(u-g)*(l-d))},e.point=u,e.pointGrid=Ln,e.pointOnFeature=mn,e.pointOnLine=fn,e.pointOnSurface=mn,e.pointToLineDistance=dn,e.points=l,e.pointsWithinPolygon=ge,e.polygon=c,e.polygonSmooth=function(t,e){var r=[],n=e.iterations||1;if(!t)throw new Error("inputPolys is required");return Q(t,function(t,e,i){var o,s,a;switch(t.type){case"Polygon":o=[[]];for(var u=0;u<n;u++)a=[[]],s=t,u>0&&(s=c(o).geometry),la(s,a),o=a.slice(0);r.push(c(o,i));break;case"MultiPolygon":o=[[[]]];for(var l=0;l<n;l++)a=[[[]]],s=t,l>0&&(s=v(o).geometry),ca(s,a),o=a.slice(0);r.push(v(o,i));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),d(r)},e.polygonTangents=function(t,e){var r,n,i,o,s=j(t),a=j(e),l=st(e),c=0,h=null;switch(s[0]>l[0]&&s[0]<l[2]&&s[1]>l[1]&&s[1]<l[3]&&(c=(h=Dr(t,cr(e))).properties.featureIndex),B(e)){case"Polygon":r=a[0][c],n=a[0][0],null!==h&&h.geometry.coordinates[1]<s[1]&&(n=a[0][c]),o=xi(a[0][0],a[0][a[0].length-1],s);var f=_i(a[0],s,o,i,r,n);r=f[0],n=f[1];break;case"MultiPolygon":for(var p=0,y=0,g=0,v=0;v<a[0].length;v++){p=v;for(var m=!1,_=0;_<a[0][v].length;_++){if(y=_,g===c){m=!0;break}g++}if(m)break}r=a[0][p][y],n=a[0][p][y],o=xi(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach(function(t){var e=_i(t[0],s,o,i,r,n);r=e[0],n=e[1]})}return d([u(r),u(n)])},e.polygonToLine=ti,e.polygonToLineString=ti,e.polygonize=function(t){var e=Go.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var r=[],n=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?r.push(t):n.push(t)}),r.forEach(function(t){ko.findEdgeRingContaining(t,n)&&n.push(t)}),d(n.map(function(t){return t.toPolygon()}))},e.polygons=h,e.projection=_a,e.propEach=V,e.propReduce=Z,e.propertiesContainsFilter=Aa,e.radians2degrees=P,e.radiansToDegrees=P,e.radiansToDistance=b,e.radiansToLength=b,e.random=Oa,e.randomLineString=Sa,e.randomPoint=xa,e.randomPolygon=wa,e.randomPosition=ba,e.rewind=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.reverse||!1,n=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof r)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof n)throw new Error("<mutate> must be a boolean");!1===n&&(t=we(t));var i=[];switch(t.type){case"GeometryCollection":return Q(t,function(t){Si(t,r)}),t;case"FeatureCollection":return W(t,function(t){W(Si(t,r),function(t){i.push(t)})}),d(i)}return Si(t,r)},e.rhumbBearing=gi,e.rhumbDestination=mi,e.rhumbDistance=pn,e.round=_,e.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return d(function(t,e){for(var r,n,i=t.slice(0),o=t.length,s=o-e;o-- >s;)r=i[n=Math.floor((o+1)*Math.random())],i[n]=i[o],i[o]=r;return i.slice(s)}(t.features,e))},e.sector=function(t,e,r,n,i){if(!M(i=i||{}))throw new Error("options is invalid");var o=i.properties;if(!t)throw new Error("center is required");if(null==r)throw new Error("bearing1 is required");if(null==n)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(yi(r)===yi(n))return sr(t,e,i);var s=j(t),a=Kn(t,e,r,n,i),u=[[s]];return q(a,function(t){u[0].push(t)}),u[0].push(s),c(u,o)},e.segmentEach=$,e.segmentReduce=tt,e.shortestPath=function(t,e,r){if(!M(r=r||{}))throw new Error("options is invalid");var n=r.resolution,i=r.minDistance,o=r.obstacles||d([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(n&&!I(n)||n<=0)throw new Error("options.resolution must be a number, greater than 0");if(i)throw new Error("options.minDistance is not yet implemented");var a=L(t),l=L(e);switch(t=u(a),e=u(l),B(o)){case"FeatureCollection":if(0===o.features.length)return f([a,l]);break;case"Polygon":o=d([s(G(o))]);break;default:throw new Error("invalid obstacles")}var c=o;c.features.push(t),c.features.push(e);var h=st(Mo(rr(st(c)),1.15));n||(n=ve([h[0],h[1]],[h[2],h[1]],r)/100),c.features.pop(),c.features.pop();for(var p=h[0],y=h[1],g=h[2],v=h[3],m=n/ve([p,y],[g,y],r)*(g-p),_=n/ve([p,y],[p,v],r)*(v-y),b=g-p,x=v-y,w=Math.floor(b/m),S=Math.floor(x/_),P=(b-w*m)/2,E=[],O=[],C=[],N=[],T=1/0,A=1/0,j=v-(x-S*_)/2,R=0;j>=y;){for(var F=[],D=[],k=p+P,U=0;k<=g;){var q=u([k,j]),z=ws(q,o);F.push(z?0:1),D.push(k+"|"+j);var V=ve(q,t);!z&&V<T&&(T=V,C={x:U,y:R});var Z=ve(q,e);!z&&Z<A&&(A=Z,N={x:U,y:R}),k+=m,U++}O.push(F),E.push(D),j-=_,R++}var W=new _s(O,{diagonal:!0}),X=W.grid[C.y][C.x],Y=W.grid[N.y][N.x],Q=ms.search(W,X,Y),H=[a];return Q.forEach(function(t){var e=E[t.x][t.y].split("|");H.push([+e[0],+e[1]])}),H.push(l),Ve(f(H))},e.simplify=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=void 0!==e.tolerance?e.tolerance:1,n=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(r&&r<0)throw new Error("invalid tolerance");return!0!==i&&(t=we(t)),Q(t,function(t){!function(t,e,r){var n=t.type;if("Point"===n||"MultiPoint"===n)return t;Ve(t,!0);var i=t.coordinates;switch(n){case"LineString":t.coordinates=Je(i,e,r);break;case"MultiLineString":t.coordinates=i.map(function(t){return Je(t,e,r)});break;case"Polygon":t.coordinates=Ke(i,e,r);break;case"MultiPolygon":t.coordinates=i.map(function(t){return Ke(t,e,r)})}}(t,r,n)}),t},e.square=ir,e.squareGrid=Sy,e.standardDeviationalEllipse=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.steps||64,n=e.weight,i=e.properties||{};if(!I(r))throw new Error("steps must be a number");if(!M(i))throw new Error("properties must be a number");var o=Y(t).length,s=aa(t,{weight:n}),a=0,u=0,l=0;W(t,function(t){var e=t.properties[n]||1,r=ua(j(t),j(s));a+=Math.pow(r.x,2)*e,u+=Math.pow(r.y,2)*e,l+=r.x*r.y*e});var c=a-u,h=Math.sqrt(Math.pow(c,2)+4*Math.pow(l,2)),f=2*l,p=Math.atan((c+h)/f),y=180*p/Math.PI,g=0,v=0,m=0;W(t,function(t){var e=t.properties[n]||1,r=ua(j(t),j(s));g+=Math.pow(r.x*Math.cos(p)-r.y*Math.sin(p),2)*e,v+=Math.pow(r.x*Math.sin(p)+r.y*Math.cos(p),2)*e,m+=e});var _=Math.sqrt(2*g/m),b=Math.sqrt(2*v/m),x=oa(s,_,b,{units:"degrees",angle:y,steps:r,properties:i}),w=ge(t,d([x])),S={meanCenterCoordinates:j(s),semiMajorAxis:_,semiMinorAxis:b,numberOfFeatures:o,angle:y,percentageWithinEllipse:100*Y(w).length/o};return x.properties.standardDeviationalEllipse=S,x},e.tag=function(t,e,r,n){return t=we(t),e=we(e),W(t,function(t){t.properties||(t.properties={}),W(e,function(e){void 0===t.properties[n]&&de(t,e)&&(t.properties[n]=e.properties[r])})}),t},e.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Fr(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Fr(t))}),e},e.tin=me,e.toMercator=da,e.toWgs84=ya,e.transformRotate=Io,e.transformScale=Mo,e.transformTranslate=function(t,e,r,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units,o=n.zTranslation,s=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==r||isNaN(r))throw new Error("direction is required");return e<0&&(e=-e,r+=180),!1!==s&&void 0!==s||(t=we(t)),q(t,function(t){var n=j(mi(t,e,r,{units:i}));t[0]=n[0],t[1]=n[1],o&&3===t.length&&(t[2]+=o)}),t},e.triangleGrid=Py,e.truncate=jn,e.union=dy,e.unitsFactors=i,e.unkinkPolygon=function(t){var e=[];return J(t,function(t){"Polygon"===t.geometry.type&&W(function(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,r=[],n=0;n<e;n++){var i=t.geometry.coordinates[n];Bn(i[0],i[i.length-1])||i.push(i[0]),r.push.apply(r,i.slice(0,i.length-1))}if(!function(t){for(var e={},r=1,n=0,i=t.length;n<i;++n){if(e.hasOwnProperty(t[n])){r=0;break}e[t[n]]=1}return r}(r))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var o=r.length,s=function(t,e,r){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===r&&(r=1);var n=t.geometry.coordinates,i=[],o={};if(r){for(var s=[],a=0;a<n.length;a++)for(var u=0;u<n[a].length-1;u++)s.push(y(a,u));var l=St();l.load(s)}for(var c=0;c<n.length;c++)for(var h=0;h<n[c].length-1;h++)if(r)l.search(y(c,h)).forEach(function(t){var e=t.ring,r=t.edge;d(c,h,e,r)});else for(var f=0;f<n.length;f++)for(var p=0;p<n[f].length-1;p++)d(c,h,f,p);return e||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function d(t,r,s,a){var u,l,c=n[t][r],h=n[t][r+1],f=n[s][a],p=n[s][a+1],d=function(t,e,r,n){if(Rn(t,r)||Rn(t,n)||Rn(e,r)||Rn(n,r))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=r[0],l=r[1],c=n[0],h=n[1],f=(i-s)*(l-h)-(o-a)*(u-c);return 0===f?null:[((i*a-o*s)*(u-c)-(i-s)*(u*h-l*c))/f,((i*a-o*s)*(l-h)-(o-a)*(u*h-l*c))/f]}(c,h,f,p);if(null!==d&&(u=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),l=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(u>=1||u<=0||l>=1||l<=0))){var y=d,g=!o[y];g&&(o[y]=!0),e?i.push(e(d,t,r,c,h,u,s,a,f,p,l,g)):i.push(d)}}function y(t,e){var r,i,o,s,a=n[t][e],u=n[t][e+1];return a[0]<u[0]?(r=a[0],i=u[0]):(r=u[0],i=a[0]),a[1]<u[1]?(o=a[1],s=u[1]):(o=u[1],s=a[1]),{minX:r,minY:o,maxX:i,maxY:s,ring:t,edge:e}}}(t,function(t,e,r,n,i,o,s,a,u,l,c,h){return[t,e,r,n,i,o,s,a,u,l,c,h]}),a=s.length;if(0==a){var u=[];for(n=0;n<e;n++)u.push(c([t.geometry.coordinates[n]],{parent:-1,winding:Gn(t.geometry.coordinates[n])}));var l=d(u);return k(),G(),l}var h=[],f=[];for(n=0;n<e;n++){h.push([]);for(var p=0;p<t.geometry.coordinates[n].length-1;p++)h[n].push([new Fn(t.geometry.coordinates[n][Un(p+1,t.geometry.coordinates[n].length-1)],1,[n,p],[n,Un(p+1,t.geometry.coordinates[n].length-1)],void 0)]),f.push(new Dn(t.geometry.coordinates[n][p],[n,Un(p-1,t.geometry.coordinates[n].length-1)],[n,p],void 0,void 0,!1,!0))}for(n=0;n<a;n++)h[s[n][1]][s[n][2]].push(new Fn(s[n][0],s[n][5],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0)),s[n][11]&&f.push(new Dn(s[n][0],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0,void 0,!0,!0));var y=f.length;for(n=0;n<h.length;n++)for(p=0;p<h[n].length;p++)h[n][p].sort(function(t,e){return t.param<e.param?-1:1});var g=[];for(n=0;n<y;n++)g.push({minX:f[n].coord[0],minY:f[n].coord[1],maxX:f[n].coord[0],maxY:f[n].coord[1],index:n});var v=St();for(v.load(g),n=0;n<h.length;n++)for(p=0;p<h[n].length;p++)for(var m=0;m<h[n][p].length;m++){b=m==h[n][p].length-1?h[n][Un(p+1,t.geometry.coordinates[n].length-1)][0].coord:h[n][p][m+1].coord;var _=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0];h[n][p][m].nxtIsectAlongEdgeIn=_.index}for(n=0;n<h.length;n++)for(p=0;p<h[n].length;p++)for(m=0;m<h[n][p].length;m++){var b=h[n][p][m].coord,x=(_=v.search({minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]})[0]).index;x<o?f[x].nxtIsectAlongRingAndEdge2=h[n][p][m].nxtIsectAlongEdgeIn:Bn(f[x].ringAndEdge1,h[n][p][m].ringAndEdgeIn)?f[x].nxtIsectAlongRingAndEdge1=h[n][p][m].nxtIsectAlongEdgeIn:f[x].nxtIsectAlongRingAndEdge2=h[n][p][m].nxtIsectAlongEdgeIn}var w=[];for(n=0,p=0;p<e;p++){var S=n;for(m=0;m<t.geometry.coordinates[p].length-1;m++)f[n].coord[0]<f[S].coord[0]&&(S=n),n++;var P=f[S].nxtIsectAlongRingAndEdge2;for(m=0;m<f.length;m++)if(f[m].nxtIsectAlongRingAndEdge1==S||f[m].nxtIsectAlongRingAndEdge2==S){var E=m;break}var O=kn([f[E].coord,f[S].coord,f[P].coord],!0)?1:-1;w.push({isect:S,parent:-1,winding:O})}for(w.sort(function(t,e){return f[t.isect].coord>f[e.isect].coord?-1:1}),u=[];w.length>0;){var C=w.pop(),I=C.isect,M=C.parent,N=C.winding,T=u.length,A=[f[I].coord],L=I;if(f[I].ringAndEdge1Walkable)var j=f[I].ringAndEdge1,R=f[I].nxtIsectAlongRingAndEdge1;else j=f[I].ringAndEdge2,R=f[I].nxtIsectAlongRingAndEdge2;for(;!Bn(f[I].coord,f[R].coord);){A.push(f[R].coord);var F=void 0;for(n=0;n<w.length;n++)if(w[n].isect==R){F=n;break}if(null!=F&&w.splice(F,1),Bn(j,f[R].ringAndEdge1)){if(j=f[R].ringAndEdge2,f[R].ringAndEdge2Walkable=!1,f[R].ringAndEdge1Walkable){var D={isect:R};kn([f[L].coord,f[R].coord,f[f[R].nxtIsectAlongRingAndEdge2].coord],1==N)?(D.parent=M,D.winding=-N):(D.parent=T,D.winding=N),w.push(D)}L=R,R=f[R].nxtIsectAlongRingAndEdge2}else j=f[R].ringAndEdge1,f[R].ringAndEdge1Walkable=!1,f[R].ringAndEdge2Walkable&&(D={isect:R},kn([f[L].coord,f[R].coord,f[f[R].nxtIsectAlongRingAndEdge1].coord],1==N)?(D.parent=M,D.winding=-N):(D.parent=T,D.winding=N),w.push(D)),L=R,R=f[R].nxtIsectAlongRingAndEdge1}A.push(f[R].coord),u.push(c([A],{index:T,parent:M,winding:N,netWinding:void 0}))}function k(){for(var t=[],e=0;e<l.features.length;e++)-1==l.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var r=-1,n=0;n<l.features.length;n++)t[e]!=n&&de(l.features[t[e]].geometry.coordinates[0][0],l.features[n],{ignoreBoundary:!0})&&xn(l.features[n])<1/0&&(r=n);l.features[t[e]].properties.parent=r}}function G(){for(var t=0;t<l.features.length;t++)if(-1==l.features[t].properties.parent){var e=l.features[t].properties.winding;l.features[t].properties.netWinding=e,B(t,e)}}function B(t,e){for(var r=0;r<l.features.length;r++)if(l.features[r].properties.parent==t){var n=e+l.features[r].properties.winding;l.features[r].properties.netWinding=n,B(r,n)}}return l=d(u),k(),G(),l}(t),function(r){e.push(c(r.geometry.coordinates,t.properties))})}),d(e)},e.validateBBox=N,e.validateId=T,e.voronoi=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var r=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(r))throw new Error("bbox is invalid");return k(t,"Point","points"),d(function(){var t=Ps,e=Es,r=null;function n(n){return new na(n.map(function(r,i){var o=[Math.round(t(r,i,n)/ta)*ta,Math.round(e(r,i,n)/ta)*ta];return o.index=i,o.data=r,o}),r)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(e){return arguments.length?(t="function"==typeof e?e:Ss(+e),n):t},n.y=function(t){return arguments.length?(e="function"==typeof t?t:Ss(+t),n):e},n.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},n.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],n):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},n}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[r[0],r[1]],[r[2],r[3]]]).polygons(t.features).map(ia))},e.within=ge,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,r(52))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pushSerializeAndPop=e.serialize=e.pushParseAndPop=e.parseNode=e.makeStructureNS=e.makeSequence=e.OBJECT_PROPERTY_NODE_FACTORY=e.makeSimpleNodeFactory=e.makeArraySerializer=e.makeChildAppender=e.makeObjectPropertySetter=e.makeObjectPropertyPusher=e.makeReplacer=e.makeArrayPusher=e.makeArrayExtender=e.parse=e.getAttributeNS=e.isNode=e.isDocument=e.getAllTextContent_=e.getAllTextContent=e.createElementNS=e.XML_SCHEMA_INSTANCE_URI=e.DOCUMENT=void 0;var n=r(0),i=r(229),o=document.implementation.createDocument("","",null),s=function(t,e){return o.createElementNS(t,e)},a=function(t,e){return u(t,e,[]).join("")},u=function t(e,r,n){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)r?n.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(e.nodeValue);else{var i=void 0;for(i=e.firstChild;i;i=i.nextSibling)t(i,r,n)}return n},l=function(t){return t instanceof Document},c=function(t){return t instanceof Node},h=function(t,e,r){return t.getAttributeNS(e,r)||""},f=function(t){return(new DOMParser).parseFromString(t,"application/xml")},p=function(t,e){return function(r,n){var o=t.call(void 0!==e?e:this,r,n);if(void 0!==o){var s=n[n.length-1];(0,i.extend)(s,o)}}},d=function(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&n[n.length-1].push(i)}},y=function(t,e){return function(r,n){var i=t.call(void 0!==e?e:this,r,n);void 0!==i&&(n[n.length-1]=i)}},g=function(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);if(void 0!==o){var s=i[i.length-1],a=void 0!==e?e:n.localName;(a in s?s[a]:s[a]=[]).push(o)}}},v=function(t,e,r){return function(n,i){var o=t.call(void 0!==r?r:this,n,i);void 0!==o&&(i[i.length-1][void 0!==e?e:n.localName]=o)}},m=function(t,e){return function(r,n,i){t.call(void 0!==e?e:this,r,n,i),i[i.length-1].node.appendChild(r)}},_=function(t,e){var r=void 0,n=void 0;return function(e,i,o){if(void 0===r){r={};var s={};s[e.localName]=t,r[e.namespaceURI]=s,n=b(e.localName)}O(r,n,i,o)}},b=function(t,e){var r=t;return function(t,n,i){var o=n[n.length-1].node,a=r;void 0===a&&(a=i);var u=void 0!==e?e:o.namespaceURI;return s(u,a)}},x=b(),w=function(t,e){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=t[e[i]];return n},S=function(t,e,r){var n,i=void 0!==r?r:{},o=void 0;for(o=0,n=t.length;o<n;++o)i[t[o]]=e;return i},P=function(t,e,r,n){var i=void 0;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var s=o[i.localName];void 0!==s&&s.call(n,i,r)}}},E=function(t,e,r,n,i){return n.push(t),P(e,r,n,i),n.pop()},O=function(t,e,r,n,i,o){for(var s=(void 0!==i?i:r).length,a=void 0,u=void 0,l=0;l<s;++l)void 0!==(a=r[l])&&void 0!==(u=e.call(void 0!==o?o:this,a,n,void 0!==i?i[l]:void 0))&&t[u.namespaceURI][u.localName].call(o,u,a,n)},C=function(t,e,r,n,i,o,s){return i.push(t),O(e,r,n,i,o,s),i.pop()};e.DOCUMENT=o,e.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance",e.createElementNS=s,e.getAllTextContent=a,e.getAllTextContent_=u,e.isDocument=l,e.isNode=c,e.getAttributeNS=h,e.parse=f,e.makeArrayExtender=p,e.makeArrayPusher=d,e.makeReplacer=y,e.makeObjectPropertyPusher=g,e.makeObjectPropertySetter=v,e.makeChildAppender=m,e.makeArraySerializer=_,e.makeSimpleNodeFactory=b,e.OBJECT_PROPERTY_NODE_FACTORY=x,e.makeSequence=w,e.makeStructureNS=S,e.parseNode=P,e.pushParseAndPop=E,e.serialize=O,e.pushSerializeAndPop=C,n.Zondy.xml.DOCUMENT=o,n.Zondy.xml.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance",n.Zondy.xml.createElementNS=s,n.Zondy.xml.getAllTextContent=a,n.Zondy.xml.getAllTextContent_=u,n.Zondy.xml.isDocument=l,n.Zondy.xml.isNode=c,n.Zondy.xml.getAttributeNS=h,n.Zondy.xml.parse=f,n.Zondy.xml.makeArrayExtender=p,n.Zondy.xml.makeArrayPusher=d,n.Zondy.xml.makeReplacer=y,n.Zondy.xml.makeObjectPropertyPusher=g,n.Zondy.xml.makeObjectPropertySetter=v,n.Zondy.xml.makeChildAppender=m,n.Zondy.xml.makeArraySerializer=_,n.Zondy.xml.makeSimpleNodeFactory=b,n.Zondy.xml.OBJECT_PROPERTY_NODE_FACTORY=x,n.Zondy.xml.makeSequence=w,n.Zondy.xml.makeStructureNS=S,n.Zondy.xml.parseNode=P,n.Zondy.xml.pushParseAndPop=E,n.Zondy.xml.serialize=O,n.Zondy.xml.applyTransform=C},function(t,e,r){"use strict";var n=r(263),i=r(273),o=r(74);t.exports={formats:o,parse:i,stringify:n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisPoint=void 0;var n=r(2),i=r(20),o=function(t){return t&&t.__esModule?t:{default:t}}(r(304)),s=r(148);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));r.hasM=!1,r.hasZ=!1,r.latitude=0,r.longitude=0,r.m=void 0,r.x=0,r.y=0,r.z=void 0,r.type="point";var i=r.spatialReference.wkid;if((0,n.extend)(r,t),t)if(!t.hasOwnProperty("spatialReference")||t.hasOwnProperty("spatialReference")&&t.spatialReference.hasOwnProperty("wkid")&&4326===t.spatialReference.wkid){var o=r;["longitude","latitude","x","y"].forEach(function(e){t.hasOwnProperty(e)||(o[e]=void 0)}),t.hasOwnProperty("x")&&(r.longitude=r.x),t.hasOwnProperty("y")&&(r.latitude=r.y),!t.hasOwnProperty("x")&&t.hasOwnProperty("longitude")&&(r.x=r.longitude),!t.hasOwnProperty("y")&&t.hasOwnProperty("latitude")&&(r.y=r.latitude)}else t.hasOwnProperty("spatialReference")&&t.spatialReference.hasOwnProperty("wkid")&&3857===t.spatialReference.wkid&&(t.hasOwnProperty("longitude")&&t.hasOwnProperty("latitude")?u(i,"3857",[r.longitude,r.latitude],"x","y",r,t):t.hasOwnProperty("x")&&t.hasOwnProperty("y")?u("3857",i,[r.x,r.y],"longitude","latitude",r,t):(t.hasOwnProperty("x")||(t.hasOwnProperty("longitude")&&(r.x=r.longitude),t.hasOwnProperty("longitude")||(r.x=r.longitude=void 0)),t.hasOwnProperty("y")||(t.hasOwnProperty("latitude")&&(r.y=r.latitude),t.hasOwnProperty("latitude")||(r.y=r.latitude=void 0)),u("3857",i,[r.x,r.y],"longitude","latitude",r,t)));else r.x=r.y=r.latitude=r.longitude=void 0;return r.hasM=!!r.m,r.hasZ=!!r.z,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisGeometry),e}();function u(t,e,r,n,i,a,u){var l=(0,o.default)("EPSG:"+t,"EPSG:"+e,[r[0],r[1]]);a[n]=isNaN(l[0])?void 0:l[0],a[i]=isNaN(l[1])?void 0:l[1],a.spatialReference=new s.ArcGisSpatialReference(u.spatialReference)}a.prototype.toArray=function(){var t=[];return t.push(this.x),t.push(this.y),this.z&&t.push(this.z),t},a.prototype.copy=function(t){(0,n.extend)(this,t)},a.prototype.distance=function(t){var e=Math.abs(this.x-t.x),r=Math.abs(this.y-t.y),n=0;return this.hasZ&&t.hasZ&&(n=Math.abs(this.z-t.z)),Math.sqrt(Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))},a.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.m===t.m&&this.spatialRefere.equals(t.spatialRefere)},a.prototype.toGeometryJSON=function(){return'{"x":'+this.x+',"y":'+this.y+"}"},e.ArcGisPoint=a,n.Zondy.Service.ArcGisPoint=a},function(t,e){t.exports=function(t){return t<0?-1:1}},function(t,e){t.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e){t.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e){t.exports=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e){t.exports=function(t){return t*t*t*(35/3072)}},function(t,e){t.exports=function(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}},function(t,e,r){var n=Math.PI/2,i=r(29);t.exports=function(t){return Math.abs(t)<n?t:t-i(t)*Math.PI}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttStruct=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.FldNumber=void 0!==e.FldNumber?e.FldNumber:0,this.FldName=void 0!==e.FldName?e.FldName:null,this.FldType=void 0!==e.FldType?e.FldType:null};e.CAttStruct=o,n.Zondy.Object.CAttStruct=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLineInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.LinStyleID=void 0!==e.LinStyleID&&null!==e.LinStyleID?e.LinStyleID:1,this.LinStyleID2=void 0!==e.LinStyleID2&&null!==e.LinStyleID2?e.LinStyleID2:0,this.LinWidth=void 0!==e.LinWidth&&null!==e.LinWidth?e.LinWidth:1,this.Xscale=void 0!==e.Xscale&&null!==e.Xscale?e.Xscale:1,this.Yscale=void 0!==e.Yscale&&null!==e.Yscale?e.Yscale:1};e.CLineInfo=o,n.Zondy.Object.CLineInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGraphicBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1);var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=void 0!==e?e:{};(0,o.extend)(this,r),this.GID=void 0!==r.GID&&null!==r.GID?r.GID:0}return n(t,[{key:"setGID",value:function(t){void 0!==t&&null!==t&&(this.GID=t)}}]),t}();e.FeatureGraphicBase=s,i.Zondy.Object.FeatureGraphicBase=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameter=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(110);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.QueryParameterBase),n(e,[{key:"getParameterURL",value:function(){var t="page="+this.pageIndex.toString();return t+="&pageCount="+this.recordNumber.toString(),t+="&f="+this.resultFormat,this.geometry&&(t+="&geometry="+this.geometry.toString(),t+="&geometryType="+this.geometry.getGeometryType()),this.struct&&(t+="&structs="+(0,o.toJSON)(this.struct)),this.where&&(t+="&where="+this.where),this.rule&&(t+="&rule="+(0,o.toJSON)(this.rule)),this.objectIds&&(t+="&objectIds="+this.objectIds),this.orderField&&(t+="&orderField="+this.orderField),void 0!==this.rtnLabel&&(t+="&rtnLabel="+this.rtnLabel),this.fields&&(t+="&fields="+this.fields),void 0!==this.coordPrecision&&(t+="&coordPrecision="+this.coordPrecision),this.isAsc&&(t+="&isAsc="+this.isAsc),this.proj&&(t+="&srsIds="+this.proj),this.guid&&(t+="&guid="+this.guid),t+="&cursorType="+this.cursorType}},{key:"getParameterObject",value:function(){var t={};return t.f=this.resultFormat,null!==this.struct&&(t.structs=this.struct.toJSON()),null!==this.objectIds?(t.objectIds=this.objectIds,t):(t.page=this.pageIndex.toString(),t.pageCount=this.recordNumber.toString(),null!==this.geometry&&(t.geometry=this.geometry.toString(),t.geometryType=this.geometry.getGeometryType()),null!==this.where&&(t.where=this.where),null!==this.rule&&(t.rule=this.rule.toJSON()),null!==this.orderField&&(t.orderField=this.orderField),null!==this.isAsc&&(t.isAsc=this.isAsc),t.cursorType=this.cursorType,t)}}]),e}();e.QueryParameter=a,i.Zondy.Service.QueryParameter=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipBase=void 0;var n=r(0),i=r(11);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.desInfo=void 0!==r.desInfo?r.desInfo:null,n.attOptType=void 0!==r.attOptType?r.attOptType:1,n.infoOptType=void 0!==r.infoOptType?r.infoOptType:1,n.overType=void 0!==r.overType?r.overType:3,n.tolerance=void 0!==r.tolerance?r.tolerance:1e-4,n.isCleanNode=void 0!==r.isCleanNode&&r.isCleanNode,n.isLabelPnt=void 0!==r.isLabelPnt&&r.isLabelPnt,n.isValidReg=void 0!==r.isValidReg&&r.isValidReg,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ClipBase=o,n.Zondy.Service.ClipBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPntInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.FillFlg=void 0!==e.FillFlg?e.FillFlg:0,this.Height=void 0!==e.Height?e.Height:0,this.Width=void 0!==e.Width?e.Width:0,this.OutClr=void 0!==e.OutClr?e.OutClr:[0,0,0],this.SymID=void 0!==e.SymID?e.SymID:0,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CPntInfo=o,n.Zondy.Object.Theme.CPntInfo=o},function(t,e,r){t.exports=r(237)},function(t,e,r){"use strict";const n=r(12),i=r(12).buildOptions,o=r(258);"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,n.nameRegexp);!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const s={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(t,e){return t},attrValueProcessor:function(t,e){return t},stopNodes:[]};e.defaultOptions=s;const a=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];function u(t,e,r){return e&&(r.trimValues&&(e=e.trim()),e=c(e=r.tagValueProcessor(e,t),r.parseNodeValue,r.parseTrueNumberOnly)),e}function l(t,e){if(e.ignoreNameSpace){const e=t.split(":"),r="/"===t.charAt(0)?"/":"";if("xmlns"===e[0])return"";2===e.length&&(t=r+e[1])}return t}function c(t,e,r){if(e&&"string"==typeof t){let e;return""===t.trim()||isNaN(t)?e="true"===t||"false"!==t&&t:(-1!==t.indexOf("0x")?e=Number.parseInt(t,16):-1!==t.indexOf(".")?(e=Number.parseFloat(t),t=t.replace(/\.?0+$/,"")):e=Number.parseInt(t,10),r&&(e=String(e)===t?e:t)),e}return n.isExist(t)?t:""}e.props=a;const h=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function f(t,e){if(!e.ignoreAttributes&&"string"==typeof t){t=t.replace(/\r?\n/g," ");const r=n.getAllMatches(t,h),i=r.length,o={};for(let t=0;t<i;t++){const n=l(r[t][1],e);n.length&&(void 0!==r[t][4]?(e.trimValues&&(r[t][4]=r[t][4].trim()),r[t][4]=e.attrValueProcessor(r[t][4],n),o[e.attributeNamePrefix+n]=c(r[t][4],e.parseAttributeValue,e.parseTrueNumberOnly)):e.allowBooleanAttributes&&(o[e.attributeNamePrefix+n]=!0))}if(!Object.keys(o).length)return;if(e.attrNodeName){const t={};return t[e.attrNodeName]=o,t}return o}}function p(t,e){let r,n="";for(let i=e;i<t.length;i++){let e=t[i];if(r)e===r&&(r="");else if('"'===e||"'"===e)r=e;else{if(">"===e)return{data:n,index:i};"\t"===e&&(e=" ")}n+=e}}function d(t,e,r,n){const i=t.indexOf(e,r);if(-1===i)throw new Error(n);return i+e.length-1}e.getTraversalObj=function(t,e){t=t.replace(/\r\n?/g,"\n"),e=i(e,s,a);const r=new o("!xml");let l=r,c="";for(let r=0;r<t.length;r++)if("<"===t[r])if("/"===t[r+1]){const i=d(t,">",r,"Closing Tag is not closed.");let o=t.substring(r+2,i).trim();if(e.ignoreNameSpace){const t=o.indexOf(":");-1!==t&&(o=o.substr(t+1))}l&&(l.val?l.val=n.getValue(l.val)+""+u(o,c,e):l.val=u(o,c,e)),e.stopNodes.length&&e.stopNodes.includes(l.tagname)&&(l.child=[],void 0==l.attrsMap&&(l.attrsMap={}),l.val=t.substr(l.startIndex+1,r-l.startIndex-1)),l=l.parent,c="",r=i}else if("?"===t[r+1])r=d(t,"?>",r,"Pi Tag is not closed.");else if("!--"===t.substr(r+1,3))r=d(t,"--\x3e",r,"Comment is not closed.");else if("!D"===t.substr(r+1,2)){const e=d(t,">",r,"DOCTYPE is not closed.");r=t.substring(r,e).indexOf("[")>=0?t.indexOf("]>",r)+1:e}else if("!["===t.substr(r+1,2)){const i=d(t,"]]>",r,"CDATA is not closed.")-2,s=t.substring(r+9,i);if(c&&(l.val=n.getValue(l.val)+""+u(l.tagname,c,e),c=""),e.cdataTagName){const t=new o(e.cdataTagName,l,s);l.addChild(t),l.val=n.getValue(l.val)+e.cdataPositionChar,s&&(t.val=s)}else l.val=(l.val||"")+(s||"");r=i+2}else{const i=p(t,r+1);let s=i.data;const a=i.index,h=s.indexOf(" ");let d=s,y=!0;if(-1!==h&&(d=s.substr(0,h).replace(/\s\s*$/,""),s=s.substr(h+1)),e.ignoreNameSpace){const t=d.indexOf(":");-1!==t&&(y=(d=d.substr(t+1))!==i.data.substr(t+1))}if(l&&c&&"!xml"!==l.tagname&&(l.val=n.getValue(l.val)+""+u(l.tagname,c,e)),s.length>0&&s.lastIndexOf("/")===s.length-1){s="/"===d[d.length-1]?d=d.substr(0,d.length-1):s.substr(0,s.length-1);const t=new o(d,l,"");d!==s&&(t.attrsMap=f(s,e)),l.addChild(t)}else{const t=new o(d,l);e.stopNodes.length&&e.stopNodes.includes(t.tagname)&&(t.startIndex=a),d!==s&&y&&(t.attrsMap=f(s,e)),l.addChild(t),l=t}c="",r=a}else c+=t[r];return r}},function(t,e){var r=Math.PI/2;t.exports=function(t,e,n){var i=t*n,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(r-e))/i}},function(t,e){var r=Math.PI/2;t.exports=function(t,e){for(var n,i,o=.5*t,s=r-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(s),s+=i=r-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-s,Math.abs(i)<=1e-10)return s;return-9999}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnyLine=void 0;var n=r(0),i=r(1),o=function(t,e){var r=void 0!==e?e:{};(0,i.extend)(this,r),this.Arcs=void 0!==t&&null!==t?t:null};e.AnyLine=o,n.Zondy.Object.AnyLine=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPointInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Angle=void 0!==e.Angle&&null!==e.Angle?e.Angle:1,this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.SymHeight=void 0!==e.SymHeight&&null!==e.SymHeight?e.SymHeight:1,this.SymID=void 0!==e.SymID&&null!==e.SymID?e.SymID:1,this.SymWidth=void 0!==e.SymWidth&&null!==e.SymWidth?e.SymWidth:1};e.CPointInfo=o,n.Zondy.Object.CPointInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegionInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.EndColor=void 0!==e.EndColor&&null!==e.EndColor?e.EndColor:1,this.FillColor=void 0!==e.FillColor&&null!==e.FillColor?e.FillColor:1,this.FillMode=void 0!==e.FillMode&&null!==e.FillMode?e.FillMode:0,this.OutPenWidth=void 0!==e.OutPenWidth&&null!==e.OutPenWidth?e.OutPenWidth:1,this.PatAngle=void 0!==e.PatAngle&&null!==e.PatAngle?e.PatAngle:1,this.PatColor=void 0!==e.PatColor&&null!==e.PatColor?e.PatColor:1,this.PatHeight=void 0!==e.PatHeight&&null!==e.PatHeight?e.PatHeight:1,this.PatID=void 0!==e.PatID&&null!==e.PatID?e.PatID:1,this.PatWidth=void 0!==e.PatWidth&&null!==e.PatWidth?e.PatWidth:1};e.CRegionInfo=o,n.Zondy.Object.CRegionInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GPoint=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(38),s=r(8);var a=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return void 0!==t&&null!==t&&void 0!==r&&null!==r&&(o.Dot=new s.Point2D(t,r)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),n(e,[{key:"setDot",value:function(t){this.Dot=void 0!==t&&null!==t?t:null}}]),e}();e.GPoint=a,i.Zondy.Object.GPoint=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLine=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(38);r(46);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.Line=void 0!==t&&null!==t?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),n(e,[{key:"setLine",value:function(t){this.Line=void 0!==t&&null!==t?t:null}}]),e}();e.GLine=s,i.Zondy.Object.GLine=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GRegion=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(38);r(46);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.Rings=void 0!==t&&null!==t&&Array.isArray(t)?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),n(e,[{key:"setRings",value:function(t){this.Rings=void 0!==t&&null!==t?t:null}}]),e}();e.GRegion=s,i.Zondy.Object.GRegion=s},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=a(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new d(t,e)),1!==l.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditServiceBase=void 0;var n=r(0),i=r(5),o=r(1);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.guid=void 0!==r.guid?r.guid:(0,o.newGuid)(),n.baseUrl="igs/rest/mrfs",n.f=void 0!==r.f?r.f:"json",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.EditServiceBase=s,n.Zondy.Service.EditServiceBase=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureStruct=void 0;var n=r(0),i=r(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.IncludeAttribute=void 0===e.IncludeAttribute||"boolean"!=typeof e.IncludeAttribute||e.IncludeAttribute,this.IncludeGeometry=void 0!==e.IncludeGeometry&&"boolean"==typeof e.IncludeGeometry&&e.IncludeGeometry,this.IncludeWebGraphic=void 0!==e.IncludeWebGraphic&&"boolean"==typeof e.IncludeWebGraphic&&e.IncludeWebGraphic};o.prototype.toJSON=function(){return(0,i.toJSON)(this)},e.QueryFeatureStruct=o,n.Zondy.Service.QueryFeatureStruct=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPoint=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(56),o=r(2),s=u(r(24)),a=u(r(25));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.type="Point",(0,o.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Geometry),n(e,null,[{key:"getPointsCoordinates",value:function(t){for(var e=[],r=0;r<t.length;r++)for(var n=0;n<t[r].geometry.length;n++)e.push(t[r].geometry[n].coordinates);return e}},{key:"getPointsCenter",value:function(t){for(var e=[],r=0;r<t.length;r++)e.push(s.point(t[r]));return a.center(a.featureCollection(e))}}]),e}();e.VPoint=l,Zondy.Service.VPoint=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Geometry=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.coordinates=[]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPolyline=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(56),o=r(2),s=u(r(24)),a=u(r(25));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.type="LineString",(0,o.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Geometry),n(e,null,[{key:"getPolylinesCoordinates",value:function(t){for(var e=[],r=0;r<t.length;r++)for(var n=0;n<t[r].geometry.length;n++){for(var i=[],o=t[r].geometry[n].coordinates,s=0;s<o.length;s++)i.push([o[s].x,o[s].y]);e.push(i)}return e}},{key:"getPolylinesCenter",value:function(t){for(var e=[],r=0;r<t.length;r++)e.push(s.lineString(t[r]));return a.center(a.featureCollection(e))}}]),e}();e.VPolyline=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VPolygon=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(56),o=r(2),s=u(r(24)),a=u(r(25));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(r.type="Polygon",r.exterior=[],r.interior=[],(0,o.extend)(r,t),r.exterior.length>0&&r.coordinates.push(r.exterior),r.interior.length>0)for(var n=0;n<r.interior.length;n++)r.coordinates.push(r.interior[n]);return r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Geometry),n(e,null,[{key:"getPolygonsCoordinates",value:function(t){for(var e=[],r=0;r<t.length;r++)for(var n=0;n<t[r].geometry.length;n++){for(var i=[],o=t[r].geometry[n].exterior,s=[],a=t[r].geometry[n].interior,u=[],l=0;l<o.length;l++)s.push([o[l].x,o[l].y]);for(var c=0;c<a.length;c++){for(var h=[],f=0;f<a[c].length;f++)h.push([a[c][f].x,a[c][f].y]);u.push(h)}i.push(s),i=i.concat(u),e.push(i)}return e}},{key:"getPolygonsCenter",value:function(t){for(var e=[],r=0;r<t.length;r++)e.push(s.polygon(t[r]));return a.center(a.featureCollection(e))}}]),e}();e.VPolygon=l,Zondy.Service.VPolygon=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBase=void 0;var n=r(0),i=r(11);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,n.desInfo=void 0!==r.desInfo?r.desInfo:null,n.idstr=void 0!==r.idstr?r.idstr:"",n.angleType=void 0!==r.angleType?r.angleType:0,n.isDissolve=void 0===r.isDissolve||r.isDissolve,n.isDynPrj=void 0!==r.isDynPrj&&r.isDynPrj,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ClassBufferBase=o,n.Zondy.Service.ClassBufferBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBase=void 0;var n=r(0),i=r(11);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.sfGeometryXML=void 0!==r.sfGeometryXML?r.sfGeometryXML:null,n.attStrctXML=void 0!==r.attStrctXML?r.attStrctXML:null,n.attRowsXML=void 0!==r.attRowsXML?r.attRowsXML:null,n.traceRadius=void 0!==r.traceRadius?r.traceRadius:1e-4,n.resultName=void 0!==r.resultName?r.resultName:null,n.inFormat=void 0!==r.inFormat?r.inFormat:"json",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.FeatureBuffBase=o,n.Zondy.Service.FeatureBuffBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayBase=void 0;var n=r(0),i=r(11);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo1=void 0!==r.srcInfo1?r.srcInfo1:null,n.desInfo=void 0!==r.desInfo?r.desInfo:null,n.attOptType=void 0!==r.attOptType?r.attOptType:1,n.infoOptType=void 0!==r.infoOptType?r.infoOptType:1,n.overType=void 0!==r.overType?r.overType:3,n.isCleanNode=void 0!==r.isCleanNode&&r.isCleanNode,n.isLabelPnt=void 0!==r.isLabelPnt&&r.isLabelPnt,n.isValidReg=void 0!==r.isValidReg&&r.isValidReg,n.isReCalculate=void 0===r.isReCalculate||r.isReCalculate,n.radius=void 0!==r.radius?r.radius:.001,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.OverlayBase=o,n.Zondy.Service.OverlayBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBase=void 0;var n=r(0),i=r(11);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.clsName=void 0!==r.clsName?r.clsName:null,n.desClsName=void 0!==r.desClsName?r.desClsName:null,n.resultName=void 0!==r.resultName?r.resultName:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ProjectBase=o,n.Zondy.Service.ProjectBase=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=(r(8),r(3)),a=r(64),u=r(65);var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.dots=void 0!==r.dots?r.dots:null,n.projectInfo=void 0!==r.projectInfo?r.projectInfo:null,n.projectInfoBySRSID=void 0!==r.projectInfoBySRSID?r.projectInfoBySRSID:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"execute",value:function(t,e,r){t instanceof a.CProjectParam&&(this.projectInfo=t),t instanceof u.CProjectBySRSID&&(this.projectInfoBySrsID=t);var n={};n.Dots=this.dots,n.ProjectInfo=this.projectInfo,n.ProjectInfoBySrsID=this.projectInfoBySrsID;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.CalServiceBase=l,i.Zondy.Service.CalServiceBase=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectParam=void 0;var n=r(0),i=r(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.ProjAngleUnit=void 0!==e.ProjAngleUnit?e.ProjAngleUnit:0,this.ProjLat=void 0!==e.ProjLat?e.ProjLat:0,this.ProjLat1=void 0!==e.ProjLat1?e.ProjLat1:0,this.ProjLat2=void 0!==e.ProjLat2?e.ProjLat2:0,this.ProjLon=void 0!==e.ProjLon?e.ProjLon:0,this.ProjRate=void 0!==e.ProjRate?e.ProjRate:0,this.ProjType=void 0!==e.ProjType?e.ProjType:0,this.ProjTypeID=void 0!==e.ProjTypeID?e.ProjTypeID:0,this.ProjUnit=void 0!==e.ProjUnit?e.ProjUnit:0,this.ProjZoneNO=void 0!==e.ProjZoneNO?e.ProjZoneNO:0,this.ProjZoneType=void 0!==e.ProjZoneType?e.ProjZoneType:0,this.SphereID=void 0!==e.SphereID?e.SphereID:0};e.CProjectParam=o,n.Zondy.Service.CProjectParam=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectBySRSID=void 0;var n=r(0),i=(r(89),function(t,e){this.DesSrsID=t,this.GdbInfo=e});e.CProjectBySRSID=i,n.Zondy.Service.CProjectBySRSID=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfoAttribute=void 0;var n=r(0),i=function(t,e){this.name=void 0!==t?t:null,this.Value=void 0!==e?e:null};e.FolderInfoAttribute=i,n.Zondy.Object.Theme.FolderInfoAttribute=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readHref=void 0;var n=r(0),i=function(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")};e.readHref=i,n.Zondy.XLink.readHref=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(26);var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"read",value:function(t){if((0,o.isDocument)(t))return this.readFromDocument(t);if((0,o.isNode)(t))return this.readFromNode(t);if("string"==typeof t){var e=(0,o.parse)(t);return this.readFromDocument(e)}return null}},{key:"readFromDocument",value:function(t){}},{key:"readFromNode",value:function(t){}}]),t}();e.default=s,i.Zondy.Format.XML=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeStringTextNode=e.writeNonNegativeIntegerTextNode=e.writeDecimalTextNode=e.writeDateTimeTextNode=e.writeCDATASection=e.writeBooleanTextNode=e.readString=e.readNonNegativeIntegerString=e.readNonNegativeInteger=e.readDecimalString=e.readDecimal=e.readDateTime=e.readBooleanString=e.readBoolean=void 0;var n=r(0),i=r(26),o=r(230),s=function(t){var e=(0,i.getAllTextContent)(t,!1);return a(e)},a=function(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0},u=function(t){var e=(0,i.getAllTextContent)(t,!1),r=Date.parse(e);return isNaN(r)?void 0:r/1e3},l=function(t){var e=(0,i.getAllTextContent)(t,!1);return c(e)},c=function(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0},h=function(t){var e=(0,i.getAllTextContent)(t,!1);return f(e)},f=function(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0},p=function(t){return(0,i.getAllTextContent)(t,!1).trim()},d=function(t,e){_(t,e?"1":"0")},y=function(t,e){t.appendChild(i.DOCUMENT.createCDATASection(e))},g=function(t,e){var r=new Date(1e3*e),n=r.getUTCFullYear()+"-"+(0,o.padNumber)(r.getUTCMonth()+1,2)+"-"+(0,o.padNumber)(r.getUTCDate(),2)+"T"+(0,o.padNumber)(r.getUTCHours(),2)+":"+(0,o.padNumber)(r.getUTCMinutes(),2)+":"+(0,o.padNumber)(r.getUTCSeconds(),2)+"Z";t.appendChild(i.DOCUMENT.createTextNode(n))},v=function(t,e){var r=e.toPrecision();t.appendChild(i.DOCUMENT.createTextNode(r))},m=function(t,e){var r=e.toString();t.appendChild(i.DOCUMENT.createTextNode(r))},_=function(t,e){t.appendChild(i.DOCUMENT.createTextNode(e))};e.readBoolean=s,e.readBooleanString=a,e.readDateTime=u,e.readDecimal=l,e.readDecimalString=c,e.readNonNegativeInteger=h,e.readNonNegativeIntegerString=f,e.readString=p,e.writeBooleanTextNode=d,e.writeCDATASection=y,e.writeDateTimeTextNode=g,e.writeDecimalTextNode=v,e.writeNonNegativeIntegerTextNode=m,e.writeStringTextNode=_,n.Zondy.xsd.readBoolean=s,n.Zondy.xsd.readBooleanString=a,n.Zondy.xsd.readDateTime=u,n.Zondy.xsd.readDecimal=l,n.Zondy.xsd.readDecimalString=c,n.Zondy.xsd.readNonNegativeInteger=h,n.Zondy.xsd.readNonNegativeIntegerString=f,n.Zondy.xsd.readString=p,n.Zondy.xsd.writeBooleanTextNode=d,n.Zondy.xsd.writeCDATASection=y,n.Zondy.xsd.writeDateTimeTextNode=g,n.Zondy.xsd.writeDecimalTextNode=v,n.Zondy.xsd.writeNonNegativeIntegerTextNode=m,n.Zondy.xsd.writeStringTextNode=_},function(t,e,r){"use strict";(function(e){var n=r(7),i=r(240),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(139):void 0!==e&&(t=r(139)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(o)}),t.exports=a}).call(this,r(52))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.MapGIS=window.MapGIS||{};n.OGC=n.OGC||{},e.MapGIS=n},function(t,e,r){"use strict";var n=SyntaxError,i=Function,o=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(t){a=null}var u=function(){throw new o},l=a?function(){try{return arguments.callee,u}catch(t){try{return a(arguments,"callee").get}catch(t){return u}}}():u,c=r(265)(),h=Object.getPrototypeOf||function(t){return t.__proto__},f={},p="undefined"==typeof Uint8Array?void 0:h(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":c?h([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?h(h([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?h((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?h((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?h(""[Symbol.iterator]()):void 0,"%Symbol%":c?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(73),v=r(268),m=g.call(Function.call,Array.prototype.concat),_=g.call(Function.apply,Array.prototype.splice),b=g.call(Function.call,String.prototype.replace),x=g.call(Function.call,String.prototype.slice),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,P=function(t,e){var r,i=t;if(v(y,i)&&(i="%"+(r=y[i])[0]+"%"),v(d,i)){var a=d[i];if(a===f&&(a=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=h(i.prototype))}return d[e]=r,r}(i)),void 0===a&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var r=function(t){var e=x(t,0,1),r=x(t,-1);if("%"===e&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return b(t,w,function(t,e,r,n){i[i.length]=r?b(n,S,"$1"):e||t}),i}(t),i=r.length>0?r[0]:"",s=P("%"+i+"%",e),u=s.name,l=s.value,c=!1,h=s.alias;h&&(i=h[0],_(r,m([0,1],h)));for(var f=1,p=!0;f<r.length;f+=1){var y=r[f],g=x(y,0,1),E=x(y,-1);if(('"'===g||"'"===g||"`"===g||'"'===E||"'"===E||"`"===E)&&g!==E)throw new n("property names with quotes must have matching quotes");if("constructor"!==y&&p||(c=!0),v(d,u="%"+(i+="."+y)+"%"))l=d[u];else if(null!=l){if(!(y in l)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(a&&f+1>=r.length){var O=a(l,y);l=(p=!!O)&&"get"in O&&!("originalValue"in O.get)?O.get:l[y]}else p=v(l,y),l=l[y];p&&!c&&(d[u]=l)}}return l}},function(t,e,r){"use strict";var n=r(267);t.exports=Function.prototype.bind||n},function(t,e,r){"use strict";var n=String.prototype.replace,i=/%20/g,o="RFC1738",s="RFC3986";t.exports={default:s,formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return String(t)}},RFC1738:o,RFC3986:s}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CloudDiskService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(27)),o=r(5),s=r(3);var a=e.CloudDiskService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=t.headers;return r.fixParams(t),r.headers=n||void 0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"setHeaders",value:function(t){this.headers=t}},{key:"fixParams",value:function(t){this.params=t,delete this.params.url,delete this.params.ip,delete this.params.port,delete this.params.domain,delete this.params.baseUrl,delete this.params.networkProtocol,delete this.params.partUrl}},{key:"getBaseUrl",value:function(){var t="",e=this.baseUrl,r=this.ip,n=this.port,i=this.domain,o=this.networkProtocol;return e?t=e:i?t=i:o&&r&&n&&(t=o+"://"+r+":"+n),t}},{key:"getFullUrl",value:function(t,e){return this.getBaseUrl()+t+"?"+i.default.stringify(e)}},{key:"get",value:function(t,e,r){new s.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"GET",headers:this.headers||{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"post",value:function(t,e,r,n){new s.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(e),headers:this.headers||{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2);var o={displayFieldName:null,geometryType:null,hasM:!1,hasZ:!1,queryGeometry:null,spatialReference:null,transform:null},s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"getPromise",value:function(t){var e=this;return new Promise(function(r,n){e.get(t,function(e){e=JSON.parse(e),t.indexOf("FeatureServer")>-1&&t.indexOf("query")>-1&&(e=(0,i.extend)(e,o)),r(e)},function(t){n(JSON.parse(t))})})}},{key:"getPromiseP",value:function(t,e){var r=this;return new Promise(function(n,i){r.post(t,e,function(t){n(JSON.parse(t))},function(t){i(JSON.parse(t))})})}},{key:"get",value:function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&200==n.status||304==n.status?e.call(this,n.responseText):4===n.readyState&&200!==n.status&&304!==n.status&&r.call(this,n.responseText)},n.send()}},{key:"post",value:function(t,e,r,n){var i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(t){4!==i.readyState||200!==i.status&&304!==i.status?4===i.readyState&&200!==i.status&&304!==i.status&&n.call(this,i.responseText):r.call(this,i.responseText)},i.send(e)}}]),t}();e.ArcGisServiceBase=s,i.Zondy.Service.ArcGisServiceBase=s},function(t,e,r){var n=r(306),i=r(78),o=r(310),s=r(313);function a(t,e){if(!(this instanceof a))return new a(t);e=e||function(t){if(t)throw t};var r=n(t);if("object"==typeof r){var o=s(r),u=a.projections.get(o.projName);u?(i(this,o),i(this,u),this.init(),e(null,this)):e(t)}else e(t)}a.projections=o,a.projections.start(),t.exports=a},function(t,e){t.exports=function(t,e){var r,n;if(t=t||{},!e)return t;for(n in e)void 0!==(r=e[n])&&(t[n]=r);return t}},function(t,e){t.exports=function(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}},function(t,e){t.exports=function(t,e,r,n,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-r*Math.sin(2*o)+n*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*r*Math.cos(2*o)+4*n*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN}},function(t,e){t.exports=function(t,e){var r;return t>1e-7?(1-t*t)*(e/(1-(r=t*e)*r)-.5/t*Math.log((1-r)/(1+r))):2*e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynShowStyle=void 0;var n=r(0),i=r(1),o=(r(83),r(6),r(37),r(47),r(48),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Alpha=void 0!==e.Alpha?e.Alpha:0,this.BugSpare=void 0!==e.BugSpare&&e.BugSpare,this.CustomRender=void 0!==e.CustomRender&&e.CustomRender,this.CustomRenderPath=void 0!==e.CustomRenderPath?e.CustomRenderPath:null,this.DirectionLineClr=void 0!==e.DirectionLineClr?e.DirectionLineClr:0,this.DynNoteFlag=void 0!==e.DynNoteFlag&&e.DynNoteFlag,this.DynNoteInfo=void 0!==e.DynNoteInfo?e.DynNoteInfo:null,this.IsShowArc=void 0!==e.IsShowArc?e.IsShowArc:0,this.ISShowLineDirection=void 0!==e.ISShowLineDirection&&e.ISShowLineDirection,this.LineInfo=void 0!==e.LineInfo?e.LineInfo:null,this.MaxScale=void 0!==e.MaxScale?e.MaxScale:0,this.MinScale=void 0!==e.MinScale?e.MinScale:0,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.SpareLineInfo=void 0!==e.SpareLineInfo?e.SpareLineInfo:null,this.SparePointInfo=void 0!==e.SparePointInfo?e.SparePointInfo:null,this.SpareRegInfo=void 0!==e.SpareRegInfo?e.SpareRegInfo:null,this.SymbleScale=void 0!==e.SymbleScale?e.SymbleScale:0});e.DynShowStyle=o,n.Zondy.Object.DynShowStyle=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDynNoteInfo=void 0;var n=r(0),i=r(1),o=r(6),s=(r(84),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Angle=void 0!==e.Angle?e.Angle:0,this.Backclr=void 0!==e.Backclr?e.Backclr:0,this.Backexp=void 0!==e.Backexp?e.Backexp:0,this.Bold=void 0!==e.Bold?e.Bold:0,this.FieldName=void 0!==e.FieldName?e.FieldName:null,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.FontColor=void 0!==e.FontColor?e.FontColor:0,this.FontSize=void 0!==e.FontSize?e.FontSize:0,this.FontStyle=void 0!==e.FontStyle?e.FontStyle:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:o.FontShape.Positive,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0!==e.IsHzpl&&e.IsHzpl,this.IsOvprnt=void 0!==e.IsOvprnt&&e.IsOvprnt,this.LabelLevel=void 0!==e.LabelLevel?e.LabelLevel:0,this.LableType=void 0!==e.LableType?e.LableType:null,this.Offsetx=void 0!==e.Offsetx?e.Offsetx:0,this.Offsety=void 0!==e.Offsety?e.Offsety:0,this.Space=void 0!==e.Space?e.Space:0,this.StrikeThrough=void 0!==e.StrikeThrough?e.StrikeThrough:0,this.UnderLine=void 0!==e.UnderLine?e.UnderLine:0});e.CDynNoteInfo=s,n.Zondy.Object.CDynNoteInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynNoteLableType=void 0;var n=r(0),i=r(1),o=(r(85),r(86),r(87),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.DynNoteLableType=o,n.Zondy.Object.DynNoteLableType=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LablePntInfo=void 0;var n=r(0),i=r(1),o=(r(6),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Ang=void 0!==e.Ang&&null!==e.Ang?e.Ang:null,this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.Distance=void 0!==e.Distance&&null!==e.Distance?e.Distance:0,this.EightDirLableType=void 0!==e.EightDirLableType&&null!==e.EightDirLableType?e.EightDirLableType:null,this.PntType=void 0!==e.PntType&&null!==e.PntType?e.PntType:0});e.LablePntInfo=o,n.Zondy.Object.LablePntInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelLinInfo=void 0;var n=r(0),i=r(1),o=(r(6),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.DistFromLine=void 0!==e.DistFromLine&&null!==e.DistFromLine?e.DistFromLine:0,this.FromLineConstrain=void 0!==e.FromLineConstrain&&null!==e.FromLineConstrain?e.FromLineConstrain:0,this.Interval=void 0!==e.Interval&&null!==e.Interval?e.Interval:0,this.LinType=void 0!==e.LinType&&null!==e.LinType?e.LinType:0,this.Repeat=void 0!==e.Repeat&&null!==e.Repeat?e.Repeat:0,this.SpreadType=void 0!==e.SpreadType&&null!==e.SpreadType?e.SpreadType:null});e.LabelLinInfo=o,n.Zondy.Object.LabelLinInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelRegInfo=void 0;var n=r(0),i=r(1),o=(r(6),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.LabelMiniRegion=void 0!==e.LabelMiniRegion&&null!==e.LabelMiniRegion?e.LabelMiniRegion:0,this.MayPlaceOutside=void 0!==e.MayPlaceOutside&&null!==e.MayPlaceOutside?e.MayPlaceOutside:0,this.MiniRegionArea=void 0!==e.MiniRegionArea&&null!==e.MiniRegionArea?e.MiniRegionArea:0,this.Offset=void 0!==e.Offset&&null!==e.Offset?e.Offset:0,this.RegType=void 0!==e.RegType&&null!==e.RegType?e.RegType:0});e.LabelRegInfo=o,n.Zondy.Object.LabelRegInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyleExtend=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Index=void 0!==e.Index?e.Index:0,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag};e.CDisplayStyleExtend=o,n.Zondy.Object.CDisplayStyleExtend=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGDBInfo=void 0;var n=r(0),i=function(t){var e=t||{};this.GDBSvrName=void 0!==e.ServerName?e.ServerName:null,this.GDBName=void 0!==e.GDBName?e.GDBName:null,this.User=void 0!==e.User?e.User:null,this.Password=void 0!==e.Password?e.Password:null};e.CGDBInfo=i,n.Zondy.Object.CGDBInfo=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0;var n=r(0),i=r(1),o=r(91),s=(r(92),r(6),r(93)),a=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AttValue=void 0!==e.AttValue&&null!==e.AttValue?e.AttValue:null,this.FID=void 0!==e.FID&&null!==e.FID?e.FID:0,this.bound=void 0!==e.bound&&null!==e.bound?e.bound:null,this.fGeom=void 0!==e.fGeom&&null!==e.fGeom?e.fGeom:null,this.ftype=void 0!==e.ftype&&null!==e.ftype?e.ftype:0,this.GraphicInfo=void 0!==e.GraphicInfo&&null!==e.GraphicInfo?e.GraphicInfo:null};a.prototype.getAttValue=function(t){if(null===this.AttValue)return null;var e=this.AttValue.length;return"number"==typeof t?t>=e?null:this.AttValue[t]:void 0},a.prototype.getGraphicInfo=function(){return null===this.GraphicInfo?null:new s.WebGraphicsInfo(this.GraphicInfo)},a.prototype.getAttValueArray=function(){return this.AttValue},a.prototype.getRectBound=function(){var t=this.bound;return null!==t?new o.Rectangle(t):t},a.prototype.getGeometry=function(){return this.fGeom},a.prototype.getFID=function(){return this.FID},a.prototype.setAttValues=function(t){this.AttValue=t},a.prototype.setBound=function(t){var e=null;"string"==typeof t&&(e=new o.Rectangle(t)),t instanceof String&&(e=new o.Rectangle(t)),t instanceof o.Rectangle&&(e=t),t instanceof ol.extent&&(e=new o.Rectangle).setByOL(t),this.bound=e},a.prototype.setFID=function(t){this.FID=t},a.prototype.setFType=function(t){this.ftype=t},a.prototype.destroy=function(){this.AttValue=null,this.FID=null,this.bound=null,this.fGeom=null,this.ftype=null,this.GraphicInfo=null},e.Feature=a,n.Zondy.Object.Feature=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(14);var o=function(t){function e(t,r,n,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=o||{},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s));return a.xmin=t,a.xmax=n,a.ymin=r,a.ymax=i,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),n(e,[{key:"setByOL",value:function(t){void 0!==t&&null!==t&&(this.xmin=t[0],this.ymin=t[1],this.xmax=t[2],this.ymax=t[3])}},{key:"toString",value:function(){return this.xmin+","+this.ymin+","+this.xmax+","+this.ymax}},{key:"getGeometryType",value:function(){return"rect"}},{key:"convertToBound",value:function(){return[this.xmin,this.ymin,this.xmax,this.ymax]}},{key:"intersectsBounds",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),null===(e=e||{}).inclusive&&(e.inclusive=!0);var r=!1,n=this.xmin===t.xmax||this.xmax===t.xmin||this.ymax===t.ymin||this.ymin===t.ymax;if(e.inclusive||!n){var i=t.ymin>=this.ymin&&t.ymin<=this.ymax||this.ymin>=t.ymin&&this.ymin<=t.ymax,o=t.ymax>=this.ymin&&t.ymax<=this.ymax||this.ymax>t.ymin&&this.ymax<t.ymax,s=t.xmin>=this.xmin&&t.xmin<=this.xmax||this.xmin>=t.xmin&&this.xmin<=t.xmax,a=t.xmax>=this.xmin&&t.xmax<=this.xmax||this.xmax>=t.xmin&&this.xmax<=t.xmax;r=(i||o)&&(s||a)}return r}}]),e}();e.Rectangle=o,Zondy.Object.Rectangle=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGeometry=void 0;var n=r(0),i=r(1),o=(r(49),r(50),r(51),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.PntGeom=void 0!==e.PntGeom&&null!==e.PntGeom?e.PntGeom:null,this.LinGeom=void 0!==e.LinGeom&&null!==e.LinGeom?e.LinGeom:null,this.RegGeom=void 0!==e.RegGeom&&null!==e.RegGeom?e.RegGeom:null});o.prototype.setPntGeom=function(t){this.PntGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setLine=function(t){this.LinGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setRegGeom=function(t){this.RegGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},e.FeatureGeometry=o,n.Zondy.Object.FeatureGeometry=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGraphicsInfo=void 0;var n=r(0),i=r(1),o=(r(6),r(47),r(37),r(48),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.InfoType=void 0!==e.InfoType&&null!==e.InfoType?e.InfoType:0,this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.WebGraphicsInfo=o,n.Zondy.Object.WebGraphicsInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSet=void 0;var n=r(0),i=r(1),o=(r(36),r(90)),s=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.TotalCount=void 0!==e.TotalCount&&null!==e.TotalCount?e.TotalCount:0,this.AttStruct=void 0!==e.AttStruct&&null!==e.AttStruct?e.AttStruct:null,this.SFEleArray=void 0!==e.SFEleArray&&null!==e.SFEleArray?e.SFEleArray:new Array};s.prototype.clear=function(){this.AttStruct=null,this.SFEleArray=new Array},s.prototype.addFeature=function(t){t instanceof Array?this.SFEleArray.concat(t):this.SFEleArray.push(t)},s.prototype.getFeaturesLength=function(){return this.SFEleArray instanceof Array?this.SFEleArray.length:0},s.prototype.getFeatureByIndex=function(t){if(t>=this.getFeaturesLength())return null;var e=this.SFEleArray[t];return e instanceof o.Feature?e:new o.Feature(this.SFEleArray[t])},s.prototype.getAttType=function(t){var e;return null==this.AttStruct?null:null==(e="number"==typeof t?t:this.getAttIndexByAttName(t))?null:this.AttStruct.FldType[e]},s.prototype.getAttIndexByAttName=function(t){if(null==this.AttStruct)return null;if(null==this.AttStruct.FldName)return null;for(var e=this.AttStruct.FldName.length,r=0;r<e;r++)if(this.AttStruct.FldName[r]==t)return r;return null},s.prototype.getAttNameByIndex=function(t){return null==this.AttStruct?null:null==this.AttStruct.FldName?null:this.AttStruct.FldName.length<=t?null:this.AttStruct.FldName[t]},e.FeatureSet=s,n.Zondy.Object.FeatureSet=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(14),o=r(8);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),n(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getLinearRing(0).getCoordinates(),r=e.length,n=0;n<r;n++)this.pointArr[n]=new o.Point2D(e[n][0],e[n][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t="",e=0;e<this.pointArr.length;e++)t+=this.pointArr[e].x+","+this.pointArr[e].y+",";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"polygon"}}]),e}();e.Polygon=s,Zondy.Object.Polygon=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourNoteParam=void 0;var n=r(0),i=function(t){var e=void 0!=t?t:{};this.IsClipLine=void 0==e.IsClipLine||e.IsClipLine,this.isXYScaleOut=void 0!=e.isXYScaleOut&&e.isXYScaleOut,this.NoteDirection=void 0!=e.NoteDirection?e.NoteDirection:1,this.LineWidth=void 0!=e.LineWidth?e.LineWidth:.05,this.MaxAngle=void 0!=e.MaxAngle?e.MaxAngle:90,this.MinDist=void 0!=e.MinDist?e.MinDist:10,this.IsAbs=void 0!=e.IsAbs&&e.IsAbs,this.IsComma=void 0!=e.IsComma&&e.IsComma,this.DigitNum=void 0!=e.DigitNum?e.DigitNum:0,this.FormatNo=void 0!=e.FormatNo?e.FormatNo:0,this.LogFlag=void 0!=e.LogFlag?e.LogFlag:0,this.Prefix=void 0!=e.Prefix?e.Prefix:"",this.Suffix=void 0!=e.Suffix?e.Suffix:"",this.ColorNo=void 0!=e.ColorNo?e.ColorNo:0,this.FixSize=void 0!=e.FixSize?e.FixSize:.01,this.FontNo=void 0!=e.FontNo?e.FontNo:0};e.ContourNoteParam=i,n.Zondy.Object.ContourAnalyse.ContourNoteParam=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourParam=void 0;var n=r(0),i=(r(96),r(98),r(99),function(t){var e=void 0!=t?t:{};this.IsSmoothLine=void 0!==e.IsSmoothLine&&e.IsSmoothLine,this.SmoothGrade=void 0!==e.SmoothGrade?e.SmoothGrade:1,this.IsMakeReg=void 0!==e.IsMakeReg&&e.IsMakeReg,this.IsMakeNote=void 0!==e.IsMakeNote&&e.IsMakeNote,this.IsMakeSLin=void 0!==e.IsMakeSLin&&e.IsMakeSLin,this.MapWay=void 0!==e.MapWay?e.MapWay:1,this.FrameWidth=void 0!==e.FrameWidth?e.FrameWidth:1,this.FrameHeight=void 0!==e.FrameHeight?e.FrameHeight:1,this.IsDrawColorScl=void 0!==e.IsDrawColorScl&&e.IsDrawColorScl,this.IsSaveEdge=void 0!==e.IsSaveEdge&&e.IsSaveEdge,this.NoteParam=void 0!==e.NoteParam?e.NoteParam:new n.Zondy.Object.ContourAnalyse.ContourNoteParam,this.SlopLineParam=void 0!==e.SlopLineParam?e.SlopLineParam:new n.Zondy.Object.ContourAnalyse.SlopLineParam,this.ZValues=void 0!==e.ZValues?e.ZValues:new n.Zondy.Object.ContourAnalyse.ContourZValue});e.ContourParam=i,n.Zondy.Object.ContourAnalyse.ContourParam=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=void 0;var n=r(0),i=function(t){var e=void 0!==t?t:{};this.XScale=void 0!==e.XScale?e.XScale:2,this.YScale=void 0!==e.YScale?e.YScale:10,this.LineType=void 0!==e.LineType?e.LineType:0,this.SubLineType=void 0!==e.SubLineType?e.SubLineType:0};e.SlopLineParam=i,n.Zondy.Object.ContourAnalyse.SlopLineParam=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourZValue=void 0;var n=r(0),i=(r(37),r(100),function(t){var e=void 0!=t?t:{};this.ZValue=void 0!=e.ZValue?e.ZValue:1,this.LineInfo=void 0!=e.LineInfo?e.LineInfo:null,this.RegInfo=void 0!=e.RegInfo?e.RegInfo:null,this.IsOutputNote=void 0!=e.IsOutputNote&&e.IsOutputNote});e.ContourZValue=i,n.Zondy.Object.ContourAnalyse.ContourZValue=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourRegionInfo=void 0;var n=r(0),i=function(t){var e=void 0!=t?t:{};this.PatID=void 0!=e.PatID?e.PatID:0,this.FillMode=void 0!=e.FillMode?e.FillMode:0,this.FillColor=void 0!=e.FillColor?e.FillColor:1,this.PatHeight=void 0!=e.PatHeight?e.PatHeight:1,this.PatWidth=void 0!=e.PatWidth?e.PatWidth:1,this.PatAngle=void 0!=e.PatAngle?e.PatAngle:1,this.PatColor=void 0!=e.PatColor?e.PatColor:1,this.OutPenWidth=void 0!=e.OutPenWidth?e.OutPenWidth:1,this.OverMethod=void 0!=e.OverMethod?e.OverMethod:0};e.ContourRegionInfo=i,n.Zondy.Object.ContourAnalyse.ContourRegionInfo=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeshingParam=void 0;var n=r(0),i=function(t){var e=void 0!==t?t:{};this.SfClsURL=void 0!==e.SfClsURL?e.SfClsURL:null,this.FieldName=void 0!==e.FieldName?e.FieldName:null,this.XCellNum=void 0!==e.XCellNum?e.XCellNum:200,this.Bound=void 0!==e.Bound?e.Bound:null,this.CalN=void 0!==e.CalN?e.CalN:null,this.CalM=void 0!==e.CalM?e.CalM:null,this.bIsCalInValidCtrlPnt=void 0!==e.bIsCalInValidCtrlPnt&&e.bIsCalInValidCtrlPnt,this.nYCtrlNum=void 0!==e.nYCtrlNum?e.nYCtrlNum:null,this.nXCtrlNum=void 0!==e.nXCtrlNum?e.nXCtrlNum:null,this.nLayerNum=void 0!==e.nLayerNum?e.nLayerNum:null};e.MeshingParam=i,n.Zondy.Object.ContourAnalyse.MeshingParam=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommonServiceBase=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(103),a=r(104),u=r(105);var l=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,(0,o.isArray)(e)?(n.urls=e,n.length=e.length,n.totalTimes=n.length,1===n.length?n.url=e[0]:(n.index=parseInt(Math.random()*n.length),n.url=e[n.index])):(n.totalTimes=1,n.url=e),(r=r||{})&&(0,o.extend)(this,r),n.isInTheSameDomain=(0,o.isInTheSameDomain)(n.url),n.events=new s.Events(n,null,n.EVENT_TYPES,!0),n.eventListeners instanceof Object&&n.events.on(n.eventListeners)}return n(t,[{key:"destroy",value:function(){var t=this;(0,o.isArray)(t.urls)&&(t.urls=null,t.index=null,t.length=null,t.totalTimes=null),t.url=null,t.options=null,t._processSuccess=null,t._processFailed=null,t.isInTheSameDomain=null,t.EVENT_TYPES=null,t.events&&(t.events.destroy(),t.events=null),t.eventListeners&&(t.eventListeners=null)}},{key:"request",value:function(t){var e=this;t.url=t.url||e.url,t.isInTheSameDomain=e.isInTheSameDomain,e.calculatePollingTimes(),e._processSuccess=t.success,e._processFailed=t.failure,t.scope=e,t.success=e.getUrlCompleted,t.failure=e.getUrlFailed,e.options=t,e._commit(e.options)}},{key:"getUrlCompleted",value:function(t){this._processSuccess(t)}},{key:"getUrlFailed",value:function(t){this.totalTimes>0?(this.totalTimes--,this.ajaxPolling()):this._processFailed(t)}},{key:"ajaxPolling",value:function(){var t=this,e=t.options.url,r=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;t.index=parseInt(Math.random()*t.length),t.url=t.urls[t.index],e=e.replace(r,r.exec(t.url)[0]),t.options.url=e,t.options.isInTheSameDomain=(0,o.isInTheSameDomain)(e),t._commit(t.options)}},{key:"calculatePollingTimes",value:function(){var t=this;t.times?t.totalTimes>t.POLLING_TIMES?t.times>t.POLLING_TIMES?t.totalTimes=t.POLLING_TIMES:t.totalTimes=t.times:t.times<t.totalTimes&&(t.totalTimes=t.times):t.totalTimes>t.POLLING_TIMES&&(t.totalTimes=t.POLLING_TIMES),t.totalTimes--}},{key:"serviceProcessCompleted",value:function(t){t=(0,o.transformResult)(t),this.events.triggerEvent("processCompleted",{result:t})}},{key:"serviceProcessFailed",value:function(t){var e=(t=(0,o.transformResult)(t)).error||t;this.events.triggerEvent("processFailed",{error:e})}},{key:"_commit",value:function(t){"POST"!==t.method&&"PUT"!==t.method||(t.params&&(t.url=(0,o.urlAppend)(t.url,(0,o.getParameterString)(t.params||{}))),t.params=t.data),u.FetchRequest.commit(t.method,t.url,t.params,{headers:t.headers,withCredentials:t.withCredentials,timeout:t.async?0:null,proxy:t.proxy}).then(function(t){return t.text?t.text():t.json()}).catch(function(e){(t.scope?(0,o.bind)(t.failure,t.scope):t.failure)({error:!0,value:{}})}).then(function(e){if(e){var r=null;if("string"!=typeof e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"string"==typeof e&&(r=(new a.JSONFormat).read(e)):(r={},"true"===e.toLowerCase()?r.succeed=!0:r.error=!0),(!r&&isNaN(r)||r.error)&&(r=r&&r.error?{error:r.error}:{error:!0}),r.error)(t.scope?(0,o.bind)(t.failure,t.scope):t.failure)(r);else isNaN(r)||(r={value:r}),"string"==typeof r&&(r={value:r}),"[object Array]"!==Object.prototype.toString.call(r)?r.succeed=void 0===r.succeed||r.succeed:r={value:r,succeed:!0},(t.scope?(0,o.bind)(t.success,t.scope):t.success)(r)}})}}]),t}();e.CommonServiceBase=l,i.Zondy.Service.CommonServiceBase=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Events=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(1),o=function(t,e,r,n){if(this.listeners={},this.object=t,this.eventTypes=[],this.extensions={},this.extensionCount={},(0,i.extend)(this,n),null!=r)for(var o=0,s=r.length;o<s;o++)this.addEventType(r[o])};o.prototype.destroy=function(){for(var t in this.extensions)"boolean"!=typeof this.extensions[t]&&this.extensions[t].destroy();this.extensions=null,this.listeners=null,this.object=null,this.eventTypes=null},o.prototype.addEventType=function(t){this.listeners[t]||(this.eventTypes.push(t),this.listeners[t]=[])},o.prototype.on=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.register(e,t.scope,t[e])},o.prototype.register=function(t,e,r,s){if(t in o&&!this.extensions[t]&&(this.extensions[t]=new o[t](this)),null!=r&&-1!==(0,i.indexOf)(this.eventTypes,t)){null==e&&(e=this.object);var a=this.listeners[t];a||(a=[],this.listeners[t]=a,this.extensionCount[t]=0);var u={obj:e,func:r};s?(a.splice(this.extensionCount[t],0,u),"object"===(void 0===s?"undefined":n(s))&&s.extension&&this.extensionCount[t]++):a.push(u)}},o.prototype.registerPriority=function(t,e,r){this.register(t,e,r,!0)},o.prototype.un=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.unregister(e,t.scope,t[e])},o.prototype.unregister=function(t,e,r){null==e&&(e=this.object);var n=this.listeners[t];if(null!=n)for(var i=0,o=n.length;i<o;i++)if(n[i].obj===e&&n[i].func===r){n.splice(i,1);break}},o.prototype.remove=function(t){null!=this.listeners[t]&&(this.listeners[t]=[])},o.prototype.triggerEvent=function(t,e){var r=this.listeners[t];if(r&&0!=r.length){var n;null==e&&(e={}),e.object=this.object,e.type||(e.type=t);for(var i=0,o=(r=r.slice()).length;i<o;i++){var s=r[i];if(void 0!=(n=s.func.apply(s.obj,[e.result]))&&0==n)break}return n}},e.Events=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(1),o=function(t){this.data=null,this.keepData=!1,this.indent="    ",this.space=" ",this.newline="\n",this.level=0,this.pretty=!1,this.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify),(0,i.extend)(this,t),this.options=t,this.serialize={object:function(t){if(null==t)return"null";if(t.constructor===Date)return this.serialize.date.apply(this,[t]);if(t.constructor===Array)return this.serialize.array.apply(this,[t]);var e,r,n,i=["{"];this.level+=1;var o=!1;for(e in t)t.hasOwnProperty(e)&&(r=this.write.apply(this,[e,this.pretty]),n=this.write.apply(this,[t[e],this.pretty]),null!=r&&null!=n&&(o&&i.push(","),i.push(this.writeNewline(),this.writeIndent(),r,":",this.writeSpace(),n),o=!0));return this.level-=1,i.push(this.writeNewline(),this.writeIndent(),"}"),i.join("")},array:function(t){var e,r=["["];this.level+=1;for(var n=0,i=t.length;n<i;++n)null!=(e=this.write.apply(this,[t[n],this.pretty]))&&(n>0&&r.push(","),r.push(this.writeNewline(),this.writeIndent(),e));return this.level-=1,r.push(this.writeNewline(),this.writeIndent(),"]"),r.join("")},string:function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(t)?'"'+t.replace(/([\x00-\x1f\\"])/g,function(t,r){var n=e[r];return n||(n=r.charCodeAt(),"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16))})+'"':'"'+t+'"'},number:function(t){return isFinite(t)?String(t):"null"},boolean:function(t){return String(t)},date:function(t){function e(t){return t<10?"0"+t:t}return'"'+t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+"T"+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+'"'}}};o.prototype.read=function(t,e){var r;if(this.nativeJSON)try{r=JSON.parse(t,e)}catch(t){}return this.keepData&&(this.data=r),r},o.prototype.write=function(t,e){this.pretty=!!e;var r=null,i=void 0===t?"undefined":n(t);if(this.serialize[i])try{r=!this.pretty&&this.nativeJSON?JSON.stringify(t):this.serialize[i].apply(this,[t])}catch(t){Console.error("Trouble serializing: "+t)}return r},o.prototype.writeIndent=function(){var t=[];if(this.pretty)for(var e=0;e<this.level;++e)t.push(this.indent);return t.join("")},o.prototype.writeNewline=function(){return this.pretty?this.newline:""},o.prototype.writeSpace=function(){return this.pretty?this.space:""},e.JSONFormat=o,Zondy.Service.JSONFormat=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchRequest=e.RequestTimeout=e.CORS=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r(1);r(168),r(172);var i=window.fetch,o=Zondy.CORS=Zondy.CORS||window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,s=Zondy.RequestTimeout=Zondy.RequestTimeout||45e3,a=Zondy.FetchRequest={commit:function(t,e,r,n){switch(t=t?t.toUpperCase():t){case"GET":return this._get(e,r,n);case"POST":return this._post(e,r,n);case"PUT":return this._put(e,r,n);case"DELETE":return this._delete(e,r,n);default:return this._get(e,r,n)}},_get:function(t,e,r){r=r||{};return t=this._processUrl(t,r),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),this.urlIsLong(t)?this._postSimulatie("GET",t.substring(0,t.indexOf("?")-1),e,r):this._fetch(t,e,r,"GET")},_delete:function(t,e,r){r=r||{};return t=this._processUrl(t,r),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),!this.urlIsLong(t)&&o?this._fetch(t,e,r,"DELETE"):this._postSimulatie("DELETE",t.substring(0,t.indexOf("?")-1),e,r)},_post:function(t,e,r){return r=r||{},this._fetch(this._processUrl(t,r),e,r,"POST")},_put:function(t,e,r){return r=r||{},this._fetch(this._processUrl(t,r),e,r,"PUT")},urlIsLong:function(t){for(var e=0,r=null,n=0,i=t.length;n<i;n++)(r=t.charCodeAt(n))<127?e++:128<=r&&r<=2047?e+=2:2048<=r&&r<=65535&&(e+=3);return!(e<2e3)},_postSimulatie:function(t,e,r,n){return e+=(e.indexOf("?")>-1?"&":"?")+"_method="+t,"string"!=typeof r&&(r=JSON.stringify(r)),this._post(e,r,n)},_processUrl:function(t,e){return this._isMVTRequest(t)?t:(e&&e.proxy&&("function"==typeof e.proxy?t=e.proxy(t):(t=decodeURIComponent(t),t=e.proxy+encodeURIComponent(t))),t)},_fetch:function(t,e,r,n){return(r=r||{}).headers=r.headers||{},r.headers["Content-Type"]||(r.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),r.timeout?this._timeout(r.timeout,i(t,{method:n,headers:r.headers,body:"PUT"===n||"POST"===n?e:void 0,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:s}).then(function(t){return t})):i(t,{method:n,body:"PUT"===n||"POST"===n?e:void 0,headers:r.headers,credentials:r.withCredentials?"include":"omit",mode:"cors",timeout:s}).then(function(t){return t}).catch(function(t){return t})},_timeout:function(t,e){return new Promise(function(r,n){setTimeout(function(){n(new Error("timeout"))},t),e.then(r,n)})},_getParameterString:function(t){var e=[];for(var r in t){var i=t[r];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":n(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o="["+a.join(",")+"]"}else o=encodeURIComponent(i);e.push(encodeURIComponent(r)+"="+o)}}return e.join("&")},_isMVTRequest:function(t){return t.indexOf(".mvt")>-1||t.indexOf(".pbf")>-1}};e.CORS=o,e.RequestTimeout=s,e.FetchRequest=a,Zondy.Service.FetchRequest=a,Zondy.Service.CORS=o,Zondy.Service.RequestTimeout=s},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DService=void 0;var n=r(0),i=r(5);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return r.baseUrl="igs/rest/g3d",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.G3DService=o,n.Zondy.Catalog.G3DService=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GDBInfo=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(16),o=r(3);r(1);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.serverName=void 0!==r.serverName?r.serverName:null,n.gdbName=void 0!==r.gdbName?r.gdbName:null,n.dsName=void 0!==r.dsName?r.dsName:null,n.rcsName=void 0!==r.rcsName?r.rcsName:null,n.User=void 0!==r.User?r.User:null,n.Password=void 0!==r.Password?r.Password:null,n.containAll=void 0===r.containAll||r.containAll,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),n(e,[{key:"getServerList",value:function(t,e){this.partUrl="datasource?f=json";var r=this.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getGDBList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"?f=json":r.partUrl="datasource/"+r.serverName+"?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ds?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ds?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRcsList",value:function(t,e){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rcs?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rcs?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectList",value:function(t,e){var r=this;r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"?f=json";var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectInfo",value:function(t,e,r){var n=this;n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+t+"?f=json";var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}},{key:"AttachGDB",value:function(t,e,r){var n=this;if(null!==n.serverName&&null!==n.gdbName&&null!==t){n.partUrl="gdb/attach/"+n.gdbName+"?gdbSvrName="+n.serverName+"&path="+t+"&f=json",null!==n.User&&null!==n.Password&&(n.partUrl+="&gdbUserName="+n.User+"&gdbPwd="+n.Password);var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}}},{key:"DetachGDB",value:function(t,e){var r=this;if(null!==r.serverName&&null!==r.gdbName){r.partUrl="gdb/detach/"+r.gdbName+"?gdbSvrName="+r.serverName,null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}},{key:"CreateGDB",value:function(t,e,r){var n=this;if(null!==n.serverName&&null!==n.gdbName&&("mapgislocal"!==n.serverName.toLowerCase()||null!==t)){n.partUrl="gdb/creat/"+n.gdbName+"?gdbSvrName="+n.serverName+"&path="+t+"&f=json",null!==n.User&&null!==n.Password&&(n.partUrl+="&gdbUserName="+n.User+"&gdbPwd="+n.Password);var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}}},{key:"DeleteGDB",value:function(t,e){var r=this;if(null!==r.serverName&&null!==r.gdbName){r.partUrl="gdb/delete/"+r.gdbName+"?gdbSvrName="+r.serverName,null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.GDBInfo=s,Zondy.Catalog.GDBInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VFeature=e.VPolyline=e.VPolygon=e.VPoint=e.BaseParameter=e.ObjectIdsParameter=e.RectangleParameter=e.GeometryParameter=e.SQLParameter=e.FeatureService=e.QueryUnifyParameter=e.QueryServiceBase=e.QueryParameterBase=e.QueryParameter=e.QueryLayerFeature=e.QueryFeatureStruct=e.QueryFeatureRule=e.QueryDocFeature=e.QueryByLayerParameter=e.ObjClsQueryParameter=e.ObjClsQuery=e.MultiGeoQueryParameter=e.MultiGeoQuery=e.EditServiceBase=e.EditLayerFeature=e.EditDocFeature=void 0;var n=r(182),i=r(183),o=r(53),s=r(184),a=r(112),u=r(185),l=r(113),c=r(114),h=r(115),f=r(111),p=r(54),d=r(186),y=r(39),g=r(110),v=r(23),m=r(187),_=r(189),b=r(190),x=r(191),w=r(192),S=r(193),P=r(17),E=r(55),O=r(58),C=r(57),I=r(194);e.EditDocFeature=n.EditDocFeature,e.EditLayerFeature=i.EditLayerFeature,e.EditServiceBase=o.EditServiceBase,e.MultiGeoQuery=s.MultiGeoQuery,e.MultiGeoQueryParameter=a.MultiGeoQueryParameter,e.ObjClsQuery=u.ObjClsQuery,e.ObjClsQueryParameter=l.ObjClsQueryParameter,e.QueryByLayerParameter=c.QueryByLayerParameter,e.QueryDocFeature=h.QueryDocFeature,e.QueryFeatureRule=f.QueryFeatureRule,e.QueryFeatureStruct=p.QueryFeatureStruct,e.QueryLayerFeature=d.QueryLayerFeature,e.QueryParameter=y.QueryParameter,e.QueryParameterBase=g.QueryParameterBase,e.QueryServiceBase=v.QueryServiceBase,e.QueryUnifyParameter=m.QueryUnifyParameter,e.FeatureService=_.FeatureService,e.SQLParameter=b.SQLParameter,e.GeometryParameter=x.GeometryParameter,e.RectangleParameter=w.RectangleParameter,e.ObjectIdsParameter=S.ObjectIdsParameter,e.BaseParameter=P.BaseParameter,e.VPoint=E.VPoint,e.VPolygon=O.VPolygon,e.VPolyline=C.VPolyline,e.VFeature=I.VFeature},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameterBase=void 0;var n=r(0),i=r(1),o=r(54),s=r(111);var a=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=e||{};(0,i.extend)(this,r),this.geometry=void 0!==r.geometry?r.geometry:null,this.where=void 0!==r.where?r.where:null,this.rule=void 0!==r.rule?r.rule:new s.QueryFeatureRule,this.objectIds=void 0!==r.objectIds?r.objectIds:null,this.pageIndex=void 0!==r.pageIndex?r.pageIndex:0,this.recordNumber=void 0!==r.recordNumber?r.recordNumber:20,this.resultFormat=void 0!==r.resultFormat?r.resultFormat:"json",this.struct=void 0!==r.struct?r.struct:new o.QueryFeatureStruct,this.orderField=void 0!==r.orderField?r.orderField:null,this.rtnLabel=void 0!==r.rtnLabel&&r.rtnLabel,this.fields=r.fields||"",this.coordPrecision=r.coordPrecision||0===r.coordPrecision?r.coordPrecision:2,this.isAsc=void 0!==r.isAsc&&r.isAsc,this.cursorType=void 0!==r.cursorType?r.cursorType:"forward",this.proj=r.proj||null,this.guid=r.guid||"__readonly_user__"};e.QueryParameterBase=a,n.Zondy.Service.QueryParameterBase=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureRule=void 0;var n=r(0),i=r(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.CompareRectOnly=void 0!==e.CompareRectOnly&&"boolean"==typeof e.CompareRectOnly&&e.CompareRectOnly,this.EnableDisplayCondition=void 0!==e.EnableDisplayCondition&&"boolean"==typeof e.EnableDisplayCondition&&e.EnableDisplayCondition,this.MustInside=void 0!==e.MustInside&&"boolean"==typeof e.MustInside&&e.MustInside,this.Intersect=void 0!==e.Intersect&&"boolean"==typeof e.Intersect&&e.Intersect};o.prototype.toJSON=function(){return(0,i.toJSON)(this)},e.QueryFeatureRule=o,n.Zondy.Service.QueryFeatureRule=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQueryParameter=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.geometry=void 0!==e.geometry?e.geometry:null,this.geometryType=void 0!==e.geometryType?e.geometryType:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json",this.nearDis=void 0!==e.nearDis?e.nearDis:1e-4};o.prototype.getParameterURL=function(){var t="";return t+="?f="+this.resultFormat,t+="&geometryType="+this.geometryType,t+="&nearDis="+this.nearDis},e.MultiGeoQueryParameter=o,n.Zondy.Service.MultiGeoQueryParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQueryParameter=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.objectIds=void 0!==e.objectIds?e.objectIds:null,this.where=void 0!==e.where?e.where:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json"};o.prototype.getParameterURL=function(){var t="";return t+="&f="+this.resultFormat,null!==this.objectIds?t+="&objectIds="+this.objectIds:null!==this.where&&(t+="&where="+this.where),t},e.ObjClsQueryParameter=o,n.Zondy.Service.ObjClsQueryParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryByLayerParameter=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0},o=r(0),s=r(39);r(54);var a=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.gdbp=void 0!==t?encodeURI(t):null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.QueryParameter),n(e,[{key:"getParameterURL",value:function(){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getParameterURL",this).call(this)+"&gdbp="+this.gdbp}},{key:"getParameterObject",value:function(){var t=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getParameterObject",this).call(this,this);return t.gdbp=this.gdbp,t}}]),e}();e.QueryByLayerParameter=a,o.Zondy.Service.QueryByLayerParameter=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryDocFeature=void 0;var n=r(0),i=r(23);var o=function(t){function e(t,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.queryParam=t,s.docName=r,s.layerIndex=void 0==n?-1:n,s.mapIndex=0,s.partUrl="docs/"+s.docName+"/"+s.mapIndex.toString()+"/"+s.layerIndex.toString()+"/query",s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.QueryServiceBase),e}();e.QueryDocFeature=o,n.Zondy.Service.QueryDocFeature=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAllOtherDataItemInfoSource=void 0;var n=r(0),i={DefaultThemeInfo:1,DataItemIntrinsicInfo:2};e.CAllOtherDataItemInfoSource=i,n.Zondy.Object.Theme.CAllOtherDataItemInfoSource=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAnnInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Ovprnt?e.Ovprnt:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.Chnt=void 0!==e.Chnt?e.Chnt:0,this.Color=void 0!==e.Color?e.Color:0,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.Height=void 0!==e.Height?e.Height:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:0,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0===e.IsHzpl||e.IsHzpl,this.OffsetX=void 0!==e.OffsetX?e.OffsetX:0,this.OffsetY=void 0!==e.OffsetY?e.OffsetY:0,this.Space=void 0!==e.Space?e.Space:0,this.Width=void 0!==e.Width?e.Width:0};e.CAnnInfo=o,n.Zondy.Object.Theme.CAnnInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartLabelFormat=void 0;var n=r(0),i={Unknown:0,Value:1,Percent:2};e.CChartLabelFormat=i,n.Zondy.Object.Theme.CChartLabelFormat=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartTheme=void 0;var n=r(0),i=r(9),o=r(120);r(121),r(124);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.ChartType=void 0!==r.ChartType?r.ChartType:o.CChartType.Bar,n.ChartThemeInfoArr=void 0!==r.ChartThemeInfoArr?r.ChartThemeInfoArr:null,n.RepresentInfo=void 0!==r.RepresentInfo?r.RepresentInfo:null,n.Type="CChartTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CChartTheme=s,n.Zondy.Object.Theme.CChartTheme=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartType=void 0;var n=r(0),i={Unknown:0,Bar:1,Bar3D:2,Pie:3,Pie3D:4,Line:5,Line3D:6,Point:7};e.CChartType=i,n.Zondy.Object.Theme.CChartType=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeInfo=void 0;var n=r(0),i=r(13);var o=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.Expression=void 0!==t?t:"",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CChartThemeInfo=o,n.Zondy.Object.Theme.CChartThemeInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLinInfo=void 0;var n=r(0),i=r(1),o=r(6),s=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.AdjustFlg=void 0!==e.AdjustFlg?e.AdjustFlg:o.CLinAdjustType.Adjust,this.HeadType=void 0!==e.HeadType?e.HeadType:o.CLinHeadType.Round,this.JointType=void 0!==e.JointType?e.JointType:o.CLinJointType.Round,this.LinStyID=void 0!==e.LinStyID?e.LinStyID:0,this.MakeMethod=void 0!==e.MakeMethod?e.MakeMethod:o.CLinStyleMakeType.Byrule,this.OutClr=void 0!==e.OutClr?e.OutClr:[46,4,3],this.XScale=void 0!==e.XScale?e.XScale:10,this.YScale=void 0!==e.YScale?e.YScale:10,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CLinInfo=s,n.Zondy.Object.Theme.CLinInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegInfo=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.EndClr=void 0!==e.EndClr?e.EndClr:0,this.FillClr=void 0!==e.FillClr?e.FillClr:46,this.FillMode=void 0!==e.FillMode?e.FillMode:0,this.FullPatFlg=void 0===e.FullPatFlg||e.FullPatFlg,this.PatClr=void 0!==e.PatClr?e.PatClr:3,this.PatHeight=void 0!==e.PatHeight?e.PatHeight:5,this.PatID=void 0!==e.PatID?e.PatID:0,this.PatWidth=void 0!==e.PatWidth?e.PatWidth:5,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:1};e.CRegInfo=o,n.Zondy.Object.Theme.CRegInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeRepresentInfo=void 0;var n=r(0),i=r(1),o=r(117),s=r(118),a=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AnnInfoLabel=void 0!==e.AnnInfoLabel?e.AnnInfoLabel:new o.CAnnInfo,this.DigitLabel=void 0!==e.DigitLabel?e.DigitLabel:0,this.FormatLabel=void 0!==e.FormatLabel?e.FormatLabel:s.CChartLabelFormat.Unknown,this.IsDrawLabel=void 0===e.IsDrawLabel||e.IsDrawLabel,this.LineColor=void 0!==e.LineColor?e.LineColor:-1,this.MaxLength=void 0!==e.MaxLength?e.MaxLength:30,this.MinRadius=void 0!==e.MinRadius?e.MinRadius:10,this.PieSizeFixFlag=void 0!==e.PieSizeFixFlag?e.PieSizeFixFlag:0,this.PieTiltedAngle=void 0!==e.PieTiltedAngle?e.PieTiltedAngle:30,this.PlotRadius=void 0!==e.PlotRadius?e.PlotRadius:1,this.ThickPersent=void 0!==e.ThickPersent?e.ThickPersent:10,this.Width=void 0!==e.Width?e.Width:3};e.CChartThemeRepresentInfo=a,n.Zondy.Object.Theme.CChartThemeRepresentInfo=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDotDensityTheme=void 0;var n=r(0),i=r(9);r(41);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.Expression=void 0!==r.Expression?r.Expression:"",n.Info=void 0!==r.Info?r.Info:null,n.Value=void 0!==r.Value?r.Value:null,n.Type="CDotDensityTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CDotDensityTheme=o,n.Zondy.Object.Theme.CDotDensityTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CFourColorTheme=void 0;var n=r(0),i=r(9);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.ClrInfo=void 0!==r.ClrInfo?r.ClrInfo:[25,57,89,121],n.Type="CFourColorTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CFourColorTheme=o,n.Zondy.Object.Theme.CFourColorTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGraduatedSymbolTheme=void 0;var n=r(0),i=r(9);r(41);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.BaseValue=void 0!==r.BaseValue?r.BaseValue:141e-6,n.DispMinus=void 0!==r.DispMinus&&r.DispMinus,n.DispZero=void 0!==r.DispZero&&r.DispZero,n.Expression=void 0!==r.Expression?r.Expression:null,n.MinusPntInfo=void 0!==r.MinusPntInfo?r.MinusPntInfo:null,n.PlusPntInfo=void 0!==r.PlusPntInfo?r.PlusPntInfo:null,n.ZeroPntInfo=void 0!==r.ZeroPntInfo?r.ZeroPntInfo:null,n.Type="CGraduatedSymbolTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CGraduatedSymbolTheme=o,n.Zondy.Object.Theme.CGraduatedSymbolTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CMultiClassTheme=void 0;var n=r(0),i=r(9);r(13),r(129);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,n.ExpInfoArr=void 0!==r.ExpInfoArr?r.ExpInfoArr:null,n.MultiClassThemeInfoArr=void 0!==r.MultiClassThemeInfoArr?r.MultiClassThemeInfoArr:null,n.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,n.Type="CMultiClassTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CMultiClassTheme=o,n.Zondy.Object.Theme.CMultiClassTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpInfo=void 0;var n=r(0),i=r(1),o=function(t,e,r){var n=void 0!==r?r:{};(0,i.extend)(this,n),this.Expression=void 0!==t?t:"",this.ItemValueArr=void 0!==e?e:null};e.ExpInfo=o,n.Zondy.Object.Theme.ExpInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRandomTheme=void 0;var n=r(0),i=r(9);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.Type="CRandomTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CRandomTheme=o,n.Zondy.Object.Theme.CRandomTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeTheme=void 0;var n=r(0),i=r(9),o=r(116);r(13),r(132);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.AllOtherDataItemInfoSource=void 0!==r.AllOtherDataItemInfoSource?r.AllOtherDataItemInfoSource:o.CAllOtherDataItemInfoSource.DefaultThemeInfo,n.Expression=void 0!==r.Expression?r.Expression:"",n.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,n.RangeThemeInfoArr=void 0!==r.RangeThemeInfoArr?r.RangeThemeInfoArr:null,n.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,n.Type="CRangeTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CRangeTheme=s,n.Zondy.Object.Theme.CRangeTheme=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeThemeInfo=void 0;var n=r(0),i=r(13);var o=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.StartValue=void 0!==t?t:"",o.EndValue=void 0!==r?r:"",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CRangeThemeInfo=o,n.Zondy.Object.Theme.CRangeThemeInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSimpleTheme=void 0;var n=r(0),i=r(9),o=r(13);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.ThemeInfo=void 0!==r.ThemeInfo?r.ThemeInfo:new o.CThemeInfo,n.Type="CSimpleTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CSimpleTheme=s,n.Zondy.Object.Theme.CSimpleTheme=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueTheme=void 0;var n=r(0),i=r(9);r(13),r(135);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.DefaultInfo=void 0!==r.DefaultInfo?r.DefaultInfo:null,n.Expression=void 0!==r.Expression?r.Expression:"",n.UniqueThemeInfoArr=void 0!==r.UniqueThemeInfoArr?r.UniqueThemeInfoArr:null,n.GeoInfoType=void 0!==r.GeoInfoType?r.GeoInfoType:null,n.Type="CUniqueTheme",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CUniqueTheme=o,n.Zondy.Object.Theme.CUniqueTheme=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueThemeInfo=void 0;var n=r(0),i=r(13);var o=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.Value=void 0!==t?t:"",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CUniqueThemeInfo=o,n.Zondy.Object.Theme.CUniqueThemeInfo=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfo=void 0;var n=r(0),i=(r(66),function(t,e){this.name=void 0!==t?t:null,this.attribute=void 0!==e?e:null});e.FolderInfo=i,n.Zondy.Object.Theme.FolderInfo=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=void 0;var n=r(0),i=(r(9),function(t,e){this.LayerName=void 0!==t?t:null,this.ThemeArr=void 0!==e?e:null});e.ThemesInfo=i,n.Zondy.Object.Theme.ThemesInfo=i},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(7),i=r(241),o=r(243),s=r(244),a=r(245),u=r(140);t.exports=function(t){return new Promise(function(e,l){var c=t.data,h=t.headers;n.isFormData(c)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+d)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:t,request:f};i(e,l,n),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var y=r(246),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;g&&(h[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&n.forEach(h,function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),l(t),f=null)}),void 0===c&&(c=null),f.send(c)})}},function(t,e,r){"use strict";var n=r(242);t.exports=function(t,e,r,i,o){var s=new Error(t);return n(s,e,r,i,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(71),o=r(5);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return r.baseUrl="igs/rest/ogc",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"get",value:function(t,e,r){new IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"post",value:function(t,e,r,n){new IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.OGCService=s,i.MapGIS.OGC.OGCService=s},function(t,e,r){"use strict";const n=r(257),i=r(43),o=r(43),s=r(12).buildOptions,a=r(259);e.parse=function(t,e,r){if(r){!0===r&&(r={});const e=a.validate(t,r);if(!0!==e)throw Error(e.err.msg)}e=s(e,o.defaultOptions,o.props);const u=i.getTraversalObj(t,e);return n.convertToJson(u,e)},e.convertTonimn=r(260).convert2nimn,e.getTraversalObj=i.getTraversalObj,e.convertToJson=n.convertToJson,e.convertToJsonString=r(261).convertToJsonString,e.validate=a.validate,e.j2xParser=r(262),e.parseToNimn=function(t,r,n){return e.convertTonimn(e.getTraversalObj(t,n),r,n)}},function(t,e,r){"use strict";var n=r(74),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],a=Object.keys(s),u=0;u<a.length;++u){var l=a[u],c=s[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(e.push({obj:s,prop:l}),r.push(c))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,i,o){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"});for(var u="",l=0;l<a.length;++l){var c=a.charCodeAt(l);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===n.RFC1738&&(40===c||41===c)?u+=a.charAt(l):c<128?u+=s[c]:c<2048?u+=s[192|c>>6]+s[128|63&c]:c<55296||c>=57344?u+=s[224|c>>12]+s[128|c>>6&63]+s[128|63&c]:(l+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(l)),u+=s[240|c>>18]+s[128|c>>12&63]+s[128|c>>6&63]+s[128|63&c])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(o(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(o(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var s=e;return o(e)&&!o(r)&&(s=a(e,n)),o(e)&&o(r)?(r.forEach(function(r,o){if(i.call(e,o)){var s=e[o];s&&"object"==typeof s&&r&&"object"==typeof r?e[o]=t(s,r,n):e.push(r)}else e[o]=r}),e):Object.keys(r).reduce(function(e,o){var s=r[o];return i.call(e,o)?e[o]=t(e[o],s,n):e[o]=s,e},s)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={SpaceTime:"spacetime_db",Addredd:"address_db"},i={SpaceTime:"",Addredd:""},o={Point:0,Polygon:1};e.EsCatlogType=n,e.EsCatlogName=i,e.EsGeoHashType=o,Zondy.Enum.EsCatlogType=n,Zondy.Enum.EsCatlogName=i,Zondy.Enum.EsGeoHashType=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisQuery=void 0;var n=r(2),i=r(19);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.aggregateIds=null,r.cacheHint=null,r.datumTransformation=null,r.distance=null,r.gdbVersion=null,r.geometry=null,r.geometryPrecision=null,r.groupByFieldsForStatistics=null,r.having=null,r.historicMoment=null,r.maxAllowableOffset=null,r.maxRecordCountFactor=1,r.multipatchOption=null,r.num=null,r.objectIds=null,r.orderByFields=null,r.outFields=null,r.outSpatialReference=null,r.outStatistics=null,r.parameterValues=null,r.pixelSize=null,r.quantizationParameters=null,r.rangeValues=null,r.relationParameter=null,r.returnCentroid=!1,r.returnDistinctValues=!1,r.returnExceededLimitFeatures=!0,r.returnGeometry=!1,r.returnM=null,r.returnQueryGeometry=!0,r.returnZ=null,r.spatialRelationship="intersects",r.sqlFormat=null,r.start=null,r.text=null,r.timeExtent=null,r.units=null,r.where=null,(0,n.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();e.ArcGisQuery=o,n.Zondy.Service.ArcGisQuery=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisSpatialReference=void 0;var n=r(2),i=r(19);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.imageCoordinateSystem=null,r.isGeographic=!1,r.isWebMercator=!1,r.isWGS84=!1,r.isWrappable=!1,r.WebMercator=null,r.WGS84=null,r.latestVcsWkid=null,r.latestWkid=null,r.vcsWkid=null,r.wkid=void 0,r.wkt=null,(0,n.extend)(r,t),3857===r.wkid?(r.isWebMercator=!0,r.isWrappable=!0):4326===r.wkid&&(r.sGeographic=!0,r.isWGS84=!0,r.isWrappable=!0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();o.prototype.equals=function(t){return t.wkid===this.wkid||t.wkt===this.wkt},e.ArcGisSpatialReference=o,n.Zondy.Service.ArcGisSpatialReference=o},function(t,e,r){var n=r(307),i=r(150),o=r(151);function s(t){var e=this;if(2===arguments.length){var r=arguments[1];"string"==typeof r?"+"===r.charAt(0)?s[t]=i(arguments[1]):s[t]=o(arguments[1]):s[t]=r}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?s.apply(e,t):s(t)});if("string"==typeof t){if(t in s)return s[t]}else"EPSG"in t?s["EPSG:"+t.EPSG]=t:"ESRI"in t?s["ESRI:"+t.ESRI]=t:"IAU2000"in t?s["IAU2000:"+t.IAU2000]=t:console.log(t);return}}n(s),t.exports=s},function(t,e,r){var n=.017453292519943295,i=r(308),o=r(309);t.exports=function(t){var e,r,s,a={},u={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),u[e[0].toLowerCase()]=e[1]});var l={proj:"projName",datum:"datumCode",rf:function(t){a.rf=parseFloat(t)},lat_0:function(t){a.lat0=t*n},lat_1:function(t){a.lat1=t*n},lat_2:function(t){a.lat2=t*n},lat_ts:function(t){a.lat_ts=t*n},lon_0:function(t){a.long0=t*n},lon_1:function(t){a.long1=t*n},lon_2:function(t){a.long2=t*n},alpha:function(t){a.alpha=parseFloat(t)*n},lonc:function(t){a.longc=t*n},x_0:function(t){a.x0=parseFloat(t)},y_0:function(t){a.y0=parseFloat(t)},k_0:function(t){a.k0=parseFloat(t)},k:function(t){a.k0=parseFloat(t)},a:function(t){a.a=parseFloat(t)},b:function(t){a.b=parseFloat(t)},r_a:function(){a.R_A=!0},zone:function(t){a.zone=parseInt(t,10)},south:function(){a.utmSouth=!0},towgs84:function(t){a.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){a.to_meter=parseFloat(t)},units:function(t){a.units=t,o[t]&&(a.to_meter=o[t].to_meter)},from_greenwich:function(t){a.from_greenwich=t*n},pm:function(t){a.from_greenwich=(i[t]?i[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?a.datumCode="none":a.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(a.axis=t)}};for(e in u)r=u[e],e in l?"function"==typeof(s=l[e])?s(r):a[s]=r:a[e]=r;return"string"==typeof a.datumCode&&"WGS84"!==a.datumCode&&(a.datumCode=a.datumCode.toLowerCase()),a}},function(t,e,r){var n=.017453292519943295,i=r(78);function o(t,e,r){t[e]=r.map(function(t){var e={};return s(t,e),e}).reduce(function(t,e){return i(t,e)},{})}function s(t,e){var r;Array.isArray(t)?("PARAMETER"===(r=t.shift())&&(r=t.shift()),1===t.length?Array.isArray(t[0])?(e[r]={},s(t[0],e[r])):e[r]=t[0]:t.length?"TOWGS84"===r?e[r]=t:(e[r]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(r)>-1?(e[r]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[r].auth=t[2])):"SPHEROID"===r?(e[r]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[r].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(r)>-1?(t[0]=["name",t[0]],o(e,r,t)):t.every(function(t){return Array.isArray(t)})?o(e,r,t):s(t,e[r])):e[r]=!0):e[t]=!0}function a(t){return t*n}t.exports=function(t,e){var r=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=r.shift(),o=r.shift();r.unshift(["name",o]),r.unshift(["type",n]),r.unshift("output");var u={};return s(r,u),function(t){function e(e){var r=t.to_meter||1;return parseFloat(e,10)*r}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return function(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],3===e.length&&(t[r]=e[2](t[r])))}(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(u.output),i(e,u.output)}},function(t,e,r){var n=.017453292519943295,i=57.29577951308232,o=1,s=2,a=r(317),u=r(318),l=r(77),c=r(153);t.exports=function t(e,r,h){var f;function p(t,e){return(t.datum.datum_type===o||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}return Array.isArray(h)&&(h=c(h)),e.datum&&r.datum&&(p(e,r)||p(r,e))&&(t(e,f=new l("WGS84"),h),e=f),"enu"!==e.axis&&u(e,!1,h),"longlat"===e.projName?(h.x*=n,h.y*=n):(e.to_meter&&(h.x*=e.to_meter,h.y*=e.to_meter),e.inverse(h)),e.from_greenwich&&(h.x+=e.from_greenwich),h=a(e.datum,r.datum,h),r.from_greenwich&&(h.x-=r.from_greenwich),"longlat"===r.projName?(h.x*=i,h.y*=i):(r.forward(h),r.to_meter&&(h.x/=r.to_meter,h.y/=r.to_meter)),"enu"!==r.axis&&u(r,!0,h),h}},function(t,e){t.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e){var r=6,n="AJSAJS",i="AFAFAF",o=65,s=73,a=79,u=86,l=90;function c(t){return t*(Math.PI/180)}function h(t){return t/Math.PI*180}function f(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,u,l,c,p,d,y=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=r-5e5,m=e;n<"N"&&(m-=1e7),c=6*(i-1)-180+3,d=(p=m/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*p)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*p)+151*g*g*g/96*Math.sin(6*p),o=y/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),s=Math.tan(d)*Math.tan(d),a=.006739496752268451*Math.cos(d)*Math.cos(d),u=.99330562*y/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),l=v/(.9996*o);var _=d-o*Math.tan(d)/u*(l*l/2-(5+3*s+10*a-4*a*a-.06065547077041606)*l*l*l*l/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*l*l*l*l*l*l/720);_=h(_);var b,x=(l-(1+2*s+a)*l*l*l/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*l*l*l*l*l/120)/Math.cos(d);if(x=c+h(x),t.accuracy){var w=f({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:w.lat,right:w.lon,bottom:_,left:x}}else b={lat:_,lon:x};return b}function p(t){var e=t%r;return 0===e&&(e=r),e}function d(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,r=t.length,c=null,h="",f=0;!/[A-Z]/.test(e=t.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+t;h+=e,f++}var d=parseInt(h,10);if(0===f||f+3>r)throw"MGRSPoint bad conversion from: "+t;var g=t.charAt(f++);if(g<="A"||"B"===g||"Y"===g||g>="Z"||"I"===g||"O"===g)throw"MGRSPoint zone letter "+g+" not handled: "+t;c=t.substring(f,f+=2);for(var v=p(d),m=function(t,e){var r=n.charCodeAt(e-1),i=1e5,u=!1;for(;r!==t.charCodeAt(0);){if(++r===s&&r++,r===a&&r++,r>l){if(u)throw"Bad character: "+t;r=o,u=!0}i+=1e5}return i}(c.charAt(0),v),_=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var r=i.charCodeAt(e-1),n=0,l=!1;for(;r!==t.charCodeAt(0);){if(++r===s&&r++,r===a&&r++,r>u){if(l)throw"Bad character: "+t;r=o,l=!0}n+=1e5}return n}(c.charAt(1),v);_<y(g);)_+=2e6;var b=r-f;if(b%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var x,w,S,P=b/2,E=0,O=0;return P>0&&(x=1e5/Math.pow(10,P),w=t.substring(f,f+P),E=parseFloat(w)*x,S=t.substring(f+P),O=parseFloat(S)*x),{easting:E+m,northing:O+_,zoneLetter:g,zoneNumber:d,accuracy:x}}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}e.forward=function(t,e){return e=e||5,function(t,e){var r="00000"+t.easting,c="00000"+t.northing;return t.zoneNumber+t.zoneLetter+function(t,e,r){var c=p(r),h=Math.floor(t/1e5),f=Math.floor(e/1e5)%20;return function(t,e,r){var c=r-1,h=n.charCodeAt(c),f=i.charCodeAt(c),p=h+t-1,d=f+e,y=!1;p>l&&(p=p-l+o-1,y=!0);(p===s||h<s&&p>s||(p>s||h<s)&&y)&&p++;(p===a||h<a&&p>a||(p>a||h<a)&&y)&&++p===s&&p++;p>l&&(p=p-l+o-1);d>u?(d=d-u+o-1,y=!0):y=!1;(d===s||f<s&&d>s||(d>s||f<s)&&y)&&d++;(d===a||f<a&&d>a||(d>a||f<a)&&y)&&++d===s&&d++;d>u&&(d=d-u+o-1);return String.fromCharCode(p)+String.fromCharCode(d)}(h,f,c)}(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+c.substr(c.length-5,e)}(function(t){var e,r,n,i,o,s,a,u=t.lat,l=t.lon,h=6378137,f=c(u),p=c(l);a=Math.floor((l+180)/6)+1,180===l&&(a=60);u>=56&&u<64&&l>=3&&l<12&&(a=32);u>=72&&u<84&&(l>=0&&l<9?a=31:l>=9&&l<21?a=33:l>=21&&l<33?a=35:l>=33&&l<42&&(a=37));s=c(6*(a-1)-180+3),.006739496752268451,e=h/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),n=.006739496752268451*Math.cos(f)*Math.cos(f),i=Math.cos(f)*(p-s),o=h*(.9983242984503243*f-.002514607064228144*Math.sin(2*f)+2639046602129982e-21*Math.sin(4*f)-3.418046101696858e-9*Math.sin(6*f));var d=.9996*e*(i+(1-r+n)*i*i*i/6+(5-18*r+r*r+72*n-.39089081163157013)*i*i*i*i*i/120)+5e5,y=.9996*(o+e*Math.tan(f)*(i*i/2+(5-r+9*n+4*n*n)*i*i*i*i/24+(61-58*r+r*r+600*n-2.2240339282485886)*i*i*i*i*i*i/720));u<0&&(y+=1e7);return{northing:Math.round(y),easting:Math.round(d),zoneNumber:a,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(u)}}({lat:t[1],lon:t[0]}),e)},e.inverse=function(t){var e=f(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},e.toPoint=function(t){var e=f(d(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},function(t,e,r){var n=r(30),i=r(31),o=r(32),s=r(33),a=r(34),u=r(4),l=Math.PI/2,c=r(29),h=r(22);e.init=function(){this.e0=n(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,r,n,i=t.x,o=t.y,s=u(i-this.long0),l=Math.sin(o),c=Math.cos(o);if(this.sphere){var h=c*Math.sin(s);if(Math.abs(Math.abs(h)-1)<1e-10)return 93;r=.5*this.a*this.k0*Math.log((1+h)/(1-h)),e=Math.acos(c*Math.cos(s)/Math.sqrt(1-h*h)),o<0&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=c*s,p=Math.pow(f,2),d=this.ep2*Math.pow(c,2),y=Math.tan(o),g=Math.pow(y,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),m=this.a*a(this.e0,this.e1,this.e2,this.e3,o);r=this.k0*v*f*(1+p/6*(1-g+d+p/20*(5-18*g+Math.pow(g,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(m-this.ml0+v*y*(p*(.5+p/24*(5-g+9*d+4*Math.pow(d,2)+p/30*(61-58*g+Math.pow(g,2)+600*d-330*this.ep2)))))+this.y0}return t.x=r,t.y=n,t},e.inverse=function(t){var e,r,n,i,o,s;if(this.sphere){var a=Math.exp(t.x/(this.a*this.k0)),f=.5*(a-1/a),p=this.lat0+t.y/(this.a*this.k0),d=Math.cos(p);e=Math.sqrt((1-d*d)/(1+f*f)),o=h(e),p<0&&(o=-o),s=0===f&&0===d?this.long0:u(Math.atan2(f,d)+this.long0)}else{var y=t.x-this.x0,g=t.y-this.y0;for(r=e=(this.ml0+g/this.k0)/this.a,i=0;r+=n=(e+this.e1*Math.sin(2*r)-this.e2*Math.sin(4*r)+this.e3*Math.sin(6*r))/this.e0-r,!(Math.abs(n)<=1e-10);i++)if(i>=6)return 95;if(Math.abs(r)<l){var v=Math.sin(r),m=Math.cos(r),_=Math.tan(r),b=this.ep2*Math.pow(m,2),x=Math.pow(b,2),w=Math.pow(_,2),S=Math.pow(w,2);e=1-this.es*Math.pow(v,2);var P=this.a/Math.sqrt(e),E=P*(1-this.es)/e,O=y/(P*this.k0),C=Math.pow(O,2);o=r-P*_*C/E*(.5-C/24*(5+3*w+10*b-4*x-9*this.ep2-C/30*(61+90*w+298*b+45*S-252*this.ep2-3*x))),s=u(this.long0+O*(1-C/6*(1+2*w+b-C/20*(5-2*b+28*w-3*x+8*this.ep2+24*S)))/m)}else o=l*c(g),s=this.long0}return t.x=s,t.y=o,t},e.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(t,e){t.exports=function(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGis=e.CloudDisk=e.DataStore=e.PostGIS=e.ElasticSearch=e.OGC=e.Info=e.MRMS=e.MRGS=e.MRFWS=e.MRFS=e.MRCS=e.BaseServer=e.G3D=e.Extend=e.Common=void 0;var n=r(2),i=r(165),o=r(173),s=r(175),a=r(176),u=r(109),l=r(195),c=r(210),h=r(218),f=r(224),p=r(227),d=r(255),y=r(275),g=r(282),v=r(288),m=r(296),_=(e.Common={AnyLine:n.AnyLine,Arc:n.Arc,Zondy:n.Zondy,CAttStruct:n.CAttStruct,CAttDataRow:n.CAttDataRow,CDisplayStyle:n.CDisplayStyle,CDisplayStyleExtend:n.CDisplayStyleExtend,CDynNoteInfo:n.CDynNoteInfo,CGDBInfo:n.CGDBInfo,Circle:n.Circle,CLineInfo:n.CLineInfo,CPointInfo:n.CPointInfo,CRegionInfo:n.CRegionInfo,DynNoteLableType:n.DynNoteLableType,DynShowStyle:n.DynShowStyle,XClsType:n.XClsType,VectClsType:n.VectClsType,FeatureType:n.FeatureType,FontShape:n.FontShape,LabelLinType:n.LabelLinType,LabelRegType:n.LabelRegType,LabelPntType:n.LabelPntType,RepeatType:n.RepeatType,LabelSpreadType:n.LabelSpreadType,LineConstrain:n.LineConstrain,EightDirType:n.EightDirType,ISShowArc:n.ISShowArc,NetAnalyType:n.NetAnalyType,NetElemType:n.NetElemType,CLinAdjustType:n.CLinAdjustType,CLinHeadType:n.CLinHeadType,CLinJointType:n.CLinJointType,CLinStyleMakeType:n.CLinStyleMakeType,CItemType:n.CItemType,MapType:n.MapType,LayerStatusType:n.LayerStatusType,Feature:n.Feature,FeatureGeometry:n.FeatureGeometry,FeatureGraphicBase:n.FeatureGraphicBase,FeatureSet:n.FeatureSet,GLine:n.GLine,GPoint:n.GPoint,GRegion:n.GRegion,LabelLinInfo:n.LabelLinInfo,LabelRegInfo:n.LabelRegInfo,LablePntInfo:n.LablePntInfo,MultiPolygon:n.MultiPolygon,Point2D:n.Point2D,Polygon:n.Polygon,PolyLine:n.PolyLine,Rectangle:n.Rectangle,Tangram:n.Tangram,VectCls:n.VectCls,WebGraphicsInfo:n.WebGraphicsInfo,extend:n.extend,isArray:n.isArray,extendDeep:n.extendDeep,copy:n.copy,copyExcluce:n.copyExcluce,reset:n.reset,getElement:n.getElement,isElement:n.isElement,removeItem:n.removeItem,indexOf:n.indexOf,modifyDOMElement:n.modifyDOMElement,applyDefaults:n.applyDefaults,getParameterString:n.getParameterString,getWFParameterString:n.getWFParameterString,urlAppend:n.urlAppend,getParameters:n.getParameters,IS_GECKO:n.IS_GECKO,Browser:n.Browser,getBrowser:n.getBrowser,isSupportCanvas:n.isSupportCanvas,supportCanvas:n.supportCanvas,isInTheSameDomain:n.isInTheSameDomain,toJSON:n.toJSON,transformResult:n.transformResult,copyAttributes:n.copyAttributes,copyAttributesWithClip:n.copyAttributesWithClip,cloneObject:n.cloneObject,newGuid:n.newGuid,bind:n.bind,bindAsEventListener:n.bindAsEventListener,getTopAnalysisResult:n.getTopAnalysisResult,ChineseToUtf8:n.ChineseToUtf8,DeepMerge:n.DeepMerge,merge:n.merge,mixin:n.mixin},e.Extend={ContourNoteParam:i.ContourNoteParam,ContourParam:i.ContourParam,ContourZValue:i.ContourZValue,ContourRegionInfo:i.ContourRegionInfo,MeshingParam:i.MeshingParam,NetAnalyse:i.NetAnalyse,NetAnalysisExtent:i.NetAnalysisExtent,SlopLineParam:i.SlopLineParam},e.G3D={G3DMapDoc:o.G3DMapDoc,G3DService:o.G3DService},e.BaseServer={CommonServiceBase:s.CommonServiceBase,Events:s.Events,CORS:s.CORS,RequestTimeout:s.RequestTimeout,FetchRequest:s.FetchRequest,IgsServiceBase:s.IgsServiceBase,JSONFormat:s.JSONFormat},e.MRCS={ColorInfo:a.ColorInfo,GDBInfo:a.GDBInfo,MapDoc:a.MapDoc,CatalogService:a.CatalogService,TileLayer:a.TileLayer,VectorLayer:a.VectorLayer,SystomInfo:a.SystomInfo},e.MRFS={EditDocFeature:u.EditDocFeature,EditLayerFeature:u.EditLayerFeature,EditServiceBase:u.EditServiceBase,MultiGeoQuery:u.MultiGeoQuery,MultiGeoQueryParameter:u.MultiGeoQueryParameter,ObjClsQuery:u.ObjClsQuery,ObjClsQueryParameter:u.ObjClsQueryParameter,QueryByLayerParameter:u.QueryByLayerParameter,QueryDocFeature:u.QueryDocFeature,QueryFeatureRule:u.QueryFeatureRule,QueryFeatureStruct:u.QueryFeatureStruct,QueryLayerFeature:u.QueryLayerFeature,QueryParameter:u.QueryParameter,QueryParameterBase:u.QueryParameterBase,QueryServiceBase:u.QueryServiceBase,QueryUnifyParameter:u.QueryUnifyParameter,SQLParameter:u.SQLParameter,GeometryParameter:u.GeometryParameter,VFeature:u.VFeature,FeatureService:u.FeatureService}),b=e.MRFWS={AnalysisBase:l.AnalysisBase,ClassBufferBase:l.ClassBufferBase,ClassBufferByMultiplyRing:l.ClassBufferByMultiplyRing,ClassBufferBySingleRing:l.ClassBufferBySingleRing,ClipBase:l.ClipBase,ClipByCircle:l.ClipByCircle,ClipByLayer:l.ClipByLayer,ClipByPolygon:l.ClipByPolygon,ContourAnalyse:l.ContourAnalyse,FeatureBuffBase:l.FeatureBuffBase,FeatureBuffByMultiplyRing:l.FeatureBuffByMultiplyRing,FeatureBuffBySingleRing:l.FeatureBuffBySingleRing,NetAnalysis:l.NetAnalysis,OverlayBase:l.OverlayBase,OverlayByLayer:l.OverlayByLayer,OverlayByPolygon:l.OverlayByPolygon,ProjectBase:l.ProjectBase,ProjectByLayer:l.ProjectByLayer,ProjectBySRID:l.ProjectBySRID},x=(e.MRGS={CalArea:c.CalArea,CalPolyLineLength:c.CalPolyLineLength,CalServiceBase:c.CalServiceBase,CProjectBySRSID:c.CProjectBySRSID,CProjectParam:c.CProjectParam,GeometryAnalysisBase:c.GeometryAnalysisBase,ProjectDots:c.ProjectDots,ProjectRang:c.ProjectRang,Smooth:c.Smooth,TopAnalysis:c.TopAnalysis},e.MRMS={GetDocImageService:h.GetDocImageService,GetLayerImageService:h.GetLayerImageService,GetMapImageService:h.GetMapImageService,GetMapInfoService:h.GetMapInfoService,GetTileImageService:h.GetTileImageService,MapServiceBase:h.MapServiceBase},e.Info={CAllOtherDataItemInfoSource:f.CAllOtherDataItemInfoSource,CAnnInfo:f.CAnnInfo,CChartLabelFormat:f.CChartLabelFormat,CChartTheme:f.CChartTheme,CChartThemeInfo:f.CChartThemeInfo,CChartThemeRepresentInfo:f.CChartThemeRepresentInfo,CChartType:f.CChartType,CDotDensityTheme:f.CDotDensityTheme,CFourColorTheme:f.CFourColorTheme,CGraduatedSymbolTheme:f.CGraduatedSymbolTheme,CLinInfo:f.CLinInfo,CMultiClassTheme:f.CMultiClassTheme,CPntInfo:f.CPntInfo,CRandomTheme:f.CRandomTheme,CRangeTheme:f.CRangeTheme,CRangeThemeInfo:f.CRangeThemeInfo,CRegInfo:f.CRegInfo,CSimpleTheme:f.CSimpleTheme,CTheme:f.CTheme,CThemeInfo:f.CThemeInfo,CUniqueTheme:f.CUniqueTheme,CUniqueThemeInfo:f.CUniqueThemeInfo,ExpInfo:f.ExpInfo,FolderInfo:f.FolderInfo,FolderInfoAttribute:f.FolderInfoAttribute,ItemValue:f.ItemValue,ThemeOper:f.ThemeOper,ThemesInfo:f.ThemesInfo},e.OGC={WMSCapabilities:p.WMSCapabilities,WMTSCapabilities:p.WMTSCapabilities,OGCWMTSInfo:p.OGCWMTSInfo,OGCWMSInfo:p.OGCWMSInfo,WMS:d.WMS,WFS:d.WFS},e.ElasticSearch={EsCatlogType:y.EsCatlogType,EsCatlogName:y.EsCatlogName,EsGeoHashType:y.EsGeoHashType,EsCatlogService:y.EsCatlogService,ESGeoCode:y.ESGeoCode,ESGeoDecode:y.ESGeoDecode,ESQueryStats:y.ESQueryStats,EsTableService:y.EsTableService,EsSpaceTimeQueryByAgg:y.EsSpaceTimeQueryByAgg},e.PostGIS={PostgisCatlogService:g.PostgisCatlogService,PostgisCustomQueryService:g.PostgisCustomQueryService,PostgisQueryService:g.PostgisQueryService,PostgisTableService:g.PostgisTableService,PostgisVectorTileService:g.PostgisVectorTileService},e.DataStore={EsCatlogType:y.EsCatlogType,EsCatlogName:y.EsCatlogName,EsGeoHashType:y.EsGeoHashType,EsCatlogService:y.EsCatlogService,ESGeoCode:y.ESGeoCode,ESGeoDecode:y.ESGeoDecode,ESQueryStats:y.ESQueryStats,EsTableService:y.EsTableService,EsSpaceTimeQueryByAgg:y.EsSpaceTimeQueryByAgg},e.CloudDisk={UserService:v.UserService,GeoDatasetService:v.GeoDatasetService,CalculateModelService:v.CalculateModelService},e.ArcGis={ArcGisFeatureLayer:m.ArcGisFeatureLayer,ArcGisFindParameters:m.ArcGisFindParameters,ArcGisFindTask:m.ArcGisFindTask,ArcGisIdentifyTask:m.ArcGisIdentifyTask,ArcGisIdentifyParameters:m.ArcGisIdentifyParameters,ArcGisGeometry:m.ArcGisGeometry,ArcGisQuery:m.ArcGisQuery,ArcGisQueryTask:m.ArcGisQueryTask,ArcGisPoint:m.ArcGisPoint,ArcGisMultipoint:m.ArcGisMultipoint,ArcGisPolyline:m.ArcGisPolyline,ArcGisPolygon:m.ArcGisPolygon,ArcGisGraphic:m.ArcGisGraphic,ArcGisExtent:m.ArcGisExtent});e.default={MRFS:_,MRFWS:b,ArcGis:x}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var n=r(0),i=r(1),o=function(t,e){this.ArcID=0;var r=void 0!==e?e:{};(0,i.extend)(this,r),this.Dots=void 0!==t&&null!==t?t:null};e.Arc=o,n.Zondy.Object.Arc=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttDataRow=void 0;var n=r(0),i=r(1),o=function(t,e,r){var n=void 0!==r?r:{};(0,i.extend)(this,n),this.FID=void 0!==e?e:0,this.Values=void 0!==t?t:null};e.CAttDataRow=o,n.Zondy.Object.CAttDataRow=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyle=void 0;var n=r(0),i=r(1),o=(r(82),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.ShowStyle=void 0!==e.ShowStyle?e.ShowStyle:null,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow});e.CDisplayStyle=o,n.Zondy.Object.CDisplayStyle=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(14);r(8);var s=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.point=void 0!==t&&null!==t?t:null,o.radious=void 0!==r&&null!==r?r:null,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Tangram),n(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){var e=t.getCenter(),r=t.getRadius();this.point=new i.Zondy.Object.Point2D(e[0],e[1]),this.radious=r}}},{key:"toString",value:function(){return null===this.point||0===this.point.length||null===this.radious?"":this.point.x+","+this.point.y+","+this.radious}},{key:"getGeometryType",value:function(){return"Circle"}}]),e}();e.Circle=s,i.Zondy.Object.Circle=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiPolygon=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(14),o=r(8),s=r(95);var a=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.polygonArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),n(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){this.polygonArr=[];for(var e=t.getLinearRingCount(),r=t.getLinearRings(),n=0;n<e;n++){for(var i=r[n].getCoordinates(),a=i.length,u=[],l=0;l<a;l++)u[l]=new o.Point2D(i[l][0],i[l][1]);this.polygonArr[n]=new s.Polygon(u)}}}},{key:"toString",value:function(){if(void 0===this.polygonArr||null===this.polygonArr||0===this.polygonArr.length)return"";for(var t="",e=0;e<this.polygonArr.length;e++)t+=this.polygonArr[e].toString()+";";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"multiPolygon"}}]),e}();e.MultiPolygon=a,Zondy.Object.MultiPolygon=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolyLine=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(14),o=r(8);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.nearDis=void 0!==n.nearDis&&null!==n.nearDis?parseFloat(n.nearDis):null,i.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),n(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getCoordinates(),r=e.length,n=0;n<r;n++)this.pointArr[n]=new o.Point2D(e[n][0],e[n][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t=this.pointArr[0].x+","+this.pointArr[0].y,e=1;e<this.pointArr.length;e++)t+=","+this.pointArr[e].x+","+this.pointArr[e].y;return void 0!==this.nearDis&&null!==this.nearDis&&(t+=";"+this.nearDis),this.Trim(t,"g")}},{key:"getGeometryType",value:function(){return"line"}}]),e}();e.PolyLine=s,Zondy.Object.PolyLine=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectCls=void 0;var n=r(0),i=r(1),o=r(6),s=(r(36),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.clsType=void 0!==e.clsType?e.clsType:o.VectClsType.SFCls,this.clsName=void 0!==e.clsName?e.clsName:null,this.geoType=void 0!==e.geoType?e.geoType:1,this.srefName=void 0!==e.srefName?encodeURI(e.srefName):"",this.dsName=void 0!==e.dsName?encodeURI(e.dsName):"",this.attStruct=void 0!==e.attStruct?e.attStruct:null});e.VectCls=s,n.Zondy.Object.VectCls=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=e.NetAnalysisExtent=e.NetAnalyse=e.MeshingParam=e.ContourRegionInfo=e.ContourZValue=e.ContourParam=e.ContourNoteParam=void 0;var n=r(96),i=r(97),o=r(99),s=r(100),a=r(101),u=r(166),l=r(167),c=r(98);e.ContourNoteParam=n.ContourNoteParam,e.ContourParam=i.ContourParam,e.ContourZValue=o.ContourZValue,e.ContourRegionInfo=s.ContourRegionInfo,e.MeshingParam=a.MeshingParam,e.NetAnalyse=u.NetAnalyse,e.NetAnalysisExtent=l.NetAnalysisExtent,e.SlopLineParam=c.SlopLineParam},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalyse=void 0;var n=r(0),i=r(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.netCls=void 0!==e.netCls?e.netCls:null,this.flagPosStr=void 0!==e.flagPosStr?e.flagPosStr:null,this.barrierPosStr=void 0!==e.barrierPosStr?e.barrierPosStr:null,this.weight=void 0!==e.weight?e.weight:null,this.mode=void 0!==e.mode?e.mode:null,this.isTour=void 0!==e.isTour&&e.isTour,this.isTravel=void 0!==e.isTravel&&e.isTravel,this.usedTWgt=void 0!==e.usedTWgt&&e.usedTWgt,this.turnWgt=void 0!==e.turnWgt?e.turnWgt:null,this.roadName=void 0!==e.roadName?e.roadName:"name"};e.NetAnalyse=o,n.Zondy.Object.NetAnalyse=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysisExtent=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=(r(1),r(5)),s=r(3);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.netClsUrl=void 0!==r.netClsUrl?r.netClsUrl:null,n.flagPosStr=void 0!==r.flagPosStr?r.flagPosStr:null,n.analyTp=void 0!==r.analyTp?r.analyTp:"UserMode",n.weight=void 0!==r.weight?r.weight:",Weight1,Weight1",n.outFormat=void 0!==r.outFormat?r.outFormat:"JSON",n.elementType=void 0!==r.elementType?r.elementType:2,n.nearDis=void 0!==r.nearDis?r.nearDis:.001,n.barrierPosStr=void 0!==r.barrierPosStr?r.barrierPosStr:null,n.roadName=void 0!==r.roadName?r.roadName:"name",n.baseUrl="igs/rest/netAnaly",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"getNetInfo",value:function(t,e,r,n){null!=t&&void 0!=t||(t="weight"),this.partUrl="netClsInfo?netCls="+this.netClsUrl+"&type="+t;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"addNetFlag",value:function(t,e,r,n,i){var o={};null!=n&&"POST"==n.toUpperCase()?(o.dotVal=t,this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&nearDis="+this.nearDis):this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&value="+t+"&nearDis="+this.nearDis;var a=this.getFullUrl(),u=new s.IgsServiceBase(a,{eventListeners:{scope:this,processCompleted:e,processFailed:r}});null!=n&&"POST"==n.toUpperCase()?u.processAsync({method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):u.processAsync()}},{key:"netAnalyse",value:function(t,e,r,n){this.partUrl="netAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"comNetAnalyse",value:function(t,e,r,n){this.partUrl="comNetAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"pluNetAnalyse",value:function(t,e,r,n){this.partUrl="pluNetAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.NetAnalysisExtent=a,i.Zondy.Service.NetAnalysisExtent=a},function(t,e,r){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(r(169));window.Promise=n.default},function(t,e,r){"use strict";(function(n){var i,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,a){"object"===s(e)&&void 0!==t?t.exports=a():void 0===(o="function"==typeof(i=a)?i.call(e,r,e,t):i)||(t.exports=o)}(0,function(){var t=setTimeout;function e(){}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void o(e.promise,t)}i(e.promise,n)}else(1===t._state?i:o)(e.promise,t._value)})):t._deferreds.push(e)}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":s(e))||"function"==typeof e)){var r=e.then;if(e instanceof l)return t._state=3,t._value=e,void a(t);if("function"==typeof r)return void u(function(t,e){return function(){t.apply(e,arguments)}}(r,e),t)}t._state=1,t._value=e,a(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&l._immediateFn(function(){t._handled||l._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function u(t,e){var r=!1;try{t(function(t){r||(r=!0,i(e,t))},function(t){r||(r=!0,o(e,t))})}catch(t){if(r)return;r=!0,o(e,t)}}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}var c=l.prototype;return c.catch=function(t){return this.then(null,t)},c.then=function(t,n){var i=new this.constructor(e);return r(this,new function(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}(t,n,i)),i},l.all=function(t){return new l(function(e,r){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var i=n.length;function o(t,a){try{if(a&&("object"===(void 0===a?"undefined":s(a))||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){o(t,e)},r)}n[t]=a,0==--i&&e(n)}catch(t){r(t)}}for(var a=0;a<n.length;a++)o(a,n[a])})},l.resolve=function(t){return t&&"object"===(void 0===t?"undefined":s(t))&&t.constructor===l?t:new l(function(e){e(t)})},l.reject=function(t){return new l(function(e,r){r(t)})},l.race=function(t){return new l(function(e,r){for(var n=0,i=t.length;n<i;n++)t[n].then(e,r)})},l._immediateFn="function"==typeof n&&function(t){n(t)}||function(e){t(e,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},l})}).call(this,r(170).setImmediate)},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(171),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(106))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){c(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&c(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),n=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},n=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;n=function(e){var r=a.createElement("script");r.onreadystatechange=function(){c(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():n=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var s={callback:t,args:e};return o[i]=s,n(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(s)setTimeout(c,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{l(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(106),r(52))},function(t,e,r){"use strict";!function(e){if(e.__disableNativeFetch||!e.fetch){a.prototype.append=function(t,e){t=o(t),e=s(e);var r=this.map[t];r||(r=[],this.map[t]=r),r.push(e)},a.prototype.delete=function(t){delete this.map[o(t)]},a.prototype.get=function(t){var e=this.map[o(t)];return e?e[0]:null},a.prototype.getAll=function(t){return this.map[o(t)]||[]},a.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},a.prototype.set=function(t,e){this.map[o(t)]=[s(e)]},a.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){t.call(e,n,r,this)},this)},this)};var r={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},n=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},h.call(f.prototype),h.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var i=[301,302,303,307,308];d.redirect=function(t,e){if(-1===i.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},e.Headers=a,e.Request=f,e.Response=d,e.fetch=function(t,e){return new Promise(function(n,i){var o;o=f.prototype.isPrototypeOf(t)&&!e?t:new f(t,e);var s=new XMLHttpRequest;var u=!1;function l(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(t<100||t>599){if(u)return;return u=!0,void i(new TypeError("Network request failed"))}var e={status:t,statusText:s.statusText,headers:function(t){var e=new a;return t.getAllResponseHeaders().trim().split("\n").forEach(function(t){var r=t.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();e.append(n,i)}),e}(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},r="response"in s?s.response:s.responseText;u||(u=!0,n(new d(r,e)))}}s.onreadystatechange=l,s.onload=l,s.onerror=function(){u||(u=!0,i(new TypeError("Network request failed")))},s.open(o.method,o.url,!0);try{"include"===o.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(t){console&&console.warn&&console.warn("set withCredentials error:"+t)}"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach(function(t,e){s.setRequestHeader(e,t)}),s.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0,void 0!==t&&t.exports&&(t.exports=e.fetch)}function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){this.map={},t instanceof a?t.forEach(function(t,e){this.append(e,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function c(t){var e=new FileReader;return e.readAsArrayBuffer(t),l(e)}function h(){return this.bodyUsed=!1,this._initBody=function(t,e){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(r.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t,this._options=e;else if(r.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},r.blob?(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(c)},this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t,e){var r=new FileReader,n=e.headers.map["content-type"]?e.headers.map["content-type"].toString():"",i=/charset\=[0-9a-zA-Z\-\_]*;?/,o=t.type.match(i)||n.match(i),s=[t];return o&&s.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),r.readAsText.apply(r,s),l(r)}(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=u(this);return t||Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t,e){var r=(e=e||{}).body;if(f.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=function(t){var e=t.toUpperCase();return n.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r,e)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function d(t,e){e||(e={}),this._initBody(t,e),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof a?e.headers:new a(e.headers),this.url=e.url||""}}("undefined"!=typeof self?self:void 0)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DService=e.G3DMapDoc=void 0;var n=r(174),i=r(107);e.G3DMapDoc=n.G3DMapDoc,e.G3DService=i.G3DService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DMapDoc=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(107),a=r(3);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.docName=r.docName||null,n.gdbp=r.gdbp||null,n.proj=r.proj||null,n.f=r.f||"json",n.guid=void 0!==r.guid?r.guid:(0,o.newGuid)(),n.encryptPassword=r.encryptPassword||null,n.layerindex=r.layerindex||0,n.geometryType=r.geometryType||null,n.geometry=r.geometry||null,n.where=r.where||null,n.structs=r.structs||{IncludeAttribute:!0,IncludeGeometry:!1,IncludeWebGraphic:!1},n.page=r.page||0,n.pageCount=r.pageCount||20,n.objectIds=r.objectIds||null,n.orderField=r.orderField||null,n.rtnLabel=void 0!==r.rtnLabel&&r.rtnLabel,n.isAsc=void 0!==r.isAsc&&r.isAsc,n.format=r.format||"json",n.systemLib=r.systemLib||null,n.layerRenderIndex=r.layerRenderIndex||0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.G3DService),n(e,[{key:"GetDocList",value:function(t,e){this.partUrl="GetDocList";var r=this.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetDocInfo",value:function(t,e){this.partUrl=this.docName+"/GetDocInfo?&f=json";var r=this.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetLayerInfo",value:function(t,e){var r=this,n="layerinfo?gdbp="+this.gdbp;r.proj&&(n+="&proj="+r.proj),r.f&&(n+="&f="+r.f),r.guid&&(n+="&guid="+r.guid),r.encryptPassword&&(n+="&encryptPassword="+r.encryptPassword),r.partUrl=n;var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetFeature",value:function(t,e){var r=this,n="getFeature?";r.gdbp&&""!==r.gdbp?n+="gdbp="+r.gdbp:r.docName&&(n+="docName="+r.docName+"&layerindex="+r.layerindex),r.geometryType&&(n+="&geometryType="+r.geometryType),r.geometry&&(n+="&geometry="+r.geometry),r.where&&(n+="&where="+r.where),r.structs&&(n+="&structs="+JSON.stringify(r.structs)),r.page&&(n+="&page="+r.page),r.pageCount&&(n+="&pageCount="+r.pageCount),r.objectIds&&(n+="&objectIds="+r.objectIds),r.orderField&&(n+="&orderField="+r.orderField),r.rtnLabel&&(n+="&rtnLabel="+r.rtnLabel),r.isAsc&&(n+="&isAsc="+r.isAsc),r.guid&&(n+="&guid="+r.guid),r.format&&(n+="&format="+r.format),r.f&&(n+="&f="+r.f),r.partUrl=n;var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"SetSystemLibraryByDoc",value:function(t,e){var r=this,n=r.docName+"/setSystemLibrary?systemLib="+r.systemLib+"&layerRenderIndex="+r.layerRenderIndex;r.f&&(n+="&f="+r.f),r.guid&&(n+="&guid="+r.guid),r.partUrl=n;var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.G3DMapDoc=u,i.Zondy.Catalog.G3DMapDoc=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=e.IgsServiceBase=e.FetchRequest=e.RequestTimeout=e.CORS=e.Events=e.CommonServiceBase=void 0;var n=r(102),i=r(103),o=r(105),s=r(3),a=r(104);e.CommonServiceBase=n.CommonServiceBase,e.Events=i.Events,e.CORS=o.CORS,e.RequestTimeout=o.RequestTimeout,e.FetchRequest=o.FetchRequest,e.IgsServiceBase=s.IgsServiceBase,e.JSONFormat=a.JSONFormat},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystomInfo=e.VectorLayer=e.TileLayer=e.CatalogService=e.MapDoc=e.GDBInfo=e.ColorInfo=void 0;var n=r(177),i=r(108),o=r(178),s=r(16),a=r(179),u=r(180),l=r(181);e.ColorInfo=n.ColorInfo,e.GDBInfo=i.GDBInfo,e.MapDoc=o.MapDoc,e.CatalogService=s.CatalogService,e.TileLayer=a.TileLayer,e.VectorLayer=u.VectorLayer,e.SystomInfo=l.SystomInfo},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorInfo=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(16),o=r(3);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.SystemLibID=void 0!==r.SystemLibID?r.SystemLibID:0,n.ColorNO=void 0!==r.ColorNO?r.ColorNO:6,n.Red=void 0!==r.Red?r.Red:0,n.Green=void 0!==r.Green?r.Green:0,n.Blue=void 0!==r.Blue?r.Blue:0,n.addNew=void 0!==r.addNew&&r.addNew,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),n(e,[{key:"getColorNO",value:function(t,e,r){var n=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(n.SystemLibID=t.SystemLibID),void 0!==t.Red&&(n.Red=t.Red),void 0!==t.Green&&(n.Green=t.Green),void 0!==t.Blue&&(n.Blue=t.Blue),void 0!==t.addNew&&(n.addNew=t.addNew)),n.partUrl="ColorLib/getColorNO?f=json&libID="+n.SystemLibID+"&r="+n.Red+"&g="+n.Green+"&b="+n.Blue+"&addNew="+n.addNew;var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getColorRGB",value:function(t,e,r){var n=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(n.SystemLibID=t.SystemLibID),void 0!==t.ColorNO&&(n.ColorNO=t.ColorNO)),n.partUrl="ColorLib/getColorRGB?f=json&libID="+n.SystemLibID+"&colorNO="+n.ColorNO;var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}}]),e}();e.ColorInfo=s,Zondy.Catalog.ColorInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapDoc=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(1),s=r(16),a=r(3);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.docName=void 0!==r.docName?r.docName:null,n.mapIndex=void 0!==r.mapIndex?r.mapIndex:0,n.layerID=void 0!==r.layerID?r.layerID:0,n.version=void 0!==r.version?r.version:2,n.include=void 0!==r.include?r.include:"{includeDetails:true,includeSubs:false}",n.returnFullStyle=void 0!==r.returnFullStyle&&r.returnFullStyle,n.guid=void 0!==r.guid?r.guid:(0,o.newGuid)(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.CatalogService),n(e,[{key:"getMapDocList",value:function(t,e){this.partUrl="docs?v="+this.version+"&f=json";var r=this.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getMapDocInfo",value:function(t,e,r,n,i){var s=this;if("boolean"==typeof i&&(s.returnFullStyle=i),"boolean"==typeof e||"boolean"==typeof r){var u={includeDetails:"boolean"!=typeof e||e,includeSubs:"boolean"==typeof r&&r};s.include=(0,o.toJSON)(u)}s.partUrl="docs/"+s.docName+"?include="+s.include+"&returnFullStyle="+s.returnFullStyle+"&guid="+s.guid+"&f=json";var l=s.getFullUrl();new a.IgsServiceBase(l,{eventListeners:{scope:s,processCompleted:t,processFailed:n}}).processAsync()}},{key:"getMapInfo",value:function(t,e,r){var n=this;"boolean"==typeof e&&(n.returnFullStyle=e),n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"?returnFullStyle="+n.returnFullStyle+"&guid="+n.guid+"&f=json";var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:r}}).processAsync()}},{key:"getMapDocTree",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"?tree=true&guid="+r.guid+"&f=json";var n=r.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerInfo",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/"+r.layerID+"?returnFullStyle="+r.returnFullStyle+"&guid="+r.guid+"&f=json";var n=r.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayersInfo",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers?f=json";var n=r.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"deleteLayer",value:function(t,e){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers/delete?layerIDs="+r.layerID+"&guid="+r.guid+"&f=json";var n=r.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"addLayer",value:function(t,e,r){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers/add?guid="+n.guid+"&f=json";var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"changeIndex",value:function(t,e,r){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers/index?guid="+n.guid+"&f=json";var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),header:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"getLegendInfo",value:function(t,e,r,n){this.partUrl="legendInfo/"+this.docName+"?f=json&layerIndexes="+t+"&fields="+e;var i=this.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync()}}]),e}();e.MapDoc=u,i.Zondy.Catalog.MapDoc=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(16),o=r(3);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.tileName=void 0!==r.tileName?r.tileName:null,n.version=void 0!==r.version?r.version:"2.0",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),n(e,[{key:"getTileList",value:function(t,e){var r=this;r.partUrl="tiles?f=json",this.version&&("2.0"===r.version?r.partUrl+="&v=2":r.partUrl+="&v="+r.version);var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getTileInfo",value:function(t,e){var r=this;r.partUrl="tiles/"+r.tileName+"?f=json",r.version&&(r.partUrl+="&v="+r.version);var n=r.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.TileLayer=s,Zondy.Catalog.TileLayer=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(108),s=r(3),a=r(36);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GDBInfo),n(e,[{key:"getSfclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/sfcls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/sfcls?user="+r.User+"&psw="+r.Password+"&containAll="+this.containAll+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getAclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/acls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/acls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getOclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ocls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ocls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getNclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ncls?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/ncls?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rds?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/rds?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsSfclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0||"mapgislocalplus"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/sfcls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/sfcls?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsAclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/acls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/acls?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsOclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ocls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ocls?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsNclsList",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ncls?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/ncls?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsListInRcs",value:function(t,e){var r=this;r.serverName.toLowerCase().indexOf("mapgislocal")>=0?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.rcsName+"/rds?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.rcsName+"/rds?user="+r.User+"&psw="+r.Password+"&f=json";var n=r.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerList",value:function(t,e,r){var n=this;n.serverName.toLowerCase().indexOf("mapgislocal")>=0?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+t+"?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+t+"?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getLayerListInDS",value:function(t,e,r){var n=this;n.serverName.toLowerCase().indexOf("mapgislocal")>=0?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/"+t+"?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/"+t+"?user="+n.User+"&psw="+n.Password+"&f=json";var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getLayerInfo",value:function(t,e,r,n){this.partUrl="layerinfo?gdbpUrl="+t+"&f=json&encryptPassword="+n+"&proj="+this.proj;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"CreateVectCls",value:function(t,e,r){var n=this;if(null!==(t=null!==t?t:null)&&null!==n.serverName&&null!==n.gdbName){null!==n.User&&null!==n.Password?n.partUrl="datasource/"+n.User+":"+n.Password+"@":n.partUrl="datasource/",null===t.clsName&&(t.clsName=(0,i.newGuid)()),n.partUrl+=n.serverName+"/"+n.gdbName+"/"+t.clsType+"/"+t.clsName+"/create?geoType="+t.geoType+"&srefName="+t.srefName+"&dsName="+t.dsName+"&f=json",null===t.attStruct&&(t.attStruct=new a.CAttStruct);var o=n.getFullUrl();new s.IgsServiceBase(o,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t.attStruct),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deleteXCls",value:function(t,e,r,n){var i=this;if(null!==i.serverName&&null!==i.gdbName&&null!==t&&null!==e){i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+t+"/"+e+"/delete?f=json";var o=i.getFullUrl();new s.IgsServiceBase(o,{eventListeners:{scope:i,processCompleted:r,processFailed:n}}).processAsync()}}}]),e}();e.VectorLayer=u,Zondy.Catalog.VectorLayer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystomInfo=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(16),o=r(3);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.f=r.f||"json",n.page=r.page||0,n.pageCount=r.pageCount||20,n.systemLib=r.systemLib||null,n.type=r.type||null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),n(e,[{key:"GetSystemLibrary",value:function(t,e){this.partUrl="systemlibraries?f="+this.f;var r=this.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetSymbol",value:function(t,e){var r=this,n="symbols?&systemLib="+r.systemLib+"&type="+r.type;r.f&&(n+="&f="+r.f),r.page&&(n+="&page="+r.page),r.size&&(n+="&size="+r.pageCount),r.partUrl=n;var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.SystomInfo=s,Zondy.Catalog.SystomInfo=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditDocFeature=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(53),s=r(3);var a=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.docName=void 0!==t?t:null,o.mapIndex=0,o.layerIndex=void 0!==r?r:0,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.EditServiceBase),n(e,[{key:"add",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerIndex+"/addFeatures?f="+n.f+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerIndex+"/updateFeatures?f="+n.f+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerIndex+"/deleteFeatures?f="+n.f+"&objectIds="+t+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}}}]),e}();e.EditDocFeature=a,i.Zondy.Service.EditDocFeature=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditLayerFeature=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(53),s=r(3);var a=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.gdbp=void 0!==t?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.EditServiceBase),n(e,[{key:"add",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="layer/addFeatures?f="+n.f+"&gdbp="+n.gdbp+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="layer/updateFeatures?f="+n.f+"&gdbp="+n.gdbp+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,r){var n=this;if(void 0!==t){n.partUrl="layer/deleteFeatures?f="+n.f+"&objectIds="+t+"&gdbp="+n.gdbp+"&guid="+n.guid;var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:e,processFailed:r}}).processAsync()}}}]),e}();e.EditLayerFeature=a,i.Zondy.Service.EditLayerFeature=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQuery=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(23),s=r(112),a=r(3);var u=function(t){function e(t,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.queryParam=t,s.mapName=r,s.mapIndex=0,s.layerIndex=n,s.baseUrl="igs/rest/extend/MultiGeo",s.partUrl="docs/"+s.mapName+"/"+s.mapIndex.toString()+"/"+s.layerIndex+"/Geoquery",s.partUrl+=t.getParameterURL(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.QueryServiceBase),n(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof s.MultiGeoQueryParameter){var r=null;"point"===this.queryParam.geometryType?r={pointArr:this.queryParam.geometry}:"line"===this.queryParam.geometryType?r={lineArr:this.queryParam.geometry}:"polygon"===this.queryParam.geometryType&&(r={PolygonObjs:this.queryParam.geometry});var n=this.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}}]),e}();e.MultiGeoQuery=u,i.Zondy.Service.MultiGeoQuery=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQuery=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(23),s=r(113),a=r(3);var u=function(t){function e(t,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.queryParam=t,o.gdbp=r,o.baseUrl="igs/rest/extend/dxlcz",o.partUrl="objlayer/query?gdbp="+r,o.partUrl+=t.getParameterURL(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.QueryServiceBase),n(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof s.ObjClsQueryParameter){var r=this.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.ObjClsQuery=u,i.Zondy.Service.ObjClsQuery=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryLayerFeature=void 0;var n=r(0),i=r(23);var o=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.queryParam=t,i.partUrl="layer/query",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.QueryServiceBase),e}();e.QueryLayerFeature=o,n.Zondy.Service.QueryLayerFeature=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryUnifyParameter=void 0;var n=r(114),i=r(39),o=r(115),s=r(188);var a=e.QueryUnifyParameter=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,s.mix)(n.QueryByLayerParameter,i.QueryParameter,o.QueryDocFeature)),e}();e.default=a},function(t,e,r){"use strict";function n(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;u&&i(this,new u)}}catch(t){n=!0,o=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}},o=!0,s=!1,a=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;c&&i(n,c),c&&i(n.prototype,c.prototype)}}catch(t){s=!0,a=t}finally{try{!o&&l.return&&l.return()}finally{if(s)throw a}}return n}function i(t,e){var r=!0,n=!1,i=void 0;try{for(var o,s=Reflect.ownKeys(e)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value;if("constructor"!==a&&"prototype"!==a&&"name"!==a){var u=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,u)}}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}Object.defineProperty(e,"__esModule",{value:!0}),e.mix=n,e.copyProperties=i,e.default=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(17),o=r(109),s=r(2);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.url=e.url;var r=this.url.split("http://");this._ip=r[1].split(":")[0];var n=r[1].split(":")[1].split("/");this._port=n[0],this.url.indexOf("igs/rest/mrfs/docs")>-1&&(this._mapId=n[n.length-1])}return n(t,null,[{key:"get",value:function(t,e,r){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){4==n.readyState&&200==n.status||304==n.status?e.call(this,n.responseText):4===n.readyState&&200!==n.status&&304!==n.status&&r.call(this,n.responseText)},n.send()}}]),t}();a.prototype.query=function(t,e,r){t=i.BaseParameter.formatParam(t);var n,a,u=Object.assign({},t),l=void 0,c=void 0,h=void 0,f=void 0,p=void 0;if("string"==typeof(f=u.layers)&&(f=f.split(",")),a=["layers","pagination","orderBy","spatialRelationType","EnableDisplayCondition","MustInside","CompareRectOnly","Intersect","IncludeGeometry","IncludeAttribute","IncludeWebGraphic"],Object.keys(u).forEach(function(t){switch(t){case"pagination":u.recordNumber=u.pagination;break;case"orderBy":u.orderField=u.orderBy;break;case"spatialRelationType":u.MustInside="MustInside"===u.spatialRelationType,u.Intersect="Intersect"===u.spatialRelationType;break;case"objectIds":u.objectIds=u.objectIds.join(",")}}),u.hasOwnProperty("geometry")&&u.geometry||u.hasOwnProperty("rectangle")&&u.rectangle.length>0)if(l=new o.QueryFeatureRule({EnableDisplayCondition:u.enableDisplayCondition,MustInside:u.MustInside,CompareRectOnly:u.compareRectOnly,Intersect:u.Intersect}),!u.hasOwnProperty("geometry")&&u.rectangle.length>0)h=new s.Rectangle(u.rectangle[0],u.rectangle[1],u.rectangle[2],u.rectangle[3]),delete u.rectangle;else if("Point"===u.geometry.type)h=new s.Point2D(u.geometry.coordinates[0],u.geometry.coordinates[1],{nearDis:"0.001"}),delete u.geometry;else if("LineString"===u.geometry.type||"Polygon"===u.geometry.type){for(var d=[],y=0;y<u.geometry.coordinates.length;y++)d.push(new s.Point2D(u.geometry.coordinates[y][0],u.geometry.coordinates[y][1]));switch(u.geometry.type){case"LineString":h=new s.PolyLine(d);break;case"Polygon":h=new s.Polygon(d)}delete u.geometry}else if("MultiPolygon"===u.geometry.type){for(var g=[],v=0;v<u.geometry.coordinates.length;v++){for(var m=[],_=u.geometry.coordinates[v],b=0;b<_.length;b++)m.push(new s.Point2D(_[b][0],_[b][1]));g.push(new s.Polygon(m))}h=new s.MultiPolygon(g),delete u.geometry}n=new o.QueryFeatureStruct({IncludeGeometry:u.IncludeGeometry,IncludeAttribute:u.IncludeAttribute,IncludeWebGraphic:u.IncludeWebGraphic});var x=new RegExp("^[0-9]+$");if(f.length<=0)throw new Error("");if(x.test(f[0]))c=new o.QueryParameter,p=new o.QueryDocFeature(c,this._mapId,f.join(","),{ip:this._ip,port:this._port});else{if(!("string"==typeof f[0]&&f[0].indexOf("gdbp")>-1))throw new Error("Idgdbp");c=new o.QueryByLayerParameter(f),p=new o.QueryLayerFeature(c,{ip:this._ip,port:this._port})}h&&(c.geometry=h,c.rule=l),c.struct=n;for(var w=Object.assign({},u),S=0;S<a.length;S++)w.hasOwnProperty(a[S])&&delete w[a[S]];(0,s.extend)(c,w),p.query(function(t){e&&e(t)},function(t){r&&r(t)})},a.prototype.add=function(t,e,r,n){var i=this;this.getFieldAtt(e,function(o){var s=i.getFeatureSet(o,t);i.getFeatureService(e).add(s,r,n)})},a.prototype.update=function(t,e,r,n){var i=this;this.getFieldAtt(e,function(o){var s=i.getFeatureSet(o,t);i.getFeatureService(e).update(s,r,n)})},a.prototype.delete=function(t,e,r,n){t=t.join(","),this.getFeatureService(e).deletes(t,r,n)},a.prototype.getFeatureSet=function(t,e){for(var r=[],n=t.FieldAtt.FldType,i=0;i<n.length;i++)r.push(n[i].substr(3,n[i].length).toLowerCase());t.FieldAtt.FldType=r;for(var o=new s.FeatureSet({AttStruct:new s.CAttStruct(t.FieldAtt)}),a=0;a<e.length;a++){for(var u=e[a].hasOwnProperty("geometry")&&e[a].geometry,l=void 0,c=void 0,h=void 0,f=[],p=0;p<t.FieldAtt.FldName.length;p++)e[a].attributes.hasOwnProperty(t.FieldAtt.FldName[p])?f.push(e[a].attributes[t.FieldAtt.FldName[p]]):f.push(null);var d=new s.Feature({AttValue:f}),y=void 0;if(u){var g=e[a].geometryType,v=void 0,m=void 0,_=void 0,b=void 0,x=void 0,w=void 0,S=void 0,P=void 0;switch(l=e[a].geometry,g){case"Point":c=[];for(var E=0;E<l.length;E++)x=new s.GPoint(l[E].coordinates[0],l[E].coordinates[1]),c.push(x);v=new s.FeatureGeometry({PntGeom:c}),y=1,e[a].style&&(_=new s.CPointInfo(e[a].style),m=new s.WebGraphicsInfo({InfoType:1,PntInfo:_}));break;case"LineString":c=[];for(var O=0;O<l.length;O++){w=[];for(var C=0;C<l[O].coordinates.length;C++)w.push(new s.Point2D(l[O].coordinates[C].x,l[O].coordinates[C].y));S=new Arc(w),b=new s.AnyLine([S]),h=new s.GLine(b),c.push(h)}v=new s.FeatureGeometry({LinGeom:c}),y=2,e[a].style&&(_=new s.CLineInfo(e[a].style),m=new s.WebGraphicsInfo({InfoType:2,LinInfo:_}));break;case"Polygon":c=[];for(var I=0;I<l.length;I++){b=[];for(var M=[],N=0;N<l[I].exterior.length;N++)M.push(new s.Point2D(l[I].exterior[N].x,l[I].exterior[N].y));b.push(new s.AnyLine([new Arc(M)]));for(var T=0;T<l[I].interior.length;T++){for(var A=[],L=0;L<l[I].interior[T].length;L++)A.push(new s.Point2D(l[I].interior[T][L].x,l[I].interior[T][L].y));b.push(new s.AnyLine([new Arc(A)]))}P=new s.GRegion(b),c.push(P)}v=new s.FeatureGeometry({RegGeom:c}),y=3,e[a].style&&(_=new s.CRegionInfo(e[a].style),m=new s.WebGraphicsInfo({InfoType:3,RegInfo:_}))}d.fGeom=v,d.GraphicInfo=m,d.ftype=y}e[a].FID&&d.setFID(e[a].FID),o.addFeature(d)}return o},a.prototype.getFeatureService=function(t){return t.indexOf("gdbp")>=0?new o.EditLayerFeature(t):new o.EditDocFeature(this._mapId,t,{ip:this._ip,port:this._port})},a.prototype.getFieldAtt=function(t,e){var r=this;t.indexOf("gdbp")>=0?this.getGDBPInfo(t,e):this.getLayerInfo(t,function(t){r.getGDBPInfo(t,e)})},a.prototype.getGDBPInfo=function(t,e){a.get("http://"+this._ip+":"+this._port+"/igs/rest/mrcs/layerinfo?gdbpUrl="+t,function(t){t=JSON.parse(t),e(t)})},a.prototype.getLayerInfo=function(t,e){a.get("http://"+this._ip+":"+this._port+"/igs/rest/mrcs/docs/"+this._mapId+"/0/"+t+"?f=json",function(t){var r=(t=JSON.parse(t)).URL;e(r)})},e.FeatureService=a,s.Zondy.Service.FeatureService=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SQLParameter=void 0;var n=r(17),i=r(2);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.where=void 0,(0,i.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.BaseParameter),e}();e.SQLParameter=o,i.Zondy.Service.SQLParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryParameter=void 0;var n=r(17),i=r(2),o=r(55),s=r(57),a=r(58);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.geometry=void 0,r.where=void 0,r.compareRectOnly=!1,r.enableDisplayCondition=!1,r.spatialRelationType="Intersect",(0,i.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.BaseParameter),e}();u.prototype.fromGeoJSON=function(t){if(t){switch(t.geometry.type){case"Point":this.geometry=new o.VPoint({coordinates:t.geometry.coordinates});break;case"LineString":this.geometry=new s.VPolyline({coordinates:t.geometry.coordinates});break;case"Polygon":this.geometry=new a.VPolygon({coordinates:t.geometry.coordinates[0]})}}},e.GeometryParameter=u,i.Zondy.Service.GeometryParameter=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RectangleParameter=void 0;var n=r(17),i=r(2);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.where=void 0,r.rectangle=[],r.compareRectOnly=!1,r.enableDisplayCondition=!1,r.spatialRelationType="Intersects",(0,i.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.BaseParameter),e}();e.RectangleParameter=o,i.Zondy.Service.RectangleParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectIdsParameter=void 0;var n=r(17),i=r(2);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.objectIds=[],(0,i.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.BaseParameter),e}();e.ObjectIdsParameter=o,i.Zondy.Service.ObjectIdsParameter=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VFeature=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(2),o=r(55),s=r(57),a=r(58);var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.geometry=void 0,this.geometryType=void 0,this.attributes=void 0,this.style=void 0,this.FID=void 0,(0,i.extend)(this,e)}return n(t,null,[{key:"fromQueryResult",value:function(e){if(!e.hasOwnProperty("SFEleArray")||!e.hasOwnProperty("AttStruct")||e.hasOwnProperty("SFEleArray")&&!e.SFEleArray||e.hasOwnProperty("AttStruct")&&!e.AttStruct)return[];for(var r=e.SFEleArray,n=e.AttStruct,i=[],u=void 0,l=0;l<r.length;l++){for(var c={},h=[],f=void 0,p=0;p<r[l].AttValue.length;p++)""!==r[l].AttValue[p]&&(c[n.FldName[p]]=r[l].AttValue[p]);if(r[l].fGeom)switch(r[l].ftype){case 1:for(var d=r[l].fGeom.PntGeom,y=0;y<d.length;y++){var g=new o.VPoint({coordinates:[d[y].Dot.x,d[y].Dot.y]});h.push(g),f="Point"}break;case 2:for(var v=r[l].fGeom.LinGeom,m=0;m<v.length;m++){var _=new s.VPolyline({coordinates:v[m].Line.Arcs[0].Dots});h.push(_),f="LineString"}break;case 3:for(var b=r[l].fGeom.RegGeom,x=0;x<b.length;x++){var w=new a.VPolygon;w.exterior=b[x].Rings[0].Arcs[0].Dots;for(var S=1;S<b[x].Rings.length;S++)w.interior.push(b[x].Rings[S].Arcs[0].Dots);h.push(w),f="Polygon"}}var P=void 0;if(r[l].GraphicInfo){var E=r[l].GraphicInfo;switch(E.InfoType){case 1:P=E.PntInfo;break;case 2:P=E.LinInfo;break;case 3:P=E.RegInfo}}u=new t({attributes:c,FID:r[l].FID,geometry:h,geometryType:f,style:P}),i.push(u)}return i}},{key:"fromGeoJSON",value:function(e){var r=void 0,n=[];if(!e.hasOwnProperty("type"))throw new Error("geoJSON");if("Feature"===e.type)return r=new t({geometry:t.geometry,attributes:e.properties});if("FeatureCollection"===e.type){for(var i=e.features,o=void 0,s=void 0,u=void 0,l=0;l<i.length;l++){switch(o=[],u=i[l].geometry.coordinates,i[l].geometry.type){case"Point":o.push(i[l].geometry);break;case"LineString":s=[];for(var c=0;c<u.length;c++)s.push({x:Number(u[c][0]),y:Number(u[c][1])});i[l].geometry.coordinates=s,o.push(i[l].geometry);break;case"Polygon":for(var h=new a.VPolygon,f=0;f<u[0].length;f++)h.exterior.push({x:Number(u[0][f][0]),y:Number(u[0][f][1])});for(var p=1;p<u.length;p++){for(var d=[],y=0;y<u[p].length;y++)d.push({x:Number(u[p][y][0]),y:Number(u[p][y][1])});h.exterior.push(d)}o.push(h)}r=new t({geometry:o,attributes:i[l].properties,geometryType:i[l].geometry.type}),n.push(r)}return n}throw new Error("geoJSON")}},{key:"toAntTableData",value:function(e){for(var r=[],n=t.fromQueryResult(e),i=0;i<n.length;i++)r.push(Object.assign(n[i].attributes,{key:n[i].FID?n[i].FID:i}));return r}},{key:"resultToGeojson",value:function(e){var r=t.fromQueryResult(e),n=[];r=JSON.parse(JSON.stringify(r).replace(/attributes/g,"properties").replace(/geometryType/g,"type"));for(var i=void 0,o=0;o<r.length;o++)i=t.polygonToGeojson(r[o]),n=n.concat(i);return{type:"feature",features:n}}},{key:"polygonToGeojson",value:function(t){for(var e=void 0,r=[],n=t.geometry,i=t.properties,o=0;o<n.length;o++)e={},"Polygon"===n[o].type&&(n[o].coordinates=n[o].coordinates.concat(n[o].exterior,n[o].interior)),e.geometry=n[o],e.properties=i,r.push(e);return r}}]),t}();e.VFeature=u,i.Zondy.Service.VFeature=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=e.ProjectBySRID=e.ProjectByLayer=e.ProjectBase=e.OverlayByPolygon=e.OverlayByLayer=e.OverlayBase=e.NetAnalysis=e.FeatureBuffBySingleRing=e.FeatureBuffByMultiplyRing=e.FeatureBuffBase=e.ContourAnalyse=e.ClipByPolygon=e.ClipByLayer=e.ClipByCircle=e.ClipBase=e.ClassBufferBySingleRing=e.ClassBufferByMultiplyRing=e.ClassBufferBase=e.AnalysisBase=void 0;var n=r(11),i=r(59),o=r(196),s=r(197),a=r(40),u=r(198),l=r(199),c=r(200),h=r(201),f=r(60),p=r(202),d=r(203),y=r(204),g=r(61),v=r(205),m=r(206),_=r(62),b=r(207),x=r(208),w=r(209);e.AnalysisBase=n.AnalysisBase,e.ClassBufferBase=i.ClassBufferBase,e.ClassBufferByMultiplyRing=o.ClassBufferByMultiplyRing,e.ClassBufferBySingleRing=s.ClassBufferBySingleRing,e.ClipBase=a.ClipBase,e.ClipByCircle=u.ClipByCircle,e.ClipByLayer=l.ClipByLayer,e.ClipByPolygon=c.ClipByPolygon,e.ContourAnalyse=h.ContourAnalyse,e.FeatureBuffBase=f.FeatureBuffBase,e.FeatureBuffByMultiplyRing=p.FeatureBuffByMultiplyRing,e.FeatureBuffBySingleRing=d.FeatureBuffBySingleRing,e.NetAnalysis=y.NetAnalysis,e.OverlayBase=g.OverlayBase,e.OverlayByLayer=v.OverlayByLayer,e.OverlayByPolygon=m.OverlayByPolygon,e.ProjectBase=_.ProjectBase,e.ProjectByLayer=b.ProjectByLayer,e.ProjectBySRID=x.ProjectBySRID,e.FunctionWareService=w.FunctionWareService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferByMultiplyRing=void 0;var n=r(0),i=r(59);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.flowID="600232",n.radiusStr=void 0!==r.radiusStr?r.radiusStr:"2,4,8,10",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClassBufferBase),e}();e.ClassBufferByMultiplyRing=o,n.Zondy.Service.ClassBufferByMultiplyRing=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBySingleRing=void 0;var n=r(0),i=r(59);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.leftRad=void 0!==r.leftRad?r.leftRad:.001,n.rightRad=void 0!==r.rightRad?r.rightRad:.001,n.isByAtt=void 0===r.isByAtt||r.isByAtt,n.fldName=void 0!==r.fldName?r.fldName:null,n.dynPrjRad=void 0!==r.dynPrjRad?r.dynPrjRad:0,n.flowID="600231",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClassBufferBase),e}();e.ClassBufferBySingleRing=o,n.Zondy.Service.ClassBufferBySingleRing=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByCircle=void 0;var n=r(0),i=r(40);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,n.center=void 0!==r.center?r.center:null,n.radius=void 0!==r.radius?r.radius:null,n.step=void 0!==r.step?r.step:.001,n.flowID="600229",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByCircle=o,n.Zondy.Service.ClipByCircle=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByLayer=void 0;var n=r(0),i=r(40);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo1=void 0!==r.srcInfo1?r.srcInfo1:null,n.srcInfo2=void 0!==r.srcInfo2?r.srcInfo2:null,n.flowID="600230",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByLayer=o,n.Zondy.Service.ClipByLayer=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByPolygon=void 0;var n=r(0),i=r(40);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo=void 0!==r.srcInfo?r.srcInfo:null,n.strPos=void 0!==r.strPos?r.strPos:null,n.flowID="600228",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByPolygon=o,n.Zondy.Service.ClipByPolygon=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourAnalyse=void 0;var n=r(0),i=(r(1),r(11));r(3),r(101),r(97);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.flowID="600320",n.linSfclsURL=void 0!==r.linSfclsURL?r.linSfclsURL:null,n.regSfclsURL=void 0!==r.regSfclsURL?r.regSfclsURL:null,n.annoClsURL=void 0!==r.annoClsURL?r.annoClsURL:null,n.meshingParam=void 0!==r.meshingParam?r.meshingParam:null,n.contourParam=void 0!==r.contourParam?r.contourParam:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ContourAnalyse=o,n.Zondy.Service.ContourAnalyse=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffByMultiplyRing=void 0;var n=r(0),i=r(60);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.radiusStr=void 0!==r.radiusStr?r.radiusStr:"0.003,0.002,0.001",n.flowID="600239",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.FeatureBuffBase),e}();e.FeatureBuffByMultiplyRing=o,n.Zondy.Service.FeatureBuffByMultiplyRing=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBySingleRing=void 0;var n=r(0),i=r(60);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.leftRad=void 0!==r.leftRad?r.leftRad:.001,n.rightRad=void 0!==r.rightRad?r.rightRad:.001,n.flowID="600238",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.FeatureBuffBase),e}();e.FeatureBuffBySingleRing=o,n.Zondy.Service.FeatureBuffBySingleRing=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysis=void 0;var n=r(0),i=r(11),o=r(6);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.netClsUrl=void 0!==r.netClsUrl?r.netClsUrl:null,n.flagPosStr=void 0!==r.flagPosStr?r.flagPosStr:null,n.barrierPosStr=void 0!==r.barrierPosStr?r.barrierPosStr:null,n.analyType=void 0!==r.analyType?r.analyType:o.NetAnalyType.UserMode,n.weight=void 0!==r.weight?r.weight:",Weight1,Weight1",n.elementType=void 0!==r.elementType?r.elementType:o.NetElemType.Edge,n.nearDis=void 0!==r.nearDis?r.nearDis:.001,n.outFormat=void 0!==r.outFormat?r.outFormat:"json",n.flowID="600233",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.NetAnalysis=s,n.Zondy.Service.NetAnalysis=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByLayer=void 0;var n=r(0),i=r(61);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.srcInfo2=void 0!==r.srcInfo2?r.srcInfo2:null,n.flowID="600227",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.OverlayBase),e}();e.OverlayByLayer=o,n.Zondy.Service.OverlayByLayer=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByPolygon=void 0;var n=r(0),i=r(61);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.strGRegionXML=void 0!==r.strGRegionXML?r.strGRegionXML:null,n.inFormat=void 0!==r.inFormat?r.inFormat:"json",n.flowID="600237",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.OverlayBase),e}();e.OverlayByPolygon=o,n.Zondy.Service.OverlayByPolygon=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectByLayer=void 0;var n=r(0),i=r(62),o=r(1);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{};(0,o.extend)(n,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.flowID="600235",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ProjectBase),e}();e.ProjectByLayer=s,n.Zondy.Service.ProjectByLayer=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBySRID=void 0;var n=r(0),i=r(62),o=r(1);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{};(0,o.extend)(n,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.flowID="600234",i.srID=void 0!==n.srID?n.srID:32,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ProjectBase),e}();e.ProjectBySRID=s,n.Zondy.Service.ProjectBySRID=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(11),s=r(3),a=r(1);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.guid=r.guid?r.guid:(0,a.newGuid)(),n.f=void 0!==r.f?r.f:"json",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.AnalysisBase),n(e,[{key:"executeWorkFlow",value:function(t,e,r,n,i,o){r||(r=!1);var a={};null!==o&&"POST"===o.toUpperCase()?(a.paraValues=e,this.partUrl="execute/"+t+"?f="+this.f+"&isAsy="+r+"&guid="+this.guid):this.partUrl="execute/"+t+"?paraValues="+e+"&f="+this.f+"&isAsy="+r+"&guid="+this.guid;var u=this.getFullUrl(),l=new s.IgsServiceBase(u,{eventListeners:{scope:this,processCompleted:n,processFailed:i}});null!==o&&"POST"===o.toUpperCase()?l.processAsync({method:"POST",data:JSON.stringify(a)}):l.processAsync()}},{key:"getInstanceMessage",value:function(t,e,r){this.partUrl="instanceLogs/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getInstanceOutPutValue",value:function(t,e,r,n){this.partUrl="outputvalues/"+t+"?name="+e+"&f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync()}},{key:"getInstanceResult",value:function(t,e,r){this.partUrl="results/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getInstanceStatus",value:function(t,e,r){this.partUrl="status/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getWorkFlowGroups",value:function(t,e){this.partUrl="groups/?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfoByID",value:function(t,e,r){this.partUrl="workflows/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getWorkFlowInfos",value:function(t,e){this.partUrl="workflows?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfosByGroup",value:function(t,e,r){this.partUrl="workflowsbygroup/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}},{key:"getFolder1",value:function(t,e){this.partUrl="folderInfos?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder2",value:function(t,e){this.partUrl="folderInfos/workflow?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder3",value:function(t,e,r){this.partUrl="folderInfos/workflow/"+t+"?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}}]),e}();e.FunctionWareService=u,i.Zondy.Service.FunctionWareService=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=e.TopAnalysis=e.Smooth=e.ProjectRang=e.ProjectDots=e.GeometryAnalysisBase=e.CProjectParam=e.CProjectBySRSID=e.CalServiceBase=e.CalPolyLineLength=e.CalArea=void 0;var n=r(211),i=r(212),o=r(63),s=r(65),a=r(64),u=r(15),l=r(213),c=r(214),h=r(215),f=r(216),p=r(217);e.CalArea=n.CalArea,e.CalPolyLineLength=i.CalPolyLineLength,e.CalServiceBase=o.CalServiceBase,e.CProjectBySRSID=s.CProjectBySRSID,e.CProjectParam=a.CProjectParam,e.GeometryAnalysisBase=u.GeometryAnalysisBase,e.ProjectDots=l.ProjectDots,e.ProjectRang=c.ProjectRang,e.Smooth=h.Smooth,e.TopAnalysis=f.TopAnalysis,e.CoordinateElpTrans=p.CoordinateElpTrans},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalArea=void 0;var n=r(0),i=r(63),o=r(1);r(8);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{};(0,o.extend)(n,{dots:t});var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.partUrl="geomservice/calArea?f=json",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CalServiceBase),e}();e.CalArea=s,n.Zondy.Service.CalArea=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalPolyLineLength=void 0;var n=r(0),i=r(63),o=r(1);r(8);var s=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r||{};(0,o.extend)(n,{dots:t});var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return i.partUrl="geomservice/calLength?f=json",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CalServiceBase),e}();e.CalPolyLineLength=s,n.Zondy.Service.CalPolyLineLength=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectDots=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=(r(8),r(64),r(3));var a=function(t){function e(t,r,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.InputDots=t,s.SrcProjParam=r,s.DesProjParm=n,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"execute",value:function(t,e){this.partUrl="geomservice/projectdots?f=json";var r={};r.InputDots=this.InputDots,r.SrcProjParam=this.SrcProjParam,r.DesProjParm=this.DesProjParm;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.ProjectDots=a,i.Zondy.Service.ProjectDots=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectRang=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=r(3);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.gdbsvrName=void 0!==r.gdbsvrName?r.gdbsvrName:"MapGISLocal",n.gdbName=void 0!==r.gdbName?r.gdbName:null,n.srefID=void 0!==r.srefID?r.srefID:0,n.desfID=void 0!==r.desfID?r.desfID:0,n.userName=void 0!==r.userName?r.userName:null,n.password=void 0!==r.password?r.password:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"execute",value:function(t,e,r){var n="";t&&(n=t.xmin+"$"+t.ymin+"$"+t.xmax+"$"+t.ymax),null===this.userName||null===this.password?this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+n:this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+n+"&userName="+this.userName+"&password="+this.password;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync()}}]),e}();e.ProjectRang=a,i.Zondy.Service.ProjectRang=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=(r(8),r(3));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.type=void 0!==r.type?r.type:0,n.step=void 0!==r.step?r.step:1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"setType",value:function(t){this.type=t}},{key:"setStep",value:function(t){this.step=t}},{key:"execute",value:function(t,e,r){if(2==this.type){if(t.length<4)return void alert("Beizer")}else if(t.length<3)return void alert("");this.partUrl="geomservice/smooth?f=json&type="+this.type+"&step="+this.step;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:e,processFailed:r}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.Smooth=a,i.Zondy.Service.Smooth=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopAnalysis=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=r(3),a=(r(49),r(50),r(51),r(1));var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.pnt=void 0!==r.pnt?r.pnt:null,n.line=void 0!==r.line?r.line:null,n.reg=void 0!==r.reg?r.reg:null,n.nearDis=void 0!==r.nearDis?r.nearDis:.01,n.relativeObj=void 0!==r.relativeObj?r.relativeObj:null,n.p_onSuccess=void 0!==r.p_onSuccess?r.p_onSuccess:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"setPnt",value:function(t){this.pnt=t}},{key:"setLine",value:function(t){this.line=t}},{key:"setReg",value:function(t){this.reg=t}},{key:"setRelativeObj",value:function(t){this.relativeObj=t}},{key:"onGetRltSuccess",value:function(t){var e=(0,a.getTopAnalysisResult)(t);this.p_onSuccess(e)}},{key:"execute",value:function(t,e){(i=this).p_onSuccess=t;var r={};r.NearDis=this.nearDis,r.Pnt=this.pnt,r.Line=this.line,r.Reg=this.reg,r.RelativeObj=this.relativeObj,i.partUrl="geomservice/topanalysis?f=json";var n=i.getFullUrl(),i=this;new s.IgsServiceBase(n,{eventListeners:{scope:i,processCompleted:i.onGetRltSuccess,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.TopAnalysis=u,i.Zondy.Service.TopAnalysis=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(15),s=r(3);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.points=void 0!==r.points?r.points:"",n.dx=void 0!==r.dx?r.dx:"",n.dy=void 0!==r.dy?r.dy:"",n.dz=void 0!==r.dz?r.dz:"",n.m=void 0!==r.m?r.m:"",n.wx=void 0!==r.wx?r.wx:"",n.wy=void 0!==r.wy?r.wy:"",n.wz=void 0!==r.wz?r.wz:"",n.srcsrsname=void 0!==r.srcsrsname?r.srcsrsname:"",n.dessrsname=void 0!==r.dessrsname?r.dessrsname:"",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),n(e,[{key:"coordinateTrans",value:function(t,e,r){var n={};null!==r&&"POST"===r.toUpperCase()?(n.paraValues="",this.partUrl="geomservice/transcoordinate?points="+this.points+"&dx="+this.dx+"&dy="+this.dy+"&dz="+this.dz+"&m="+this.m+"&wx="+this.wx+"&wy="+this.wy+"&wz="+this.wz+"&srcsrsname="+this.srcsrsname+"&dessrsname="+this.dessrsname):(n=this,this.partUrl="geomservice/transcoordinate");var i=this.getFullUrl(),o=new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:t,processFailed:e}});null!==r&&"POST"===r.toUpperCase()?o.processAsync({method:"POST",data:JSON.stringify(n)}):o.processAsync()}}]),e}();e.CoordinateElpTrans=a,i.Zondy.Service.CoordinateTransform=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=e.GetTileImageService=e.GetMapInfoService=e.GetMapImageService=e.GetLayerImageService=e.GetDocImageService=void 0;var n=r(219),i=r(220),o=r(221),s=r(222),a=r(223),u=r(18);e.GetDocImageService=n.GetDocImageService,e.GetLayerImageService=i.GetLayerImageService,e.GetMapImageService=o.GetMapImageService,e.GetMapInfoService=s.GetMapInfoService,e.GetTileImageService=a.GetTileImageService,e.MapServiceBase=u.MapServiceBase},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetDocImageService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(18),s=(r(65),r(1));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.docName=void 0!==r.docName?r.docName:null,n.cache=void 0!==r.cache&&r.cache,n.cache?(n.level=void 0!==r.level?r.level:0,n.row=void 0!==r.row?r.row:0,n.col=void 0!==r.col?r.col:0,n.update=void 0!==r.update&&r.update):(n.layers=void 0!==r.layers?r.layers:null,n.style=void 0!==r.style?r.style:null,n.picType=void 0!==r.picType?r.picType:"gif",n.bbox=void 0!==r.bbox?r.bbox:null,n.filters=void 0!==r.filters?r.filters:null,n.picWidth=void 0!==r.picWidth?r.picWidth:512,n.picHeight=void 0!==r.picHeight?r.picHeight:512,n.proj=void 0!==r.proj?r.proj:null,n.guid=void 0!==r.guid?r.guid:(0,s.newGuid)()),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),n(e,[{key:"GetMapImage",value:function(){return this.docName?(!0===this.cache?this.partUrl="docs/"+this.docName+"?cache="+this.cache.toString()+"&level="+this.level+"&row="+this.row+"&col="+this.col+"&update="+this.update.toString():(this.partUrl="docs/"+this.docName+"?",null!==this.bbox&&(this.partUrl+="bbox="+this.bbox),null!==this.picWidth&&(this.partUrl+="&w="+this.picWidth),null!==this.picHeight&&(this.partUrl+="&h="+this.picHeight),null!==this.layers&&(this.partUrl+="&layers="+this.layers),null!==this.filters&&(this.partUrl+="&filters="+encodeURI(this.filters)),null!==this.style&&(this.partUrl+="&style="+JSON.stringify(this.style)),null!==this.proj&&(this.partUrl+="&proj="+JSON.stringify(this.proj)),null!==this.picType&&(this.partUrl+="&f="+this.picType),null!==this.guid&&(this.partUrl+="&guid="+this.guid)),this.getFullUrl()):null}}]),e}();e.GetDocImageService=a,i.Zondy.Service.GetDocImageService=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetLayerImageService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(18);r(88);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.gdbps=void 0!==r.gdbps?r.gdbps:null,n.picType=void 0!==r.picType?r.picType:"gif",n.style=void 0!==r.style?r.style:null,n.bbox=void 0!==r.bbox?r.bbox:null,n.filters=void 0!==r.filters?r.filters:null,n.picWidth=void 0!==r.picWidth?r.picWidth:512,n.picHeight=void 0!==r.picHeight?r.picHeight:512,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),n(e,[{key:"GetLayerImage",value:function(){if(null!==this.gdbps&&null!==this.picWidth&&null!==this.picHeight){this.partUrl="layers?f="+this.picType,this.partUrl+="&gdbps=",this.gdbps.split(",");for(var t=this.gdbps.split(","),e=0;e<t.length;e++)this.partUrl+=t[e],e<t.length-1&&(this.partUrl+=",");return null!==this.style&&(this.partUrl+="&style="+JSON.stringify(this.style)),null!==this.filters&&(this.partUrl+="&filters="+this.filters),null!==this.bbox&&(this.partUrl+="&bbox="+this.bbox),this.partUrl+="&w="+this.picWidth,this.partUrl+="&h="+this.picHeight,this.getFullUrl()}return null}}]),e}();e.GetLayerImageService=s,i.Zondy.Service.GetLayerImageService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapImageService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(18),s=r(6);var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.mapName=void 0!==r.mapName?r.mapName:null,n.mapType=void 0!==r.mapType?r.mapType:s.MapType.Doc,n.mapType===s.MapType.Tile?(n.level=void 0!==r.level?r.level:0,n.row=void 0!==r.row?r.row:0,n.col=void 0!==r.col?r.col:0):(n.picType=void 0!==r.picType?r.picType:"gif",n.picWidth=void 0!==r.picWidth?r.picWidth:512,n.picHeight=void 0!==r.picHeight?r.picHeight:512,n.xmin=void 0!==r.xmin?r.xmin:null,n.xmax=void 0!==r.xmax?r.xmax:null,n.ymin=void 0!==r.ymin?r.ymin:null,n.ymax=void 0!==r.ymax?r.ymax:null),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),n(e,[{key:"GetImage",value:function(){return this.mapName?(this.mapType===s.MapType.Tile?this.partUrl="tile/"+this.mapName+"?lvl="+this.level+"&row="+this.row+"&col="+this.col:(this.partUrl="map/"+this.mapName+"?width="+this.picWidth+"&height="+this.picHeight+"&f="+this.picType,null!==this.xmin&&null!==this.xmax&&null!==this.ymin&&null!==this.ymax&&(this.partUrl+="&xmin="+this.xmin+"&ymin="+this.ymin+"&xmax="+this.xmax+"&ymax="+this.ymax)),this.getFullUrl()):null}}]),e}();e.GetMapImageService=a,i.Zondy.Service.GetMapImageService=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapInfoService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(18),s=r(3),a=r(1);var u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.mapName=void 0!==r.mapName?r.mapName:null,n.guid=void 0!==r.guid?r.guid:(0,a.newGuid)(),n.token=r.token,n.type=r.type,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),n(e,[{key:"GetMapInfo",value:function(t,e){var r=this;if(r.mapName){r.partUrl="info/"+this.mapName;var n=[];r.guid&&n.push("guid="+r.guid),this.token&&n.push("token="+r.token),this.type&&n.push("type="+r.type),n.length>0&&(r.partUrl+="?"+n.join("&"));var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.GetMapInfoService=u,i.Zondy.Service.GetMapInfoService=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetTileImageService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(18);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.hdfName=void 0!==r.hdfName?r.hdfName:null,n.level=void 0!==r.level?r.level:0,n.row=void 0!==r.row?r.row:0,n.col=void 0!==r.col?r.col:0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),n(e,[{key:"GetTileImage",value:function(){return void 0!==this.hdfName?(this.partUrl="tile/"+this.hdfName+"/"+this.level+"/"+this.row+"/"+this.col,this.getFullUrl()):null}}]),e}();e.GetTileImageService=s,i.Zondy.Service.GetTileImageService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=e.ThemeOper=e.ItemValue=e.FolderInfoAttribute=e.FolderInfo=e.ExpInfo=e.CUniqueThemeInfo=e.CUniqueTheme=e.CThemeInfo=e.CTheme=e.CSimpleTheme=e.CRegInfo=e.CRangeThemeInfo=e.CRangeTheme=e.CRandomTheme=e.CPntInfo=e.CMultiClassTheme=e.CLinInfo=e.CGraduatedSymbolTheme=e.CFourColorTheme=e.CDotDensityTheme=e.CChartType=e.CChartThemeRepresentInfo=e.CChartThemeInfo=e.CChartTheme=e.CChartLabelFormat=e.CAnnInfo=e.CAllOtherDataItemInfoSource=void 0;var n=r(116),i=r(117),o=r(118),s=r(119),a=r(121),u=r(124),l=r(120),c=r(125),h=r(126),f=r(127),p=r(122),d=r(128),y=r(41),g=r(130),v=r(131),m=r(132),_=r(123),b=r(133),x=r(9),w=r(13),S=r(134),P=r(135),E=r(129),O=r(136),C=r(66),I=r(225),M=r(226),N=r(137);e.CAllOtherDataItemInfoSource=n.CAllOtherDataItemInfoSource,e.CAnnInfo=i.CAnnInfo,e.CChartLabelFormat=o.CChartLabelFormat,e.CChartTheme=s.CChartTheme,e.CChartThemeInfo=a.CChartThemeInfo,e.CChartThemeRepresentInfo=u.CChartThemeRepresentInfo,e.CChartType=l.CChartType,e.CDotDensityTheme=c.CDotDensityTheme,e.CFourColorTheme=h.CFourColorTheme,e.CGraduatedSymbolTheme=f.CGraduatedSymbolTheme,e.CLinInfo=p.CLinInfo,e.CMultiClassTheme=d.CMultiClassTheme,e.CPntInfo=y.CPntInfo,e.CRandomTheme=g.CRandomTheme,e.CRangeTheme=v.CRangeTheme,e.CRangeThemeInfo=m.CRangeThemeInfo,e.CRegInfo=_.CRegInfo,e.CSimpleTheme=b.CSimpleTheme,e.CTheme=x.CTheme,e.CThemeInfo=w.CThemeInfo,e.CUniqueTheme=S.CUniqueTheme,e.CUniqueThemeInfo=P.CUniqueThemeInfo,e.ExpInfo=E.ExpInfo,e.FolderInfo=O.FolderInfo,e.FolderInfoAttribute=C.FolderInfoAttribute,e.ItemValue=I.ItemValue,e.ThemeOper=M.ThemeOper,e.ThemesInfo=N.ThemesInfo},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemValue=void 0;var n=r(0),i=r(1),o=r(6),s=function(t,e,r,n){var s=void 0!==n?n:{};(0,i.extend)(this,s),this.StartValue=void 0!==t?t:"",this.EndValue=void 0!==e?e:"",this.ClassItemType=void 0!==r?r:o.CItemType.RangeTheme};e.ItemValue=s,n.Zondy.Object.Theme.ItemValue=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeOper=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(5),s=r(1),a=r(3),u=r(128),l=r(133),c=r(119),h=r(127),f=r(125),p=r(130),d=r(126),y=r(134),g=r(131),v=r(66),m=r(136),_=r(137);var b=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=r||{}).baseUrl="igs/rest/theme";var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.guid=null!==t?t:(0,s.newGuid)(),n.p_onSuccess=void 0!==r.p_onSuccess?r.p_onSuccess:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"onGetThemesInfoSuccess",value:function(t){var e=new m.FolderInfo;if((0,s.extendDeep)(e,t.result||t),null!==e&&null!==e.attribute&&e.attribute.length>0){for(var r=[],n=null,i=0;i<e.attribute.length;i++)if(r[i]=new _.ThemesInfo,null!==e.attribute[i]&&(r[i].LayerName=e.attribute[i].name,null!==(n=JSON.parse(e.attribute[i].value))&&n.length>0)){r[i].ThemeArr=[];for(var o=0;o<n.length;o++){switch(n[o].name){case"CMultiClassTheme":r[i].ThemeArr[o]=new u.CMultiClassTheme;break;case"CSimpleTheme":r[i].ThemeArr[o]=new l.CSimpleTheme;break;case"CChartTheme":r[i].ThemeArr[o]=new c.CChartTheme;break;case"CGraduatedSymbolTheme":r[i].ThemeArr[o]=new h.CGraduatedSymbolTheme;break;case"CDotDensityTheme":r[i].ThemeArr[o]=new f.CDotDensityTheme;break;case"CRandomTheme":r[i].ThemeArr[o]=new p.CRandomTheme;break;case"CFourColorTheme":r[i].ThemeArr[o]=new d.CFourColorTheme;break;case"CUniqueTheme":r[i].ThemeArr[o]=new y.CUniqueTheme;break;case"CRangeTheme":r[i].ThemeArr[o]=new g.CRangeTheme}(0,s.extendDeep)(r[i].ThemeArr[o],JSON.parse(n[o].value))}}null!==this.p_onSuccess&&"function"==typeof this.p_onSuccess&&this.p_onSuccess(r)}}},{key:"getThemesInfo",value:function(t,e,r,n){var i=this;i.p_onSuccess=r;var o=Math.random();i.partUrl=t+"/get?idxArr="+e+"&r="+o+"&guid="+i.guid;var s=i.getFullUrl();new a.IgsServiceBase(s,{eventListeners:{scope:i,processCompleted:i.onGetThemesInfoSuccess,processFailed:n}}).processAsync()}},{key:"removeThemesInfo",value:function(t,e,r,n){var i=Math.random();this.partUrl=t+"/remove?idxArr="+e+"&r="+i+"&guid="+this.guid;var o=this.getFullUrl();new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:r,processFailed:n}}).processAsync()}},{key:"updateThemesInfo",value:function(t,e,r,n,i){Math.random();this.partUrl=t+"/update?idxArr="+e+"&guid="+this.guid;var o=this.getFullUrl(),s=new m.FolderInfo;if(null!==r&&r.length>0){s.name="ThemeInfo",s.attribute=[];for(var u=0;u<r.length;u++)if(s.attribute[u]=new v.FolderInfoAttribute,s.attribute[u].name=r[u].LayerName,null!==r[u].ThemeArr&&r[u].ThemeArr.length>0){for(var l=[],c=0;c<r[u].ThemeArr.length;c++)null!==r[u].ThemeArr[c]&&(l[c]=new v.FolderInfoAttribute(r[u].ThemeArr[c].Type,JSON.stringify(r[u].ThemeArr[c])));s.attribute[u].value=JSON.stringify(l)}}new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:n,processFailed:i}}).processAsync({method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"addThemesInfo",value:function(t,e,r,n,i){Math.random();this.partUrl=t+"/add?idxArr="+e+"&guid="+this.guid;var o=this.getFullUrl(),s=new m.FolderInfo;if(null!==r&&r.length>0){s.name="ThemeInfo",s.attribute=[];for(var u=0;u<r.length;u++)if(s.attribute[u]=new v.FolderInfoAttribute,s.attribute[u].name=r[u].LayerName,null!==r[u].ThemeArr&&r[u].ThemeArr.length>0){for(var l=[],c=0;c<r[u].ThemeArr.length;c++)null!==r[u].ThemeArr[c]&&(l[c]=new v.FolderInfoAttribute(r[u].ThemeArr[c].Type,JSON.stringify(r[u].ThemeArr[c])));s.attribute[u].value=JSON.stringify(l)}}new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:n,processFailed:i}}).processAsync({method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.ThemeOper=b,i.Zondy.Service.ThemeOper=b},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMSInfo=e.OGCWMTSInfo=e.WMTSCapabilities=e.WMSCapabilities=void 0;var n=r(228),i=r(231),o=r(236),s=r(254);e.WMSCapabilities=n.WMSCapabilities,e.WMTSCapabilities=i.WMTSCapabilities,e.OGCWMTSInfo=o.OGCWMTSInfo,e.OGCWMSInfo=s.OGCWMSInfo},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMSCapabilities=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(67),s=function(t){return t&&t.__esModule?t:{default:t}}(r(68)),a=r(69),u=r(26);var l=[null,"http://www.opengis.net/wms"],c=(0,u.makeStructureNS)(l,{Service:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},p,t,e)}),Capability:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},h,t,e)})}),h=(0,u.makeStructureNS)(l,{Request:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},x,t,e)}),Exception:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)([],v,t,e)}),Layer:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},m,t,e)})}),f=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.version=void 0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),n(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){this.version=t.getAttribute("version").trim();var e=(0,u.pushParseAndPop)({version:this.version},c,t,[]);return e||null}}]),e}(),p=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),KeywordList:(0,u.makeObjectPropertySetter)(T),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref),ContactInformation:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},d,t,e)}),Fees:(0,u.makeObjectPropertySetter)(a.readString),AccessConstraints:(0,u.makeObjectPropertySetter)(a.readString),LayerLimit:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger),MaxWidth:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger),MaxHeight:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger)}),d=(0,u.makeStructureNS)(l,{ContactPersonPrimary:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},y,t,e)}),ContactPosition:(0,u.makeObjectPropertySetter)(a.readString),ContactAddress:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},g,t,e)}),ContactVoiceTelephone:(0,u.makeObjectPropertySetter)(a.readString),ContactFacsimileTelephone:(0,u.makeObjectPropertySetter)(a.readString),ContactElectronicMailAddress:(0,u.makeObjectPropertySetter)(a.readString)}),y=(0,u.makeStructureNS)(l,{ContactPerson:(0,u.makeObjectPropertySetter)(a.readString),ContactOrganization:(0,u.makeObjectPropertySetter)(a.readString)}),g=(0,u.makeStructureNS)(l,{AddressType:(0,u.makeObjectPropertySetter)(a.readString),Address:(0,u.makeObjectPropertySetter)(a.readString),City:(0,u.makeObjectPropertySetter)(a.readString),StateOrProvince:(0,u.makeObjectPropertySetter)(a.readString),PostCode:(0,u.makeObjectPropertySetter)(a.readString),Country:(0,u.makeObjectPropertySetter)(a.readString)}),v=(0,u.makeStructureNS)(l,{Format:(0,u.makeArrayPusher)(a.readString)}),m=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),KeywordList:(0,u.makeObjectPropertySetter)(T),SRS:(0,u.makeObjectPropertyPusher)(a.readString),EX_GeographicBoundingBox:(0,u.makeObjectPropertySetter)(function(t,e){var r=(0,u.pushParseAndPop)({},b,t,e);if(!r)return;var n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,s=r.northBoundLatitude;if(void 0===n||void 0===i||void 0===o||void 0===s)return;return[n,i,o,s]}),BoundingBox:(0,u.makeObjectPropertyPusher)(function(t,e){var r=[(0,a.readDecimalString)(t.getAttribute("minx")),(0,a.readDecimalString)(t.getAttribute("miny")),(0,a.readDecimalString)(t.getAttribute("maxx")),(0,a.readDecimalString)(t.getAttribute("maxy"))],n=[(0,a.readDecimalString)(t.getAttribute("resx")),(0,a.readDecimalString)(t.getAttribute("resy"))];return{srs:t.getAttribute("SRS"),extent:r,res:n}}),Dimension:(0,u.makeObjectPropertyPusher)(function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:(0,a.readBooleanString)(t.getAttribute("multipleValues")),nearestValue:(0,a.readBooleanString)(t.getAttribute("nearestValue")),current:(0,a.readBooleanString)(t.getAttribute("current")),values:(0,a.readString)(t)}}),Attribution:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},_,t,e)}),AuthorityURL:(0,u.makeObjectPropertyPusher)(function(t,e){var r=I(t,e);if(r)return r.name=t.getAttribute("name"),r;return}),Identifier:(0,u.makeObjectPropertyPusher)(a.readString),MetadataURL:(0,u.makeObjectPropertyPusher)(function(t,e){var r=I(t,e);if(r)return r.type=t.getAttribute("type"),r;return}),DataURL:(0,u.makeObjectPropertyPusher)(I),FeatureListURL:(0,u.makeObjectPropertyPusher)(I),Style:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},E,t,e)}),MinScaleDenominator:(0,u.makeObjectPropertySetter)(a.readDecimal),MaxScaleDenominator:(0,u.makeObjectPropertySetter)(a.readDecimal),Layer:(0,u.makeObjectPropertyPusher)(function(t,e){var r=e[e.length-1],n=(0,u.pushParseAndPop)({},m,t,e);if(!n)return;var i=(0,a.readBooleanString)(t.getAttribute("queryable"));void 0===i&&(i=r.queryable);n.queryable=void 0!==i&&i;var o=(0,a.readNonNegativeIntegerString)(t.getAttribute("cascaded"));void 0===o&&(o=r.cascaded);n.cascaded=o;var s=(0,a.readBooleanString)(t.getAttribute("opaque"));void 0===s&&(s=r.opaque);n.opaque=void 0!==s&&s;var l=(0,a.readBooleanString)(t.getAttribute("noSubsets"));void 0===l&&(l=r.noSubsets);n.noSubsets=void 0!==l&&l;var c=(0,a.readDecimalString)(t.getAttribute("fixedWidth"));c||(c=r.fixedWidth);n.fixedWidth=c;var h=(0,a.readDecimalString)(t.getAttribute("fixedHeight"));h||(h=r.fixedHeight);n.fixedHeight=h,["Style","SRS","AuthorityURL"].forEach(function(t){if(t in r){var e=n[t]||[];n[t]=e.concat(r[t])}});return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(t){if(!(t in n)){var e=r[t];n[t]=e}}),n})}),_=(0,u.makeStructureNS)(l,{Title:(0,u.makeObjectPropertySetter)(a.readString),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref),LogoURL:(0,u.makeObjectPropertySetter)(N)}),b=(0,u.makeStructureNS)(l,{westBoundLongitude:(0,u.makeObjectPropertySetter)(a.readDecimal),eastBoundLongitude:(0,u.makeObjectPropertySetter)(a.readDecimal),southBoundLatitude:(0,u.makeObjectPropertySetter)(a.readDecimal),northBoundLatitude:(0,u.makeObjectPropertySetter)(a.readDecimal)}),x=(0,u.makeStructureNS)(l,{GetCapabilities:(0,u.makeObjectPropertySetter)(M),GetMap:(0,u.makeObjectPropertySetter)(M),GetFeatureInfo:(0,u.makeObjectPropertySetter)(M)}),w=(0,u.makeStructureNS)(l,{Format:(0,u.makeObjectPropertyPusher)(a.readString),DCPType:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,u.pushParseAndPop)({},S,t,e)})}),S=(0,u.makeStructureNS)(l,{HTTP:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},P,t,e)})}),P=(0,u.makeStructureNS)(l,{Get:(0,u.makeObjectPropertySetter)(I),Post:(0,u.makeObjectPropertySetter)(I)}),E=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),LegendURL:(0,u.makeObjectPropertyPusher)(N),StyleSheetURL:(0,u.makeObjectPropertySetter)(I),StyleURL:(0,u.makeObjectPropertySetter)(I)}),O=(0,u.makeStructureNS)(l,{Format:(0,u.makeObjectPropertySetter)(a.readString),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref)}),C=(0,u.makeStructureNS)(l,{Keyword:(0,u.makeArrayPusher)(a.readString)});function I(t,e){return(0,u.pushParseAndPop)({},O,t,e)}function M(t,e){return(0,u.pushParseAndPop)({},w,t,e)}function N(t,e){var r=I(t,e);if(r){var n=[(0,a.readNonNegativeIntegerString)(t.getAttribute("width")),(0,a.readNonNegativeIntegerString)(t.getAttribute("height"))];return r.size=n,r}}function T(t,e){return(0,u.pushParseAndPop)([],C,t,e)}e.WMSCapabilities=f,i.Zondy.Format.WMSCapabilities=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSorted=e.findIndex=e.stableSort=e.equals=e.find=e.remove=e.extend=e.reverseSubArray=e.linearFindNearest=e.includes=e.numberSafeCompareFunction=e.binarySearch=void 0;var n=r(0),i=function(t,e,r){for(var n=void 0,i=void 0,s=r||o,a=0,u=t.length,l=!1;a<u;)(i=+s(t[n=a+(u-a>>1)],e))<0?a=n+1:(u=n,l=!i);return l?a:~a},o=function(t,e){return t>e?1:t<e?-1:0},s=function(t,e){return t.indexOf(e)>=0},a=function(t,e,r){var n=t.length;if(t[0]<=e)return 0;if(e<=t[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(r<0){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1},u=function(t,e,r){for(;e<r;){var n=t[e];t[e]=t[r],t[r]=n,++e,--r}},l=function(t,e){for(var r=Array.isArray(e)?e:[e],n=r.length,i=0;i<n;i++)t[t.length]=r[i]},c=function(t,e){var r=t.indexOf(e),n=r>-1;return n&&t.splice(r,1),n},h=function(t,e){for(var r=t.length>>>0,n=void 0,i=0;i<r;i++)if(e(n=t[i],i,t))return n;return null},f=function(t,e){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0},p=function(t,e){var r=t.length,n=Array(t.length),i=void 0;for(i=0;i<r;i++)n[i]={index:i,value:t[i]};for(n.sort(function(t,r){return e(t.value,r.value)||t.index-r.index}),i=0;i<t.length;i++)t[i]=n[i].value},d=function(t,e){var r=void 0;return!t.every(function(n,i){return r=i,!e(n,i,t)})?r:-1},y=function(t,e,r){var n=e||o;return t.every(function(e,i){if(0===i)return!0;var o=n(t[i-1],e);return!(o>0||r&&0===o)})};e.binarySearch=i,e.numberSafeCompareFunction=o,e.includes=s,e.linearFindNearest=a,e.reverseSubArray=u,e.extend=l,e.remove=c,e.find=h,e.equals=f,e.stableSort=p,e.findIndex=d,e.isSorted=y,n.Zondy.array.binarySearch=i,n.Zondy.array.numberSafeCompareFunction=o,n.Zondy.array.includes=s,n.Zondy.array.linearFindNearest=a,n.Zondy.array.reverseSubArray=u,n.Zondy.array.extend=l,n.Zondy.array.remove=c,n.Zondy.array.find=h,n.Zondy.array.equals=f,n.Zondy.array.stableSort=p,n.Zondy.array.findIndex=d,n.Zondy.array.isSorted=y},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareVersions=e.padNumber=void 0;var n=r(0),i=function(t,e,r){var n=void 0!==r?t.toFixed(r):""+t,i=n.indexOf(".");return(i=-1===i?n.length:i)>e?n:new Array(1+e-i).join("0")+n},o=function(t,e){for(var r=(""+t).split("."),n=(""+e).split("."),i=0;i<Math.max(r.length,n.length);i++){var o=parseInt(r[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0};e.padNumber=i,e.compareVersions=o,n.Zondy.string.padNumber=i,n.Zondy.string.compareVersions=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMTSCapabilities=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(232),s=h(r(235)),a=r(67),u=h(r(68)),l=r(69),c=r(26);function h(t){return t&&t.__esModule?t:{default:t}}var f=[null,"http://www.opengis.net/wmts/1.0"],p=[null,"http://www.opengis.net/ows/1.1"],d=(0,c.makeStructureNS)(f,{Contents:(0,c.makeObjectPropertySetter)(function(t,e){return(0,c.pushParseAndPop)({},g,t,e)})}),y=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.owsParser_=new s.default,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),n(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){var e=t.getAttribute("version").trim(),r=this.owsParser_.readFromNode(t);return r?(r.version=e,(r=(0,c.pushParseAndPop)(r,d,t,[]))||null):null}}]),e}(),g=(0,c.makeStructureNS)(f,{Layer:(0,c.makeObjectPropertyPusher)(function(t,e){return(0,c.pushParseAndPop)({},v,t,e)}),TileMatrixSet:(0,c.makeObjectPropertyPusher)(function(t,e){return(0,c.pushParseAndPop)({},P,t,e)})}),v=(0,c.makeStructureNS)(f,{Style:(0,c.makeObjectPropertyPusher)(function(t,e){var r=(0,c.pushParseAndPop)({},m,t,e);if(!r)return;var n="true"===t.getAttribute("isDefault");return r.isDefault=n,r}),Format:(0,c.makeObjectPropertyPusher)(l.readString),TileMatrixSetLink:(0,c.makeObjectPropertyPusher)(function(t,e){return(0,c.pushParseAndPop)({},_,t,e)}),Dimension:(0,c.makeObjectPropertyPusher)(function(t,e){return(0,c.pushParseAndPop)({},w,t,e)}),ResourceURL:(0,c.makeObjectPropertyPusher)(function(t,e){var r=t.getAttribute("format"),n=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};r&&(o.format=r);n&&(o.template=n);i&&(o.resourceType=i);return o})},(0,c.makeStructureNS)(p,{Title:(0,c.makeObjectPropertySetter)(l.readString),Abstract:(0,c.makeObjectPropertySetter)(l.readString),BoundingBox:(0,c.makeObjectPropertySetter)(O),WGS84BoundingBox:(0,c.makeObjectPropertySetter)(O),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),m=(0,c.makeStructureNS)(f,{LegendURL:(0,c.makeObjectPropertyPusher)(function(t,e){var r={};return r.format=t.getAttribute("format"),r.href=(0,a.readHref)(t),r})},(0,c.makeStructureNS)(p,{Title:(0,c.makeObjectPropertySetter)(l.readString),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),_=(0,c.makeStructureNS)(f,{TileMatrixSet:(0,c.makeObjectPropertySetter)(l.readString),TileMatrixSetLimits:(0,c.makeObjectPropertySetter)(function(t,e){return(0,c.pushParseAndPop)([],b,t,e)})}),b=(0,c.makeStructureNS)(f,{TileMatrixLimits:(0,c.makeArrayPusher)(function(t,e){return(0,c.pushParseAndPop)({},x,t,e)})}),x=(0,c.makeStructureNS)(f,{TileMatrix:(0,c.makeObjectPropertySetter)(l.readString),MinTileRow:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MaxTileRow:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MinTileCol:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MaxTileCol:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger)}),w=(0,c.makeStructureNS)(f,{Default:(0,c.makeObjectPropertySetter)(l.readString),Value:(0,c.makeObjectPropertyPusher)(l.readString)},(0,c.makeStructureNS)(p,{Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),S=(0,c.makeStructureNS)(p,{LowerCorner:(0,c.makeArrayPusher)(C),UpperCorner:(0,c.makeArrayPusher)(C)}),P=(0,c.makeStructureNS)(f,{WellKnownScaleSet:(0,c.makeObjectPropertySetter)(l.readString),TileMatrix:(0,c.makeObjectPropertyPusher)(function(t,e){return(0,c.pushParseAndPop)({},E,t,e)})},(0,c.makeStructureNS)(p,{SupportedCRS:(0,c.makeObjectPropertySetter)(l.readString),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),E=(0,c.makeStructureNS)(f,{TopLeftCorner:(0,c.makeObjectPropertySetter)(C),ScaleDenominator:(0,c.makeObjectPropertySetter)(l.readDecimal),TileWidth:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),TileHeight:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MatrixWidth:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MatrixHeight:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger)},(0,c.makeStructureNS)(p,{Identifier:(0,c.makeObjectPropertySetter)(l.readString)}));function O(t,e){var r=(0,c.pushParseAndPop)([],S,t,e);if(2==r.length)return(0,o.boundingExtent)(r)}function C(t,e){var r=(0,l.readString)(t).split(/\s+/);if(r&&2==r.length){var n=+r[0],i=+r[1];if(!isNaN(n)&&!isNaN(i))return[n,i]}}e.WMTSCapabilities=y,i.Zondy.Format.WMTSCapabilities=y},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyTransform=e.intersectsSegment=e.scaleFromCenter=e.returnOrUpdate=e.isEmpty=e.intersects=e.getWidth=e.getTopRight=e.getTopLeft=e.getSize=e.getMargin=e.getIntersection=e.getIntersectionArea=e.getHeight=e.getForViewAndSize=e.getEnlargedArea=e.getCorner=e.getCenter=e.getBottomRight=e.getBottomLeft=e.getArea=e.forEachCorner=e.extendXY=e.extendRings=e.extendFlatCoordinates=e.extendCoordinates=e.extendCoordinate=e.extend=e.equals=e.createOrUpdateFromRings=e.createOrUpdateFromFlatCoordinates=e.createOrUpdateFromCoordinates=e.createOrUpdateFromCoordinate=e.createOrUpdateEmpty=e.createOrUpdate=e.createEmpty=e.coordinateRelationship=e.containsXY=e.containsExtent=e.containsCoordinate=e.closestSquaredDistanceXY=e.clone=e.buffer=e.boundingExtent=void 0;var n=r(0),i=r(233),o=r(234),s=function(t){for(var e=d(),r=0,n=t.length;r<n;++r)S(e,t[r]);return e},a=function(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},u=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},l=function(t,e,r){var n=void 0,i=void 0;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(i=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*i},c=function(t,e){return f(t,e[0],e[1])},h=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},f=function(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]},p=function(t,e){var r=t[0],n=t[1],i=t[2],s=t[3],a=e[0],u=e[1],l=o.Relationship.UNKNOWN;return a<r?l|=o.Relationship.LEFT:a>i&&(l|=o.Relationship.RIGHT),u<n?l|=o.Relationship.BELOW:u>s&&(l|=o.Relationship.ABOVE),l===o.Relationship.UNKNOWN&&(l=o.Relationship.INTERSECTING),l},d=function(){return[1/0,1/0,-1/0,-1/0]},y=function(t,e,r,n,i){return i?(i[0]=t,i[1]=e,i[2]=r,i[3]=n,i):[t,e,r,n]},g=function(t){return y(1/0,1/0,-1/0,-1/0,t)},v=function(t,e){var r=t[0],n=t[1];return y(r,n,r,n,e)},m=function(t,e){var r=g(e);return P(r,t)},_=function(t,e,r,n,i){var o=g(i);return E(o,t,e,r,n)},b=function(t,e){var r=g(e);return O(r,t)},x=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},w=function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},S=function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},P=function(t,e){for(var r=0,n=e.length;r<n;++r)S(t,e[r]);return t},E=function(t,e,r,n,i){for(;r<n;r+=i)C(t,e[r],e[r+1]);return t},O=function(t,e){for(var r=0,n=e.length;r<n;++r)P(t,e[r]);return t},C=function(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)},I=function(t,e,r){var n=void 0;return(n=e.call(r,N(t)))?n:(n=e.call(r,T(t)))?n:(n=e.call(r,q(t)))?n:(n=e.call(r,U(t)))||!1},M=function(t){var e=0;return Z(t)||(e=z(t)*F(t)),e},N=function(t){return[t[0],t[1]]},T=function(t){return[t[2],t[1]]},A=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},L=function(t,e){var r=void 0;return e===i.Corner.BOTTOM_LEFT?r=N(t):e===i.Corner.BOTTOM_RIGHT?r=T(t):e===i.Corner.TOP_LEFT?r=U(t):e===i.Corner.TOP_RIGHT&&(r=q(t)),r},j=function(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)},R=function(t,e,r,n,i){var o=e*n[0]/2,s=e*n[1]/2,a=Math.cos(r),u=Math.sin(r),l=o*a,c=o*u,h=s*a,f=s*u,p=t[0],d=t[1],g=p-l+f,v=p-l-f,m=p+l-f,_=p+l+f,b=d-c-h,x=d-c+h,w=d+c+h,S=d+c-h;return y(Math.min(g,v,m,_),Math.min(b,x,w,S),Math.max(g,v,m,_),Math.max(b,x,w,S),i)},F=function(t){return t[3]-t[1]},D=function(t,e){var r=k(t,e);return M(r)},k=function(t,e,r){var n=r||d();return V(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):g(n),n},G=function(t){return z(t)+F(t)},B=function(t){return[t[2]-t[0],t[3]-t[1]]},U=function(t){return[t[0],t[3]]},q=function(t){return[t[2],t[3]]},z=function(t){return t[2]-t[0]},V=function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},Z=function(t){return t[2]<t[0]||t[3]<t[1]},W=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},X=function(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n},Y=function(t,e,r){var n=!1,i=p(t,e),s=p(t,r);if(i===o.Relationship.INTERSECTING||s===o.Relationship.INTERSECTING)n=!0;else{var a=t[0],u=t[1],l=t[2],c=t[3],h=e[0],f=e[1],d=r[0],y=r[1],g=(y-f)/(d-h),v=void 0,m=void 0;s&o.Relationship.ABOVE&&!(i&o.Relationship.ABOVE)&&(n=(v=d-(y-c)/g)>=a&&v<=l),n||!(s&o.Relationship.RIGHT)||i&o.Relationship.RIGHT||(n=(m=y-(d-l)*g)>=u&&m<=c),n||!(s&o.Relationship.BELOW)||i&o.Relationship.BELOW||(n=(v=d-(y-u)/g)>=a&&v<=l),n||!(s&o.Relationship.LEFT)||i&o.Relationship.LEFT||(n=(m=y-(d-a)*g)>=u&&m<=c)}return n},Q=function(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),function(t,e,r){var n=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return y(n,i,o,s,r)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)};e.boundingExtent=s,e.buffer=a,e.clone=u,e.closestSquaredDistanceXY=l,e.containsCoordinate=c,e.containsExtent=h,e.containsXY=f,e.coordinateRelationship=p,e.createEmpty=d,e.createOrUpdate=y,e.createOrUpdateEmpty=g,e.createOrUpdateFromCoordinate=v,e.createOrUpdateFromCoordinates=m,e.createOrUpdateFromFlatCoordinates=_,e.createOrUpdateFromRings=b,e.equals=x,e.extend=w,e.extendCoordinate=S,e.extendCoordinates=P,e.extendFlatCoordinates=E,e.extendRings=O,e.extendXY=C,e.forEachCorner=I,e.getArea=M,e.getBottomLeft=N,e.getBottomRight=T,e.getCenter=A,e.getCorner=L,e.getEnlargedArea=j,e.getForViewAndSize=R,e.getHeight=F,e.getIntersectionArea=D,e.getIntersection=k,e.getMargin=G,e.getSize=B,e.getTopLeft=U,e.getTopRight=q,e.getWidth=z,e.intersects=V,e.isEmpty=Z,e.returnOrUpdate=W,e.scaleFromCenter=X,e.intersectsSegment=Y,e.applyTransform=Q,n.Zondy.extent.boundingExtent=s,n.Zondy.extent.buffer=a,n.Zondy.extent.clone=u,n.Zondy.extent.closestSquaredDistanceXY=l,n.Zondy.extent.containsCoordinate=c,n.Zondy.extent.containsExtent=h,n.Zondy.extent.containsXY=f,n.Zondy.extent.coordinateRelationship=p,n.Zondy.extent.createEmpty=d,n.Zondy.extent.createOrUpdate=y,n.Zondy.extent.createOrUpdateEmpty=g,n.Zondy.extent.createOrUpdateFromCoordinate=v,n.Zondy.extent.createOrUpdateFromCoordinates=m,n.Zondy.extent.createOrUpdateFromFlatCoordinates=_,n.Zondy.extent.createOrUpdateFromRings=b,n.Zondy.extent.equals=x,n.Zondy.extent.extend=w,n.Zondy.extent.extendCoordinate=S,n.Zondy.extent.extendCoordinates=P,n.Zondy.extent.extendFlatCoordinates=E,n.Zondy.extent.extendRings=O,n.Zondy.extent.extendXY=C,n.Zondy.extent.forEachCorner=I,n.Zondy.extent.getArea=M,n.Zondy.extent.getBottomLeft=N,n.Zondy.extent.getBottomRight=T,n.Zondy.extent.getCenter=A,n.Zondy.extent.getCorner=L,n.Zondy.extent.getEnlargedArea=j,n.Zondy.extent.getForViewAndSize=R,n.Zondy.extent.getHeight=F,n.Zondy.extent.getIntersectionArea=D,n.Zondy.extent.getIntersection=k,n.Zondy.extent.getMargin=G,n.Zondy.extent.getSize=B,n.Zondy.extent.getTopLeft=U,n.Zondy.extent.getTopRight=q,n.Zondy.extent.getWidth=z,n.Zondy.extent.intersects=V,n.Zondy.extent.isEmpty=Z,n.Zondy.extent.returnOrUpdate=W,n.Zondy.extent.scaleFromCenter=X,n.Zondy.extent.intersectsSegment=Y,n.Zondy.extent.applyTransform=Q},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Corner=void 0;var n=r(0),i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};e.Corner=i,n.Zondy.Enum.Corner=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relationship=void 0;var n=r(0),i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};e.Relationship=i,n.Zondy.Enum.Relationship=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(67),s=function(t){return t&&t.__esModule?t:{default:t}}(r(68)),a=r(69),u=r(26);var l=[null,"http://www.opengis.net/ows/1.1"],c=(0,u.makeStructureNS)(l,{ServiceIdentification:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},S,t,e)}),ServiceProvider:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},P,t,e)}),OperationsMetadata:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},_,t,e)})}),h=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),n(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){var e=(0,u.pushParseAndPop)({},c,t,[]);return e||null}}]),e}(),f=(0,u.makeStructureNS)(l,{DeliveryPoint:(0,u.makeObjectPropertySetter)(a.readString),City:(0,u.makeObjectPropertySetter)(a.readString),AdministrativeArea:(0,u.makeObjectPropertySetter)(a.readString),PostalCode:(0,u.makeObjectPropertySetter)(a.readString),Country:(0,u.makeObjectPropertySetter)(a.readString),ElectronicMailAddress:(0,u.makeObjectPropertySetter)(a.readString)}),p=(0,u.makeStructureNS)(l,{Value:(0,u.makeObjectPropertyPusher)(function(t,e){return(0,a.readString)(t)})}),d=(0,u.makeStructureNS)(l,{AllowedValues:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},p,t,e)})}),y=(0,u.makeStructureNS)(l,{Phone:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},b,t,e)}),Address:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},f,t,e)})}),g=(0,u.makeStructureNS)(l,{HTTP:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},v,t,e)})}),v=(0,u.makeStructureNS)(l,{Get:(0,u.makeObjectPropertyPusher)(function(t,e){var r=(0,o.readHref)(t);if(!r)return;return(0,u.pushParseAndPop)({href:r},x,t,e)}),Post:void 0}),m=(0,u.makeStructureNS)(l,{DCP:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},g,t,e)})}),_=(0,u.makeStructureNS)(l,{Operation:function(t,e){var r=t.getAttribute("name"),n=(0,u.pushParseAndPop)({},m,t,e);if(!n)return;e[e.length-1][r]=n}}),b=(0,u.makeStructureNS)(l,{Voice:(0,u.makeObjectPropertySetter)(a.readString),Facsimile:(0,u.makeObjectPropertySetter)(a.readString)}),x=(0,u.makeStructureNS)(l,{Constraint:(0,u.makeObjectPropertyPusher)(function(t,e){var r=t.getAttribute("name");if(!r)return;return(0,u.pushParseAndPop)({name:r},d,t,e)})}),w=(0,u.makeStructureNS)(l,{IndividualName:(0,u.makeObjectPropertySetter)(a.readString),PositionName:(0,u.makeObjectPropertySetter)(a.readString),ContactInfo:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},y,t,e)})}),S=(0,u.makeStructureNS)(l,{Abstract:(0,u.makeObjectPropertySetter)(a.readString),AccessConstraints:(0,u.makeObjectPropertySetter)(a.readString),Fees:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),ServiceTypeVersion:(0,u.makeObjectPropertySetter)(a.readString),ServiceType:(0,u.makeObjectPropertySetter)(a.readString)}),P=(0,u.makeStructureNS)(l,{ProviderName:(0,u.makeObjectPropertySetter)(a.readString),ProviderSite:(0,u.makeObjectPropertySetter)(o.readHref),ServiceContact:(0,u.makeObjectPropertySetter)(function(t,e){return(0,u.pushParseAndPop)({},w,t,e)})});e.default=h,i.Zondy.Format.OWS=h},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMTSInfo=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(5),s=function(t){return t&&t.__esModule?t:{default:t}}(r(42));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return r.baseUrl="igs/rest/ogc",n.ip=r.ip||"localhost",n.port=r.port||"6163",n.baseUrl=r.baseUrl,n.version=r.version||"1.0.0",n.serverName=r.serverName,n.name=r.name,n.style=r.style||"default",n.tileMatrixset=r.tileMatrixset,n.tileMatrix=r.tileMatrix,n.tileRow=r.tileRow,n.tileCol=r.tileCol,n.format=r.format||"image/png",n.infoFormat=r.infoFormat||"text/html",n.I=r.I,n.J=r.J,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"getWMTSInfo",value:function(t,e){var r=this,n="";r.serverName&&""!==r.serverName&&(n+=r.serverName+"/"),n+="WMTSServer/1.0.0/WMTSCapabilities.xml",r.partUrl=n;var i=r.getFullUrl();(0,s.default)({method:"get",url:i}).then(t).catch(e)}},{key:"getFeatureInfo",value:function(t,e){var r=this;r.partUrl="WMTSServer?service=WMTS&request=GetFeatureInfo&version="+r.version+"&layer="+r.serverName+":"+r.name+"&style="+r.style+"&TileMatrixSet="+r.tileMatrixSet+"&TileMatrix="+r.tileMatrix+"&TileRow="+r.tileRow+"&TileCol="+r.tileCol+"&format="+r.format+"&InfoFormat="+r.infoFormat+"&I="+r.I+"&J="+r.J;var n=r.getFullUrl();(0,s.default)({method:"get",url:n}).then(t).catch(e)}}]),e}();e.OGCWMTSInfo=a,i.Zondy.OGC.OGCWMTSInfo=a},function(t,e,r){"use strict";var n=r(7),i=r(138),o=r(239),s=r(70);function a(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=a(s);u.Axios=o,u.create=function(t){return a(n.merge(s,t))},u.Cancel=r(142),u.CancelToken=r(252),u.isCancel=r(141),u.all=function(t){return Promise.all(t)},u.spread=r(253),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,r){"use strict";var n=r(70),i=r(7),o=r(247),s=r(248);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=a},function(t,e,r){"use strict";var n=r(7);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(140);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(7);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var s=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))}))}),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";var n=r(7),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,s={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([r]):s[e]?s[e]+", "+r:r}}),s):s}},function(t,e,r){"use strict";var n=r(7);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(7);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(7);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(7),i=r(249),o=r(141),s=r(70),a=r(250),u=r(251);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return l(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(7);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(142);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMSInfo=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(5),s=function(t){return t&&t.__esModule?t:{default:t}}(r(42));var a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return r.baseUrl="igs/rest/ogc",n.ip=r.ip||"localhost",n.port=r.port||"6163",n.baseUrl=r.baseUrl,n.serverType=r.serverType,n.serverName=r.serverName,n.version=r.version||"1.1.1",n.layersName=r.layersName,n.style=r.style||"default",n.srs=r.srs,n.bbox=r.bbox,n.width=r.width||"1024",n.height=r.height||"768",n.format=r.format||"image/png",n.infoFormat=r.infoFormat||"text/html",n.I=r.I,n.J=r.J,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),n(e,[{key:"getWMSInfo",value:function(t,e){var r=this;r.partUrl=r.serverType+"/"+r.serverName+"/WMSServer?service=WMS&REQUEST=GetCapabilities&version="+r.version;var n=r.getFullUrl();(0,s.default)({method:"get",url:n}).then(t).catch(e)}},{key:"getFeatureInfo",value:function(t,e){var r=this;r.partUrl=r.serverType+"/"+r.serverName+"/WMSServer?layers="+r.layersName+"&version="+r.version+"&service=WMS&request=GetFeatureInfo&styles="+r.style+"&format="+r.format+"&bbox="+r.bbox+"&width="+r.width+"&height="+r.height+"&query_Layers="+r.layersName+"&info_Format="+r.infoFormat,"1.1.1"===r.version?r.partUrl+="&srs="+r.srs+"&&X="+r.I+"&Y="+r.J:"1.3.0"===r.version&&(r.partUrl+="&crs="+r.srs+"&&I="+r.I+"&J="+r.J);var n=r.getFullUrl();(0,s.default)({method:"get",url:n}).then(t).catch(e)}}]),e}();e.OGCWMSInfo=a,i.Zondy.OGC.OGCWMSInfo=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WFS=e.WMS=void 0;var n=r(256),i=r(274);e.WMS=n.WMS,e.WFS=i.WFS},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMS=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(71),o=r(143),s=l(r(144)),a=l(r(42)),u=l(r(27));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.url=r.url,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.OGCService),n(e,[{key:"isBaseUrl",value:function(){var t=!1,e=this.url.length,r=this.url.indexOf("WMSServer")+"WMSServer".length;this.url;return r===e?(this.url+"?request=GetCapabilities&service=WMS",t=!0):r===e-1&&(this.url+"request=GetCapabilities&service=WMS",t=!0),t}},{key:"makeFullUrl",value:async function(){if(this.isBaseUrl()){var t=await this.getCapabilities(),e=this.height,r=this.width,n=this.crs,i=this.format,o=this.version,s=this.styles,a={service:"WMS",request:"GetMap",layers:t.WMT_MS_Capabilities.Capability.Layer.Layer.map(function(t){return t.Name}).toString(),styles:s||"",format:i||"image/png",transparent:!0,version:o||"1.1.1",height:e||256,width:r||256,srs:n||"EPSG:4326"};return this.url+"?"+u.default.stringify(a)}}},{key:"getCapabilities",value:async function(){var t=this.url.length,e=this.url.indexOf("WMSServer")+"WMSServer".length,r=this.url;e===t?r=this.url+"?request=GetCapabilities&service=WMS":e===t-1&&(r=this.url+"request=GetCapabilities&service=WMS");var n=(await a.default.get(r)).data,i=s.default.getTraversalObj(n,{});return s.default.convertToJson(i,{})}}]),e}();e.WMS=c,i.MapGIS.OGC.WMS=c},function(t,e,r){"use strict";const n=r(12),i=function(t,e,r){const o={};if((!t.child||n.isEmptyObject(t.child))&&(!t.attrsMap||n.isEmptyObject(t.attrsMap)))return n.isExist(t.val)?t.val:"";if(n.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)){const i=n.isTagNameInArrayMode(t.tagname,e.arrayMode,r);o[e.textNodeName]=i?[t.val]:t.val}n.merge(o,t.attrsMap,e.arrayMode);const s=Object.keys(t.child);for(let a=0;a<s.length;a++){const u=s[a];if(t.child[u]&&t.child[u].length>1){o[u]=[];for(let r in t.child[u])t.child[u].hasOwnProperty(r)&&o[u].push(i(t.child[u][r],e,u))}else{const s=i(t.child[u][0],e,u),a=!0===e.arrayMode&&"object"==typeof s||n.isTagNameInArrayMode(u,e.arrayMode,r);o[u]=a?[s]:s}}return o};e.convertToJson=i},function(t,e,r){"use strict";t.exports=function(t,e,r){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=r,this.addChild=function(t){Array.isArray(this.child[t.tagname])?this.child[t.tagname].push(t):this.child[t.tagname]=[t]}}},function(t,e,r){"use strict";const n=r(12),i={allowBooleanAttributes:!1},o=["allowBooleanAttributes"];function s(t,e){for(var r=e;e<t.length;e++)if("?"!=t[e]&&" "!=t[e]);else{var n=t.substr(r,e-r);if(e>5&&"xml"===n)return d("InvalidXml","XML declaration allowed only at the start of the document.",v(t,e));if("?"==t[e]&&">"==t[e+1]){e++;break}}return e}function a(t,e){if(t.length>e+5&&"-"===t[e+1]&&"-"===t[e+2]){for(e+=3;e<t.length;e++)if("-"===t[e]&&"-"===t[e+1]&&">"===t[e+2]){e+=2;break}}else if(t.length>e+8&&"D"===t[e+1]&&"O"===t[e+2]&&"C"===t[e+3]&&"T"===t[e+4]&&"Y"===t[e+5]&&"P"===t[e+6]&&"E"===t[e+7]){let r=1;for(e+=8;e<t.length;e++)if("<"===t[e])r++;else if(">"===t[e]&&0===--r)break}else if(t.length>e+9&&"["===t[e+1]&&"C"===t[e+2]&&"D"===t[e+3]&&"A"===t[e+4]&&"T"===t[e+5]&&"A"===t[e+6]&&"["===t[e+7])for(e+=8;e<t.length;e++)if("]"===t[e]&&"]"===t[e+1]&&">"===t[e+2]){e+=2;break}return e}e.validate=function(t,e){e=n.buildOptions(e,i,o);const r=[];let u=!1,l=!1;"\ufeff"===t[0]&&(t=t.substr(1));for(let n=0;n<t.length;n++)if("<"===t[n]&&"?"===t[n+1]){if((n=s(t,n+=2)).err)return n}else{if("<"!==t[n]){if(" "===t[n]||"\t"===t[n]||"\n"===t[n]||"\r"===t[n])continue;return d("InvalidChar","char '"+t[n]+"' is not expected.",v(t,n))}if("!"===t[++n]){n=a(t,n);continue}{let i=!1;"/"===t[n]&&(i=!0,n++);let o="";for(;n<t.length&&">"!==t[n]&&" "!==t[n]&&"\t"!==t[n]&&"\n"!==t[n]&&"\r"!==t[n];n++)o+=t[n];if("/"===(o=o.trim())[o.length-1]&&(o=o.substring(0,o.length-1),n--),!g(o)){let e;return d("InvalidTag",e=0===o.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+o+"' is an invalid name.",v(t,n))}const h=c(t,n);if(!1===h)return d("InvalidAttr","Attributes for '"+o+"' have open quote.",v(t,n));let y=h.value;if(n=h.index,"/"===y[y.length-1]){const r=f(y=y.substring(0,y.length-1),e);if(!0!==r)return d(r.err.code,r.err.msg,v(t,n-y.length+r.err.line));u=!0}else if(i){if(!h.tagClosed)return d("InvalidTag","Closing tag '"+o+"' doesn't have proper closing.",v(t,n));if(y.trim().length>0)return d("InvalidTag","Closing tag '"+o+"' can't have attributes or invalid starting.",v(t,n));{const e=r.pop();if(o!==e)return d("InvalidTag","Closing tag '"+e+"' is expected inplace of '"+o+"'.",v(t,n));0==r.length&&(l=!0)}}else{const i=f(y,e);if(!0!==i)return d(i.err.code,i.err.msg,v(t,n-y.length+i.err.line));if(!0===l)return d("InvalidXml","Multiple possible root nodes found.",v(t,n));r.push(o),u=!0}for(n++;n<t.length;n++)if("<"===t[n]){if("!"===t[n+1]){n=a(t,++n);continue}if("?"!==t[n+1])break;if((n=s(t,++n)).err)return n}else if("&"===t[n]){const e=p(t,n);if(-1==e)return d("InvalidChar","char '&' is not expected.",v(t,n));n=e}"<"===t[n]&&n--}}return u?!(r.length>0)||d("InvalidXml","Invalid '"+JSON.stringify(r,null,4).replace(/\r?\n/g,"")+"' found.",1):d("InvalidXml","Start tag expected.",1)};var u='"',l="'";function c(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===u||t[e]===l)if(""===n)n=t[e];else{if(n!==t[e])continue;n=""}else if(">"===t[e]&&""===n){i=!0;break}r+=t[e]}return""===n&&{value:r,index:e,tagClosed:i}}const h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function f(t,e){const r=n.getAllMatches(t,h),i={};for(let n=0;n<r.length;n++){if(0===r[n][1].length)return d("InvalidAttr","Attribute '"+r[n][2]+"' has no space in starting.",m(t,r[n][0]));if(void 0===r[n][3]&&!e.allowBooleanAttributes)return d("InvalidAttr","boolean attribute '"+r[n][2]+"' is not allowed.",m(t,r[n][0]));const o=r[n][2];if(!y(o))return d("InvalidAttr","Attribute '"+o+"' is an invalid name.",m(t,r[n][0]));if(i.hasOwnProperty(o))return d("InvalidAttr","Attribute '"+o+"' is repeated.",m(t,r[n][0]));i[o]=1}return!0}function p(t,e){if(";"===t[++e])return-1;if("#"===t[e])return function(t,e){let r=/\d/;for("x"===t[e]&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(";"===t[e])return e;if(!t[e].match(r))break}return-1}(t,++e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(";"===t[e])break;return-1}return e}function d(t,e,r){return{err:{code:t,msg:e,line:r}}}function y(t){return n.isName(t)}function g(t){return n.isName(t)}function v(t,e){return t.substring(0,e).split(/\r?\n/).length}function m(t,e){return t.indexOf(e)+e.length}},function(t,e,r){"use strict";const n=function(t){return String.fromCharCode(t)},i={nilChar:n(176),missingChar:n(201),nilPremitive:n(175),missingPremitive:n(200),emptyChar:n(178),emptyValue:n(177),boundryChar:n(179),objStart:n(198),arrStart:n(204),arrayEnd:n(185)},o=[i.nilChar,i.nilPremitive,i.missingChar,i.missingPremitive,i.boundryChar,i.emptyChar,i.emptyValue,i.arrayEnd,i.objStart,i.arrStart],s=function(t,e,r){if("string"==typeof e)return t&&t[0]&&void 0!==t[0].val?a(t[0].val,e):a(t,e);{const n=function(t){return void 0===t?i.missingChar:null===t?i.nilChar:!(t.child&&0===Object.keys(t.child).length&&(!t.attrsMap||0===Object.keys(t.attrsMap).length))||i.emptyChar}(t);if(!0===n){let n="";if(Array.isArray(e)){n+=i.arrStart;const o=e[0],l=t.length;if("string"==typeof o)for(let e=0;e<l;e++){const r=a(t[e].val,o);n=u(n,r)}else for(let e=0;e<l;e++){const i=s(t[e],o,r);n=u(n,i)}n+=i.arrayEnd}else{n+=i.objStart;const o=Object.keys(e);Array.isArray(t)&&(t=t[0]);for(let i in o){const a=o[i];let l;l=!r.ignoreAttributes&&t.attrsMap&&t.attrsMap[a]?s(t.attrsMap[a],e[a],r):a===r.textNodeName?s(t.val,e[a],r):s(t.child[a],e[a],r),n=u(n,l)}}return n}return n}},a=function(t){switch(t){case void 0:return i.missingPremitive;case null:return i.nilPremitive;case"":return i.emptyValue;default:return t}},u=function(t,e){return l(e[0])||l(t[t.length-1])||(t+=i.boundryChar),t+e},l=function(t){return-1!==o.indexOf(t)};const c=r(43),h=r(12).buildOptions;e.convert2nimn=function(t,e,r){return r=h(r,c.defaultOptions,c.props),s(t,e,r)}},function(t,e,r){"use strict";const n=r(12),i=r(12).buildOptions,o=r(43),s=function(t,e,r){let i="{";const o=Object.keys(t.child);for(let r=0;r<o.length;r++){var a=o[r];if(t.child[a]&&t.child[a].length>1){for(var u in i+='"'+a+'" : [ ',t.child[a])i+=s(t.child[a][u],e)+" , ";i=i.substr(0,i.length-1)+" ] "}else i+='"'+a+'" : '+s(t.child[a][0],e)+" ,"}return n.merge(i,t.attrsMap),n.isEmptyObject(i)?n.isExist(t.val)?t.val:"":(n.isExist(t.val)&&("string"!=typeof t.val||""!==t.val&&t.val!==e.cdataPositionChar)&&(i+='"'+e.textNodeName+'" : '+function(t){return!0!==t&&!1!==t&&isNaN(t)?'"'+t+'"':t}(t.val)),","===i[i.length-1]&&(i=i.substr(0,i.length-2)),i+"}")};e.convertToJsonString=function(t,e){return(e=i(e,o.defaultOptions,o.props)).indentBy=e.indentBy||"",s(t,e,0)}},function(t,e,r){"use strict";const n=r(12).buildOptions,i={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(t){return t},attrValueProcessor:function(t){return t}},o=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function s(t){this.options=n(t,i,o),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=d),this.options.cdataTagName?this.isCDATA=y:this.isCDATA=function(){return!1},this.replaceCDATAstr=a,this.replaceCDATAarr=u,this.options.format?(this.indentate=p,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=f,this.buildObjNode=c):(this.buildTextNode=h,this.buildObjNode=l),this.buildTextValNode=h,this.buildObjectNode=l}function a(t,e){return t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t?t+"<![CDATA["+e+"]]"+this.tagEndChar:t.replace(this.options.cdataPositionChar,"<![CDATA["+e+"]]"+this.tagEndChar)}function u(t,e){if(t=this.options.tagValueProcessor(""+t),""===this.options.cdataPositionChar||""===t)return t+"<![CDATA["+e.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let r in e)t=t.replace(this.options.cdataPositionChar,"<![CDATA["+e[r]+"]]>");return t+this.newLine}function l(t,e,r,n){return r&&!t.includes("<")?this.indentate(n)+"<"+e+r+">"+t+"</"+e+this.tagEndChar:this.indentate(n)+"<"+e+r+this.tagEndChar+t+this.indentate(n)+"</"+e+this.tagEndChar}function c(t,e,r,n){return""!==t?this.buildObjectNode(t,e,r,n):this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function h(t,e,r,n){return this.indentate(n)+"<"+e+r+">"+this.options.tagValueProcessor(t)+"</"+e+this.tagEndChar}function f(t,e,r,n){return""!==t?this.buildTextValNode(t,e,r,n):this.indentate(n)+"<"+e+r+"/"+this.tagEndChar}function p(t){return this.options.indentBy.repeat(t)}function d(t){return!!t.startsWith(this.options.attributeNamePrefix)&&t.substr(this.attrPrefixLen)}function y(t){return t===this.options.cdataTagName}s.prototype.parse=function(t){return this.j2x(t,0).val},s.prototype.j2x=function(t,e){let r="",n="";const i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){const o=i[s];if(void 0===t[o]);else if(null===t[o])n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if(t[o]instanceof Date)n+=this.buildTextNode(t[o],o,"",e);else if("object"!=typeof t[o]){const i=this.isAttribute(o);i?r+=" "+i+'="'+this.options.attrValueProcessor(""+t[o])+'"':this.isCDATA(o)?t[this.options.textNodeName]?n+=this.replaceCDATAstr(t[this.options.textNodeName],t[o]):n+=this.replaceCDATAstr("",t[o]):o===this.options.textNodeName?t[this.options.cdataTagName]||(n+=this.options.tagValueProcessor(""+t[o])):n+=this.buildTextNode(t[o],o,"",e)}else if(Array.isArray(t[o]))if(this.isCDATA(o))n+=this.indentate(e),t[this.options.textNodeName]?n+=this.replaceCDATAarr(t[this.options.textNodeName],t[o]):n+=this.replaceCDATAarr("",t[o]);else{const r=t[o].length;for(let i=0;i<r;i++){const r=t[o][i];if(void 0===r);else if(null===r)n+=this.indentate(e)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof r){const t=this.j2x(r,e+1);n+=this.buildObjNode(t.val,o,t.attrStr,e)}else n+=this.buildTextNode(r,o,"",e)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const e=Object.keys(t[o]),n=e.length;for(let i=0;i<n;i++)r+=" "+e[i]+'="'+this.options.attrValueProcessor(""+t[o][e[i]])+'"'}else{const r=this.j2x(t[o],e+1);n+=this.buildObjNode(r.val,o,r.attrStr,e)}}return{attrStr:r,val:n}},t.exports=s},function(t,e,r){"use strict";var n=r(264),i=r(145),o=r(74),s=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,l=Array.prototype.push,c=function(t,e){l.apply(t,u(e)?e:[e])},h=Date.prototype.toISOString,f=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:f,formatter:o.formatters[f],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},d=function t(e,r,o,s,a,l,h,f,d,y,g,v,m,_,b){var x=e;if(b.has(e))throw new RangeError("Cyclic object value");if("function"==typeof h?x=h(r,x):x instanceof Date?x=y(x):"comma"===o&&u(x)&&(x=i.maybeMap(x,function(t){return t instanceof Date?y(t):t})),null===x){if(s)return l&&!m?l(r,p.encoder,_,"key",g):r;x=""}if(function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||"bigint"==typeof t}(x)||i.isBuffer(x))return l?[v(m?r:l(r,p.encoder,_,"key",g))+"="+v(l(x,p.encoder,_,"value",g))]:[v(r)+"="+v(String(x))];var w,S=[];if(void 0===x)return S;if("comma"===o&&u(x))w=[{value:x.length>0?x.join(",")||null:void 0}];else if(u(h))w=h;else{var P=Object.keys(x);w=f?P.sort(f):P}for(var E=0;E<w.length;++E){var O=w[E],C="object"==typeof O&&void 0!==O.value?O.value:x[O];if(!a||null!==C){var I=u(x)?"function"==typeof o?o(r,O):r:r+(d?"."+O:"["+O+"]");b.set(e,!0);var M=n();c(S,t(C,I,o,s,a,l,h,f,d,y,g,v,m,_,M))}}return S};t.exports=function(t,e){var r,i=t,l=function(t){if(!t)return p;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||p.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==t.format){if(!s.call(o.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=o.formatters[r],i=p.filter;return("function"==typeof t.filter||u(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===t.allowDots?p.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:p.charsetSentinel,delimiter:void 0===t.delimiter?p.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:p.encode,encoder:"function"==typeof t.encoder?t.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:p.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:p.strictNullHandling}}(e);"function"==typeof l.filter?i=(0,l.filter)("",i):u(l.filter)&&(r=l.filter);var h,f=[];if("object"!=typeof i||null===i)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var y=a[h];r||(r=Object.keys(i)),l.sort&&r.sort(l.sort);for(var g=n(),v=0;v<r.length;++v){var m=r[v];l.skipNulls&&null===i[m]||c(f,d(i[m],m,y,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,g))}var _=f.join(l.delimiter),b=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),_.length>0?b+_:""}},function(t,e,r){"use strict";var n=r(72),i=r(269),o=r(271),s=n("%TypeError%"),a=n("%WeakMap%",!0),u=n("%Map%",!0),l=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),f=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),d=i("Map.prototype.has",!0),y=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+o(t))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(u){if(e)return f(e,n)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(t)return h(t,n)}else if(u){if(e)return d(e,n)}else if(r)return function(t,e){return!!y(t,e)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new a),c(t,n,i)):u?(e||(e=new u),p(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n}},function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(266);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var r,o=n.call(arguments,1),s=Math.max(0,e.length-o.length),a=[],u=0;u<s;u++)a.push("$"+u);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var i=e.apply(this,o.concat(n.call(arguments)));return Object(i)===i?i:this}return e.apply(t,o.concat(n.call(arguments)))}),e.prototype){var l=function(){};l.prototype=e.prototype,r.prototype=new l,l.prototype=null}return r}},function(t,e,r){"use strict";var n=r(73);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(72),i=r(270),o=i(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&o(t,".prototype.")>-1?i(r):r}},function(t,e,r){"use strict";var n=r(73),i=r(72),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=a(n,s,arguments);u&&l&&(u(e,"length").configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))}));return e};var h=function(){return a(n,o,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,r){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=a&&u&&"function"==typeof u.get?u.get:null,c=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,m="function"==typeof BigInt?BigInt.prototype.valueOf:null,_=Object.getOwnPropertySymbols,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,x="function"==typeof Symbol&&"object"==typeof Symbol.iterator,w=Object.prototype.propertyIsEnumerable,S=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),P=r(272).custom,E=P&&N(P)?P:null,O="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function C(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function I(t){return String(t).replace(/"/g,"&quot;")}function M(t){return!("[object Array]"!==L(t)||O&&"object"==typeof t&&O in t)}function N(t){if(x)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!b)return!1;try{return b.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,i){var a=r||{};if(A(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(A(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!A(a,"customInspect")||a.customInspect;if("boolean"!=typeof u)throw new TypeError('option "customInspect", if provided, must be `true` or `false`');if(A(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function t(e,r){if(e.length>r.maxStringLength){var n=e.length-r.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return t(e.slice(0,r.maxStringLength),r)+i}var o=e.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,R);return C(o,"single",r)}(e,a);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var y=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=y&&y>0&&"object"==typeof e)return M(e)?"[Array]":"[Object]";var _=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Array(t.indent+1).join(" ")}return{base:r,prev:Array(e+1).join(r)}}(a,n);if(void 0===i)i=[];else if(j(i,e)>=0)return"[Circular]";function w(e,r,o){if(r&&(i=i.slice()).push(r),o){var s={depth:a.depth};return A(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),t(e,s,n+1,i)}return t(e,a,n+1,i)}if("function"==typeof e){var P=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),T=B(e,w);return"[Function"+(P?": "+P:" (anonymous)")+"]"+(T.length>0?" { "+T.join(", ")+" }":"")}if(N(e)){var U=x?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):b.call(e);return"object"!=typeof e||x?U:F(U)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var q="<"+String(e.nodeName).toLowerCase(),z=e.attributes||[],V=0;V<z.length;V++)q+=" "+z[V].name+"="+C(I(z[V].value),"double",a);return q+=">",e.childNodes&&e.childNodes.length&&(q+="..."),q+="</"+String(e.nodeName).toLowerCase()+">"}if(M(e)){if(0===e.length)return"[]";var Z=B(e,w);return _&&!function(t){for(var e=0;e<t.length;e++)if(j(t[e],"\n")>=0)return!1;return!0}(Z)?"["+G(Z,_)+"]":"[ "+Z.join(", ")+" ]"}if(function(t){return!("[object Error]"!==L(t)||O&&"object"==typeof t&&O in t)}(e)){var W=B(e,w);return 0===W.length?"["+String(e)+"]":"{ ["+String(e)+"] "+W.join(", ")+" }"}if("object"==typeof e&&u){if(E&&"function"==typeof e[E])return e[E]();if("function"==typeof e.inspect)return e.inspect()}if(function(t){if(!o||!t||"object"!=typeof t)return!1;try{o.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var X=[];return s.call(e,function(t,r){X.push(w(r,e,!0)+" => "+w(t,e))}),k("Map",o.call(e),X,_)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{o.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var Y=[];return c.call(e,function(t){Y.push(w(t,e))}),k("Set",l.call(e),Y,_)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return D("WeakMap");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return D("WeakSet");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{return p.call(t),!0}catch(t){}return!1}(e))return D("WeakRef");if(function(t){return!("[object Number]"!==L(t)||O&&"object"==typeof t&&O in t)}(e))return F(w(Number(e)));if(function(t){if(!t||"object"!=typeof t||!m)return!1;try{return m.call(t),!0}catch(t){}return!1}(e))return F(w(m.call(e)));if(function(t){return!("[object Boolean]"!==L(t)||O&&"object"==typeof t&&O in t)}(e))return F(d.call(e));if(function(t){return!("[object String]"!==L(t)||O&&"object"==typeof t&&O in t)}(e))return F(w(String(e)));if(!function(t){return!("[object Date]"!==L(t)||O&&"object"==typeof t&&O in t)}(e)&&!function(t){return!("[object RegExp]"!==L(t)||O&&"object"==typeof t&&O in t)}(e)){var Q=B(e,w),H=S?S(e)===Object.prototype:e instanceof Object||e.constructor===Object,J=e instanceof Object?"":"null prototype",K=!H&&O&&Object(e)===e&&O in e?L(e).slice(8,-1):J?"Object":"",$=(H||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(K||J?"["+[].concat(K||[],J||[]).join(": ")+"] ":"");return 0===Q.length?$+"{}":_?$+"{"+G(Q,_)+"}":$+"{ "+Q.join(", ")+" }"}return String(e)};var T=Object.prototype.hasOwnProperty||function(t){return t in this};function A(t,e){return T.call(t,e)}function L(t){return y.call(t)}function j(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function R(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function F(t){return"Object("+t+")"}function D(t){return t+" { ? }"}function k(t,e,r,n){return t+" ("+e+") {"+(n?G(r,n):r.join(", "))+"}"}function G(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+t.join(","+r)+"\n"+e.prev}function B(t,e){var r=M(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=A(t,i)?e(t[i],t):""}var o,s="function"==typeof _?_(t):[];if(x){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)A(t,u)&&(r&&String(Number(u))===u&&u<t.length||x&&o["$"+u]instanceof Symbol||(/[^\w$]/.test(u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof _)for(var l=0;l<s.length;l++)w.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}},function(t,e){},function(t,e,r){"use strict";var n=r(145),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,function(t,e){return String.fromCharCode(parseInt(e,10))})},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,r,n){if(t){var o=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(o),l=a?o.slice(0,a.index):o,c=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var h=0;r.depth>0&&null!==(a=s.exec(o))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),function(t,e,r,n){for(var i=n?e:u(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(l,10);r.parseArrays||""!==l?!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[])[c]=i:s[l]=i:s={0:i}}i=s}return i}(c,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return s;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?s.charset:t.charset;return{allowDots:void 0===t.allowDots?s.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:s.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:s.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:s.comma,decoder:"function"==typeof t.decoder?t.decoder:s.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:s.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:s.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:s.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:s.strictNullHandling}}(e);if(""===t||null===t||void 0===t)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof t?function(t,e){var r,l={},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,f=c.split(e.delimiter,h),p=-1,d=e.charset;if(e.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?d="utf-8":"utf8=%26%2310003%3B"===f[r]&&(d="iso-8859-1"),p=r,r=f.length);for(r=0;r<f.length;++r)if(r!==p){var y,g,v=f[r],m=v.indexOf("]="),_=-1===m?v.indexOf("="):m+1;-1===_?(y=e.decoder(v,s.decoder,d,"key"),g=e.strictNullHandling?null:""):(y=e.decoder(v.slice(0,_),s.decoder,d,"key"),g=n.maybeMap(u(v.slice(_+1),e),function(t){return e.decoder(t,s.decoder,d,"value")})),g&&e.interpretNumericEntities&&"iso-8859-1"===d&&(g=a(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),i.call(l,y)?l[y]=n.combine(l[y],g):l[y]=g}return l}(t,r):t,h=r.plainObjects?Object.create(null):{},f=Object.keys(c),p=0;p<f.length;++p){var d=f[p],y=l(d,c[d],r,"string"==typeof t);h=n.merge(h,y,r)}return!0===r.allowSparse?h:n.compact(h)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WFS=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(71),o=r(143),s=l(r(144)),a=l(r(42)),u=l(r(27));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.url=r.url,n.featureTypes=[],n.layers=[],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.OGCService),n(e,[{key:"isBaseUrl",value:function(){var t=!1,e=this.url.length,r=this.url.indexOf("WFSServer")+"WFSServer".length;return r===e?(this.url+"?request=GetCapabilities&service=WFS",t=!0):r===e-1&&(this.url+"request=GetCapabilities&service=WFS",t=!0),t}},{key:"setVersion",value:function(t){return this.version=t,this}},{key:"setCrs",value:function(t){return this.srsname=t,this}},{key:"setName",value:function(t){return this.typename=t,this}},{key:"setOutputFormat",value:function(t){this.outputFormat=t}},{key:"getCapabilities",value:async function(){var t=this.url.length,e=this.url.indexOf("WFSServer")+"WFSServer".length,r=this.url;e===t?r=this.url+"?request=GetCapabilities&service=WFS":e===t-1&&(r=this.url+"request=GetCapabilities&service=WFS");var n=(await a.default.get(r)).data,i=s.default.getTraversalObj(n,{}),o=s.default.convertToJson(i,{}),u=o["wfs:WFS_Capabilities"]["ows:ServiceIdentification"]["ows:ServiceTypeVersion"];if("1.1.0"===u){this.featureTypes=o["wfs:WFS_Capabilities"].FeatureTypeList.FeatureType;var l=void 0,c="";this.featureTypes.forEach(function(t,e){0==e&&(l=t.DefaultSRS,c=""+t.Name)}),this.layers=this.featureTypes.map(function(t){return t.Name}),this.setName(c).setCrs(l).setVersion(u).setOutputFormat("text/xml; subtype=gml/3.2")}else if("2.0.0"===u){var h=o["wfs:WFS_Capabilities"]["wfs:FeatureTypeList"]["wfs:FeatureType"],f=h["wfs:DefaultCRS"],p=h["wfs:Name"];this.setName(p).setCrs(f).setVersion(u)}return o}},{key:"getFeature",value:async function(){var t=this.url.length,e=this.url.indexOf("WFSServer")+"WFSServer".length,r=this.url,n=this.maxFeatures,i=void 0===n?100:n,o=this.version,l=void 0===o?"1.1.0":o,c=this.typename,h=void 0===c?"":c,f=this.outputFormat,p=this.srsname,d=void 0===p?"EPSG:4326":p,y=this.bbox,g={service:"WFS",request:"GetFeature",version:l,typename:h,outputFormat:f,srsname:d,maxFeatures:i};"1.1.0"===l?g=y?Object.assign(g,{bbox:y+","+d}):g:"2.0.0"===l&&(g=Object.assign(g,{Envelope:y+","+d})),e===t?r=this.url+"?"+u.default.stringify(g):e===t-1&&(r=""+this.url+u.default.stringify(g));var v=(await a.default.get(r)).data,m=s.default.getTraversalObj(v,{}),_={geojson:void 0,xml:s.default.convertToJson(m,{})};switch(l){case"1.1.0":convert}return _}}]),e}();e.WFS=c,i.MapGIS.OGC.WFS=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EsSpaceTimeQueryByAgg=e.EsTableService=e.ESQueryStats=e.ESGeoDecode=e.ESGeoCode=e.EsCatlogService=e.EsGeoHashType=e.EsCatlogName=e.EsCatlogType=void 0;var n=r(146),i=c(r(276)),o=c(r(277)),s=c(r(278)),a=c(r(279)),u=c(r(280)),l=c(r(281));function c(t){return t&&t.__esModule?t:{default:t}}e.EsCatlogType=n.EsCatlogType,e.EsCatlogName=n.EsCatlogName,e.EsGeoHashType=n.EsGeoHashType,e.EsCatlogService=i.default,e.ESGeoCode=o.default,e.ESGeoDecode=s.default,e.ESQueryStats=a.default,e.EsTableService=u.default,e.EsSpaceTimeQueryByAgg=l.default},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EsCatlogService=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=(r(146),r(0)),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.serviceUrl="/datastore/rest/catalog/es/services/",n.indexName=void 0!==r.indexName?r.indexName:null,n.classify=void 0!==r.classify?r.classify:null,n.keyWords=void 0!==r.keyWords?r.keyWords:null,n.pageSize=void 0!==r.pageSize?r.pageSize:100,n.pageNo=void 0!==r.pageNo?r.pageNo:1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.params,i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.EsCatlogService=s,i.Zondy.DataStore.ElasticSearch.EsCatlogService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ESGeoCode=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/addressservice/es/location/geocode/",r.indexName=void 0!==t.indexName?t.indexName:null,r.province=void 0!==t.province?t.province:null,r.city=void 0!==t.city?t.city:null,r.keyWord=void 0!==t.keyWord?t.keyWord:"",r.bbox=void 0!==t.bbox?t.bbox:null,r.geometry=void 0!==t.geometry?t.geometry:null,r.filter=void 0!==t.filter?t.filter:null,r.pageSize=void 0!==t.pageSize?t.pageSize:100,r.pageNo=void 0!==t.pageNo?t.pageNo:1,r.fixOption(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(){this.option={province:this.province,city:this.city,keyWord:this.keyWord,bbox:this.bbox,geometry:this.geometry,filter:this.filter,pageSize:this.pageSize,pageNo:this.pageNo}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.option;r+=this.indexName;var i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.ESGeoCode=s,i.Zondy.DataStore.ElasticSearch.ESGeoCode=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ESGeoDecode=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/addressservice/es/location/geodecode/",r.indexName=void 0!==t.indexName?t.indexName:null,r.province=void 0!==t.province?t.province:null,r.city=void 0!==t.city?t.city:null,r.bbox=void 0!==t.bbox?t.bbox:null,r.geometry=void 0!==t.geometry?t.geometry:null,r.filter=void 0!==t.filter?t.filter:null,r.lon=void 0!==t.lon?t.lon:null,r.lat=void 0!==t.lat?t.lat:null,r.dis=void 0!==t.dis?t.dis:.1,r.pageSize=void 0!==t.pageSize?t.pageSize:100,r.pageNo=void 0!==t.pageNo?t.pageNo:1,r.fixOption(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(){this.option={province:this.province,city:this.city,bbox:this.bbox,geometry:this.geometry,filter:this.filter,lon:this.lon,lat:this.lat,dis:this.dis,pageSize:this.pageSize,pageNo:this.pageNo}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.option;r+=this.indexName;var i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.ESGeoDecode=s,i.Zondy.DataStore.ElasticSearch.ESGeoDecode=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ESQueryStats=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(r.serviceUrl="/datastore/rest/dataset/es/query/",r.libName=void 0!==t.libName?t.libName:null,r.tableName=void 0!==t.tableName?t.tableName:null,void 0!==t.geometry||void 0!==t.extent)if(r.geoFormat=void 0!==t.geoFormat?t.geoFormat:"wkt",void 0!==t.geometry)r.geometry=void 0!==t.geometry?t.geometry:null;else if(void 0!==t.extent){var n=t.extent;r.geometry="polygon(("+n.xmin+" "+n.ymax+","+n.xmin+" "+n.ymin+","+n.xmax+" "+n.ymin+","+n.xmax+" "+n.ymax+","+n.xmin+" "+n.ymax+"))"}if(void 0!==t.filter){if(r.filter={},void 0!==t.filter.spatialCondition)r.filter.spatialCondition=t.filter.spatialCondition;else if(void 0!==t.filter.extent){var i=t.filter.extent;r.filter.spatialCondition="polygon:"+i.ymax+","+i.xmin+";"+i.yamx+","+i.xmax+";"+i.ymin+","+i.xmax+";"+i.ymin+","+i.xmin}void 0!==t.filter.timeCondition&&void 0!==t.filter.timeCondition.field&&void 0!==t.filter.timeCondition.timeRange&&(r.filter.timeCondition={},r.filter.timeCondition.field=t.filter.timeCondition.field,r.filter.timeCondition.timeRange=t.filter.timeCondition.timeRange.join(",")),void 0!==t.filter.otherProperty&&""!==t.filter.otherProperty&&(r.filter.otherProperty=t.filter.otherProperty),void 0!==t.filter.fieldTag&&(r.filter.fieldTag=t.filter.fieldTag),r.filter="["+JSON.stringify(r.filter)+"]"}if(r.fields=void 0!==t.fields?t.fields:null,void 0!==t.statisticFields&&t.statisticFields.length>0){for(var o=[],s=0;s<t.statisticFields.length;s++){var a={field:t.statisticFields[s].field,statisticTypes:[t.statisticFields[s].statisticTypes]};o.push(a)}r.statisticFields=JSON.stringify(o)}return r.sref=void 0!==t.sref?t.sref:null,r.includeProperites=void 0!==t.includeProperites&&t.includeProperites,r.pageSize=void 0!==t.pageSize?t.pageSize:10,r.pageNo=void 0!==t.pageNo?t.pageNo:1,r.fixOption(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(){this.option={geoFormat:this.geoFormat,geometry:this.geometry,filter:this.filter,fields:this.fields,statisticFields:this.statisticFields,sref:this.sref,includeProperites:this.includeProperites,pageSize:this.pageSize,pageNo:this.pageNo}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.option;r=r+this.libName+"/"+this.tableName;var i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.ESQueryStats=s,i.Zondy.DataStore.ElasticSearch.ESQueryStats=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EsTableService=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.serviceUrl="/datastore/rest/dataset/es/schema/",n.indexName=void 0!==r.indexName?r.indexName:null,n.tableNames=void 0!==r.tableNames?r.tableNames:null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.params;r+=this.indexName;var i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.EsTableService=s,i.Zondy.DataStore.ElasticSearch.EsTableService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EsSpaceTimeQueryByAgg=e.default=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{},n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.options=t,n.serviceUrl="/es/stQueryByAgg",n.indexName=void 0!==r.indexName?r.indexName:null,n.typeName=void 0!==r.typeName?r.typeName:null,n.aggfield=void 0!==r.aggfield?r.aggfield:null,n.spatialCondition=void 0!==r.spatialCondition?r.spatialCondition:null,n.timefield=void 0!==r.timefield?r.timefield:null,n.timeCondition=void 0!==r.timeCondition?r.timeCondition:null,n.aggGeoFormat=void 0!==r.aggGeoFormat?r.aggGeoFormat:null,n.percision=void 0!==r.percision?r.percision:8,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.options,i=this.getFullUrl(r,n);this.get(i,t,e)}}]),e}();e.default=s,e.EsSpaceTimeQueryByAgg=s,i.Zondy.DataStore.ElasticSearch.EsSpaceTimeQueryByAgg=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisVectorTileService=e.PostgisTableService=e.PostgisQueryService=e.PostgisCustomQueryService=e.PostgisCatlogService=void 0;var n=r(283),i=r(284),o=r(285),s=r(286),a=r(287);e.PostgisCatlogService=n.PostgisCatlogService,e.PostgisCustomQueryService=i.PostgisCustomQueryService,e.PostgisQueryService=o.PostgisQueryService,e.PostgisTableService=s.PostgisTableService,e.PostgisVectorTileService=a.PostgisVectorTileService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisCatlogService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=e.PostgisCatlogService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/datastore/rest/catalog/pg/services/",r.path=t.path,r.classify=t.classify,r.keyWords=t.keyWords,r.fixOption(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(t){this.option={classify:t.classify,keyWords:t.keyWords,pageSize:t.pageSize,pageNo:t.pageNo}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.path,i=this.option;r+=n;var o=this.getFullUrl(r,i);this.get(o,t,e)}}]),e}();e.default=s,i.Zondy.DataStore.PostGIS.PostgisCatlogService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisCustomQueryService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=e.PostgisCustomQueryService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/datastore/rest/dataset/pg/executequery/",r.path=t.path,r.queryBody=t.queryBody,r.fixOption(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(t){this.option={queryBody:t.queryBody}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.path,i=this.option;r+=n;var o=this.getFullUrl(r,i);this.get(o,t,e)}}]),e}();e.default=s,i.Zondy.DataStore.PostGIS.PostgisCustomQueryService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisQueryService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=e.PostgisQueryService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/datastore/rest/dataset/pg/query/",r.path=t.path,r.geometry=t.geometry,r.geoFormat=t.geoFormat,r.sref=t.sref,r.filter=t.filter,r.fields=t.fields,r.segments=t.segments,r.statisticFields=t.statisticFields,r.includeProperites=t.includeProperites,r.includeGeometry=t.includeGeometry,r.fixOption(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(t){this.option={geometry:t.geometry,geoFormat:t.geoFormat,sref:t.sref,filter:t.filter,fields:t.fields,segments:t.segments,statisticFields:t.statisticFields,includeProperites:t.includeProperites,propertyNames:t.propertyNames,includeGeometry:t.includeGeometry,pageSize:t.pageSize,pageNo:t.pageNo}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.path,i=this.option;this.geometry,this.geoFormat;r+=n;var o=this.getFullUrl(r,i);this.get(o,t,e)}},{key:"queryByWkt",value:function(t){}},{key:"queryByGeojson",value:function(t){}},{key:"queryByCircle",value:function(t){}},{key:"queryByRect",value:function(t){}}]),e}();e.default=s,i.Zondy.DataStore.PostGIS.PostgisQueryService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisTableService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=e.PostgisTableService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/datastore/rest/dataset/pg/schema/",r.path=t.path,r.tableNames=t.tableNames,r.fixOption(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(t){this.option={tableNames:t.tableNames}}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.path,i=this.option;r+=n;var o=this.getFullUrl(r,i);this.get(o,t,e)}}]),e}();e.default=s,i.Zondy.DataStore.PostGIS.PostgisTableService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PostgisVectorTileService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(10);var s=e.PostgisVectorTileService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/datastore/rest/dataset/pg/vectortile/",r.path=t.path,r.version=t.version,r.tileMatrix=t.tileMatrix,r.tileRow=t.tileRow,r.tileCol=t.tileCol,r.fixOption(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.DataStoreService),n(e,[{key:"fixOption",value:function(t){this.option={version:t.version,tileMatrix:t.tileMatrix,tileRow:t.tileRow,tileCol:t.tileCol}}},{key:"getWmtsUrl",value:function(){var t=this.serviceUrl,e=this.path,r=this.option;t+=e;var n=this.getFullUrl(t,r);return n=decodeURI(n)}},{key:"query",value:function(t,e){var r=this.serviceUrl,n=this.path,i=this.option;r+=n;var o=this.getFullUrl(r,i);this.get(o,t,e)}}]),e}();e.default=s,i.Zondy.DataStore.PostGIS.PostgisVectorTileService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalculateModelService=e.GeoDatasetService=e.UserService=void 0;var n=r(289),i=r(291),o=r(294);e.UserService=n.UserService,e.GeoDatasetService=i.GeoDatasetService,e.CalculateModelService=o.CalculateModelService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserService=void 0;var n=r(290);e.UserService=n.UserService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(75);var s=e.UserService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/clouddisk/rest/users/",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CloudDiskService),n(e,[{key:"login",value:function(t,e,r){var n=this.serviceUrl,i=""+this.getBaseUrl()+n+"login";this.post(i,t,e,r)}}]),e}();e.default=s,i.Zondy.CloudDisk.UserService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDatasetService=void 0;var n=r(292);e.GeoDatasetService=n.GeoDatasetService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDatasetService=void 0;var n=r(293);e.GeoDatasetService=n.GeoDatasetService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoDatasetService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(0),o=r(75);var s=e.GeoDatasetService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/giscore/dataconvert/rest/geodataset/",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CloudDiskService),n(e,[{key:"schema",value:function(t,e,r){var n=this.serviceUrl;n+="schema";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"featuremetadata",value:function(t,e,r){var n=this.serviceUrl;n+="featureclass/metadata";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"rastermetadata",value:function(t,e,r){var n=this.serviceUrl;n+="raster/metadata";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"statistics",value:function(t,e,r){var n=this.serviceUrl;n+="featureclass/statistics";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"query",value:function(t,e,r){var n=this.serviceUrl;n+="featureclass/statistics";var i=this.getFullUrl(n,t);this.get(i,e,r)}}]),e}();e.default=s,i.Zondy.CloudDisk.GisCore.GeoDatasetService=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalculateModelService=void 0;var n=r(295);e.CalculateModelService=n.CalculateModelService},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalculateModelService=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(r(27)),o=r(0),s=r(75);var a=e.CalculateModelService=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.serviceUrl="/clouddisk/rest/CalculateModel",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.CloudDiskService),n(e,[{key:"add",value:function(t,e,r){var n=this.serviceUrl,i=""+this.getBaseUrl()+n+"?nodeId="+t.nodeId;delete t.nodeId,this.post(i,t,e,r)}},{key:"catalog",value:function(t,e,r){var n=this.serviceUrl;n+="/catalog";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"catalogtype",value:function(t,e,r){var n=t.type,o=this.serviceUrl,s=""+this.getBaseUrl()+o+"/catalog/{type}?";s=s.replace("{type}",n),delete t.type,s+=i.default.stringify(t),this.get(s,e,r)}},{key:"execute",value:function(t,e,r){var n=this.serviceUrl,i=t.type,o=t.modelID,s=""+this.getBaseUrl()+n+"/execute/{type}/{modelID}?";s=(s=s.replace("{type}",i)).replace("{modelID}",o),this.post(s,void 0,e,r)}},{key:"node",value:function(t,e,r){var n=this.serviceUrl,i=""+this.getBaseUrl()+n+"/node";this.post(i,t,e,r)}},{key:"nodeid",value:function(t,e,r){var n=t.id,i=this.serviceUrl,o=""+baseurl+i+"/node/{id}?";o=o.replace("{id}",n),this.get(o,e,r)}},{key:"noderoot",value:function(t,e,r){t={};var n=this.serviceUrl;n+="/node/root";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"nodes",value:function(t,e,r){t={};var n=this.serviceUrl;n+="/nodes";var i=this.getFullUrl(n,t);this.get(i,e,r)}},{key:"nodesid",value:function(t,e,r){var n=t.nodeId,o=this.serviceUrl,s=""+baseurl+o+"/nodes/{nodeId}?";s=s.replace("{nodeId}",n),delete t.nodeId,s+=i.default.stringify(t),this.get(s,e,r)}}]),e}();e.default=a,o.Zondy.CloudDisk.Model.CalculateModelService=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisExtent=e.ArcGisGraphic=e.ArcGisPolygon=e.ArcGisPolyline=e.ArcGisMultipoint=e.ArcGisPoint=e.ArcGisQueryTask=e.ArcGisQuery=e.ArcGisGeometry=e.ArcGisIdentifyParameters=e.ArcGisIdentifyTask=e.ArcGisFindTask=e.ArcGisFindParameters=e.ArcGisFeatureLayer=void 0;var n=r(297),i=r(298),o=r(299),s=r(300),a=r(301),u=r(20),l=r(147),c=r(302),h=r(303),f=r(28),p=r(348),d=r(349),y=r(350),g=r(351);e.ArcGisFeatureLayer=n.ArcGisFeatureLayer,e.ArcGisFindParameters=i.ArcGisFindParameters,e.ArcGisFindTask=o.ArcGisFindTask,e.ArcGisIdentifyTask=s.ArcGisIdentifyTask,e.ArcGisIdentifyParameters=a.ArcGisIdentifyParameters,e.ArcGisGeometry=u.ArcGisGeometry,e.ArcGisQuery=l.ArcGisQuery,e.ArcGisQueryTask=c.ArcGisQueryTask,e.ArcGisPoint=f.ArcGisPoint,e.ArcGisMultipoint=p.ArcGisMultipoint,e.ArcGisPolyline=d.ArcGisPolyline,e.ArcGisPolygon=h.ArcGisPolygon,e.ArcGisGraphic=y.ArcGisGraphic,e.ArcGisExtent=g.ArcGisExtent},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisFeatureLayer=void 0;var n=r(2),i=r(76),o=r(147);var s=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.uid=null,this.indexes={items:[]},this.load=null,this.attributionVisible=!0,this.listMode="show",this.hasAttributionData=!1,this.createQueryVersion=1,this.blendMode="normal",this.capabilities=null,this.copyright=null,this.loadError=null,this.loadStatus="not-loaded",this.loaded=!1,this.loadWarnings=[],this.customParameters=null,this.definitionExpression=null,this.displayField=null,this.dynamicDataSource=null,this.editFieldsInfo=null,this.editingEnabled=!0,this.editingInfo=null,this.effect=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex={dateFields:[],fields:[],uid:""},this.formTemplate=null,this.gdbVersion=null,this.geometryType=null,this.hasM=null,this.hasZ=null,this.historicMoment=null,this.isTable=!1,this.labelingInfo=null,this.labelsVisible=!0,this.layerId=null,this.legendEnabled=!0,this.maxScale=0,this.minScale=0,this.opacity=1,this.operationalLayerType="ArcGisFeatureLayer",this.objectIdField=null,this.outFields=null,this.parent=null,this.path=null,this.parsedUrl=null,this.popupEnabled=!0,this.popupTemplate=null,this.portalItem=null,this.refreshInterval=0,this.relationships=null,this.renderer=null,this.returnM=null,this.returnZ=null,this.resourceReferences={paths:[],portalItem:null},this.screenSizePerspectiveEnabled=!0,this.serviceDefinitionExpression=null,this.source=null,this.scaleRangeId="0,0",this.sourceJSON=null,this.spatialReference={imageCoordinateSystem:null,isGeographic:!0,isWGS84:!0,isWebMercator:!1,isWrappable:!0,latestVcsWkid:null,latestWkid:null,vcsWkid:null,wkid:4326,wkt:"GEOGCS['GCS_WGS_1984',DATUM['D_WGS_1984',SPHEROID['WGS_1984',6378137.0,298.257223563]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]]"},this.templates=null,this.sublayerTitleMode="item-title",this.timeExtent=null,this.timeInfo=null,this.timeOffset=null,this.title="",this.trackIdField=null,this.type="feature",this.typeIdField=null,this.types=null,this.url=null,this.useViewTime=!0,this.version=null,this.userIsAdmin=!1,this.visible=!0,(0,n.extend)(this,e),this._queryService=this.url&&this.url.indexOf("FeatureServer")+"FeatureServer".length===this.url.length?"queryByMap":"queryByLayer",this._applyEditsService=this.url&&this.url.indexOf("FeatureServer")+"FeatureServer".length===this.url.length?"applyEditsByMap":"applyEditsByLayer";var r=new i.ArcGisServiceBase;this.queryByMap=function(t){var e=this.url+"/query?f=json";return e=(0,n.formatQuery)(t,e,["geometry","layerDefs"],null),r.getPromise(e)},this.queryByLayer=function(t){var e=this.url+"/query?f=json";return e=(0,n.formatQuery)(t,e,["geometry"],null),r.getPromise(e)},this.applyEditsByLayer=function(t,e){var i=this.url+"/applyEdits",o="";e=e||{gdbVersion:[],rollbackOnFailure:!0,f:"json"};if(t.deleteFeatures){for(var s=[],a=0;a<t.deleteFeatures.length;a++)s.push(t.deleteFeatures[a].objectId);t.deleteFeatures=s.join(",")}return o=(0,n.formatEdits)(o,t,["addFeatures","updateFeatures","deleteFeatures"]),o=(o=(0,n.formatEdits)(o,e)).substring(0,o.length-1),r.getPromiseP(i,o)},this.applyEditsByMap=function(t,e){e=e||{gdbVersion:[],rollbackOnFailure:!0,f:"json"};var i=this.url+"/applyEdits",o="";return o+="edits="+encodeURIComponent(JSON.stringify(t))+"&",o=(o=(0,n.formatEdits)(o,e)).substring(0,o.length-1),r.getPromiseP(i,o)}};s.prototype.createQuery=function(){return new o.ArcGisQuery},s.prototype.queryFeatures=function(t){return this[this._queryService](t)},s.prototype.applyEdits=function(t,e){return this[this._applyEditsService](t,e)},s.prototype.queryFeatureCount=function(t,e){return t.returnCountOnly=!0,this[this._queryService](t)},s.prototype.queryObjectIds=function(t,e){return t.returnIdsOnly=!0,this[this._queryService](t)},s.prototype.queryExtent=function(t){return t.returnExtentOnly=!0,this[this._queryService](t)},e.ArcGisFeatureLayer=s,n.Zondy.Service.ArcGisFeatureLayer=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisFindParameters=void 0;var n=r(2),i=r(19);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.contains=!0,r.dynamicLayerInfos=null,r.gdbVersion=null,r.geometryPrecision=null,r.layerDefinitions=null,r.layerIds=null,r.maxAllowableOffset=null,r.outSpatialReference=null,r.returnGeometry=!0,r.searchFields=null,r.searchText=null,(0,n.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();e.ArcGisFindParameters=o,n.Zondy.Service.ArcGisFindParameters=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisFindTask=void 0;var n=r(2),i=r(76);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={gdbVersion:null,url:null},e.url=e.url+"/find?f=json",(0,n.extend)(this.options,e)};o.prototype.execute=function(t,e){var r=this.options.url,o=new i.ArcGisServiceBase;return r=(0,n.formatQuery)(t,r,null,{layerIds:"layers",outSpatialReference:"sr"}),o.getPromise(r)},e.ArcGisFindTask=o,n.Zondy.Service.ArcGisFindTask=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisIdentifyTask=void 0;var n=r(2),i=r(76);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={gdbVersion:null,url:null},e.url=e.url+"/identify?f=json",(0,n.extend)(this.options,e)};o.prototype.execute=function(t,e){var r=this.options.url,o=new i.ArcGisServiceBase,s={},a=t.geometry.type,u=a.substr(0,1).toUpperCase(),l=a.substr(1,a.length);return t.geometryType="esriGeometry"+u+l,t.geometry=t.geometry.toGeometryJSON(),s.layers||(s.layers=t.layerIds?t.layerOption+":"+String(t.layerIds):"layers="+t.layerOption,delete t.layerOption,delete t.layerIds),s.imageDisplay||(s.imageDisplay=t.width+","+t.height+","+t.dpi,delete t.width,delete t.height,delete t.dpi),(0,n.extend)(s,t),r=(0,n.formatQuery)(s,r,null,{outSpatialReference:"sr"}),o.getPromise(r)},e.ArcGisIdentifyTask=o,n.Zondy.Service.ArcGisIdentifyTask=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisIdentifyParameters=void 0;var n=r(2),i=r(19);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.dpi=96,r.dynamicLayerInfos=null,r.gdbVersion=null,r.geometry=null,r.geometryPrecision=null,r.height=400,r.layerDefinitions=null,r.layerIds=null,r.layerOption="top",r.layerTimeOptions=null,r.mapExtent=null,r.maxAllowableOffset=null,r.returnFieldName=!1,r.returnGeometry=!1,r.returnM=!1,r.returnUnformattedValues=!1,r.returnZ=!1,r.spatialReference=null,r.timeExtent=null,r.tolerance=null,r.width=400,(0,n.extend)(r,t),r.mapExtent&&(r.mapExtent=r.mapExtent.toString()),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();e.ArcGisIdentifyParameters=o,n.Zondy.Service.ArcGisIdentifyParameters=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisQueryTask=void 0;var n=r(0),i=r(2);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options={url:null,gdbVersion:null},(0,i.extend)(this.options,e)};o.prototype.execute=function(t,e){},o.prototype.executeAttachmentQuery=function(){},o.prototype.executeForCount=function(){},o.prototype.executeForExtent=function(){},o.prototype.executeForIds=function(){},o.prototype.executeRelationshipQuery=function(){},e.ArcGisQueryTask=o,n.Zondy.Service.ArcGisQueryTask=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisPolygon=void 0;var n=r(2),i=r(20),o=r(28),s=u(r(25)),a=u(r(24));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.centroid=null,r.isSelfIntersecting=!1,r.rings=[],r.type="polygon",(0,n.extend)(r,t),r.rings[0]&&r.rings[0][0]&&r.rings[0][0].length>=3&&(r.hasZ=!0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisGeometry),e}();l.prototype.getPoint=function(t,e){return t>=this.rings.length||e>=this.rings[t].length?null:(0,n.returnPoint)(o.ArcGisPoint,this,this.rings[t][e])},l.prototype.insertPoint=function(t,e,r){return t<this.rings.length&&e<=this.rings[t].length&&(r instanceof Array?this.rings[t].splice(e,0,r):r instanceof o.ArcGisPoint&&this.rings[t].splice(e,0,r.hasZ?[r.x,r.y,r.z]:[r.x,r.y])),this},l.prototype.removePoint=function(t,e){if(t>=this.rings.length||e>=this.rings[t].length)return null;var r=this.rings[t].splice(e,1)[0];return(0,n.returnPoint)(o.ArcGisPoint,this,r)},l.prototype.setPoint=function(t,e,r){if(t>=this.rings.length||e>=this.rings[t].length)return null;if(r instanceof Array)this.rings[t][e]=r;else if(r instanceof o.ArcGisPoint){var n=[r.x,r.y];r.hasZ&&n.push(r.z),r.hasM&&n.push(r.m),this.rings[t][e]=n}return this},l.prototype.addRing=function(t){return t instanceof Array?this.rings.push((0,n.formatPoints)(t)):this.rings.push([]),this},l.prototype.removeRing=function(t){if(t>=this.rings.length)return null;for(var e=this.rings.splice(t,1)[0],r=void 0,i=[],s=0;s<e.length;s++)r=(0,n.returnPoint)(o.ArcGisPoint,this,e[s]),i.push(r);return i},l.prototype.isClockwise=function(t){var e,r=0,n=1,i=void 0,o=void 0;for(e=!!t[0][2];n<t.length;)i=o||t[0],o=t[n],r+=e?(o[0]-i[0])*(o[1]+i[1])*(o[2]+i[2]):(o[0]-i[0])*(o[1]+i[1]),n++;return r>0},l.prototype.contains=function(t){if(t instanceof o.ArcGisPoint){var e=a.polygon(this.rings,{name:"_extentPlygon"}),r=a.point(t.toArray());return s.booleanContains(e,r)}return!1},l.prototype.toGeometryJSON=function(){for(var t=this.rings,e='{"rings":[',r=0;r<t.length;r++){e+="[";for(var n=0;n<t[r].length;n++)e+="[",e+=t[r][n].join(","),e+="],";e=e.substr(0,e.length-1),e+="],"}return e=e.substr(0,e.length-1),e+="]}"},l.prototype.fromExtent=function(t){return new l({rings:t._extentPolygon.geometry.coordinates})},e.ArcGisPolygon=l,n.Zondy.Service.ArcGisPolygon=l},function(t,e,r){var n=r(305);n.defaultDatum="WGS84",n.Proj=r(77),n.WGS84=new n.Proj("WGS84"),n.Point=r(319),n.toPoint=r(153),n.defs=r(149),n.transform=r(152),n.mgrs=r(154),n.version=r(320).version,r(321)(n),t.exports=n},function(t,e,r){var n=r(77),i=r(152),o=n("WGS84");function s(t,e,r){var n;return Array.isArray(r)?(n=i(t,e,r),3===r.length?[n.x,n.y,n.z]:[n.x,n.y]):i(t,e,r)}function a(t){return t instanceof n?t:t.oProj?t.oProj:n(t)}t.exports=function(t,e,r){t=a(t);var n,i=!1;return void 0===e?(e=t,t=o,i=!0):(void 0!==e.x||Array.isArray(e))&&(r=e,e=t,t=o,i=!0),e=a(e),r?s(t,e,r):(n={forward:function(r){return s(t,e,r)},inverse:function(r){return s(e,t,r)}},i&&(n.oProj=e),n)}},function(t,e,r){var n=r(149),i=r(151),o=r(150);t.exports=function(t){return function(t){return"string"==typeof t}(t)?function(t){return t in n}(t)?n[t]:function(t){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(e,r){return e+1+t.indexOf(r)},0)}(t)?i(t):function(t){return"+"===t[0]}(t)?o(t):void 0:t}},function(t,e){t.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e){e.greenwich=0,e.lisbon=-9.131906111111,e.paris=2.337229166667,e.bogota=-74.080916666667,e.madrid=-3.687938888889,e.rome=12.452333333333,e.bern=7.439583333333,e.jakarta=106.807719444444,e.ferro=-17.666666666667,e.brussels=4.367975,e.stockholm=18.058277777778,e.athens=23.7163375,e.oslo=10.722916666667},function(t,e){e.ft={to_meter:.3048},e["us-ft"]={to_meter:1200/3937}},function(t,e,r){var n=[r(311),r(312)],i={},o=[];function s(t,e){var r=o.length;return t.names?(o[r]=t,t.names.forEach(function(t){i[t.toLowerCase()]=r}),this):(console.log(e),!0)}e.add=s,e.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==i[e]&&o[i[e]]?o[i[e]]:void 0},e.start=function(){n.forEach(s)}},function(t,e,r){var n=r(21),i=Math.PI/2,o=57.29577951308232,s=r(4),a=Math.PI/4,u=r(44),l=r(45);e.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},e.forward=function(t){var e,r,n=t.x,l=t.y;if(l*o>90&&l*o<-90&&n*o>180&&n*o<-180)return null;if(Math.abs(Math.abs(l)-i)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*s(n-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(a+.5*l));else{var c=Math.sin(l),h=u(this.e,l,c);e=this.x0+this.a*this.k0*s(n-this.long0),r=this.y0-this.a*this.k0*Math.log(h)}return t.x=e,t.y=r,t},e.inverse=function(t){var e,r,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)r=i-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(-9999===(r=l(this.e,a)))return null}return e=s(this.long0+n/(this.a*this.k0)),t.x=e,t.y=r,t},e.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(t,e){function r(t){return t}e.init=function(){},e.forward=r,e.inverse=r,e.names=["longlat","identity"]},function(t,e,r){var n=r(314),i=r(315),o=r(78),s=r(316);t.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var r=i[t.ellps]?i[t.ellps]:i.WGS84;o(t,r)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},function(t,e){e.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},e.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},e.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},e.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},e.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},e.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},e.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},e.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},e.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},e.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},e.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},e.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},e.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},e.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},e.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},e.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(t,e){e.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},e.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},e.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},e.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},e.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},e.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},e.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},e.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},e.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},e.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},e.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},e.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},e.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},e.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},e.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},e.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},e.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},e.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},e.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},e.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},e.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},e.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},e.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},e.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},e.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},e.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},e.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},e.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},e.hough={a:6378270,rf:297,ellipseName:"Hough"},e.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},e.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},e.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},e.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},e.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},e.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},e.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},e.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},e.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},e.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},e.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},e.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},e.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},e.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e){var r=Math.PI/2,n=function(t){if(!(this instanceof n))return new n(t);this.datum_type=4,t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=1),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=2,this.datum_params[3]*=484813681109536e-20,this.datum_params[4]*=484813681109536e-20,this.datum_params[5]*=484813681109536e-20,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,3===this.datum_type&&(this.grids=t.grids))};n.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,n,i,o,s,a,u,l=t.x,c=t.y,h=t.z?t.z:0;if(c<-r&&c>-1.001*r)c=-r;else if(c>r&&c<1.001*r)c=r;else if(c<-r||c>r)return null;return l>Math.PI&&(l-=2*Math.PI),s=Math.sin(c),u=Math.cos(c),a=s*s,e=((o=this.a/Math.sqrt(1-this.es*a))+h)*u*Math.cos(l),n=(o+h)*u*Math.sin(l),i=(o*(1-this.es)+h)*s,t.x=e,t.y=n,t.z=i,0},geocentric_to_geodetic:function(t){var e,n,i,o,s,a,u,l,c,h,f,p,d,y,g,v,m=t.x,_=t.y,b=t.z?t.z:0;if(!1,e=Math.sqrt(m*m+_*_),n=Math.sqrt(m*m+_*_+b*b),e/this.a<1e-12){if(!0,y=0,n/this.a<1e-12)return g=r,void(v=-this.b)}else y=Math.atan2(_,m);i=b/n,o=e/n,s=1/Math.sqrt(1-this.es*(2-this.es)*o*o),l=o*(1-this.es)*s,c=i*s,d=0;do{d++,v=e*l+b*c-(u=this.a/Math.sqrt(1-this.es*c*c))*(1-this.es*c*c),a=this.es*u/(u+v),p=(f=i*(s=1/Math.sqrt(1-a*(2-a)*o*o)))*l-(h=o*(1-a)*s)*c,l=h,c=f}while(p*p>1e-24&&d<30);return g=Math.atan(f/Math.abs(h)),t.x=y,t.y=g,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,n,i,o,s,a,u,l,c,h,f,p,d,y,g,v,m,_=t.x,b=t.y,x=t.z?t.z:0;if(_=parseFloat(_),b=parseFloat(b),x=parseFloat(x),m=!1,0!==_)e=Math.atan2(b,_);else if(b>0)e=r;else if(b<0)e=-r;else if(m=!0,e=0,x>0)n=r;else{if(!(x<0))return n=r,void(i=-this.b);n=-r}return s=_*_+b*b,a=1.0026*x,p=(o=Math.sqrt(s))/(l=Math.sqrt(a*a+s)),f=(h=a/l)*h*h,u=x+this.b*this.ep2*f,v=o-this.a*this.es*p*p*p,d=u/(c=Math.sqrt(u*u+v*v)),y=v/c,g=this.a/Math.sqrt(1-this.es*d*d),i=y>=.3826834323650898?o/y-g:y<=-.3826834323650898?o/-y-g:x/d+g*(this.es-1),!1===m&&(n=Math.atan(d/y)),t.x=e,t.y=n,t.z=i,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],r=this.datum_params[1],n=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],u=a*(t.x-s*t.y+o*t.z)+e,l=a*(s*t.x+t.y-i*t.z)+r,c=a*(-o*t.x+i*t.y+t.z)+n;t.x=u,t.y=l,t.z=c}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],r=this.datum_params[1],n=this.datum_params[2],i=this.datum_params[3],o=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],u=(t.x-e)/a,l=(t.y-r)/a,c=(t.z-n)/a;t.x=u+s*l-o*c,t.y=-s*u+l+i*c,t.z=o*u-i*l+c}}},t.exports=n},function(t,e){var r=1,n=2;t.exports=function(t,e,i){var o,s,a;function u(t){return t===r||t===n}if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var l=t.a,c=t.es,h=e.a,f=e.es,p=t.datum_type;if(3===p)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=.006694379990141316;else{if(!t.datum_params)return t.a=l,t.es=t.es,i;for(o=1,s=0,a=t.datum_params.length;s<a;s++)o*=t.datum_params[s];if(0===o)return t.a=l,t.es=t.es,i;p=t.datum_params.length>3?n:r}return 3===e.datum_type&&(e.a=6378137,e.es=.006694379990141316),(t.es!==e.es||t.a!==e.a||u(p)||u(e.datum_type))&&(t.geodetic_to_geocentric(i),u(t.datum_type)&&t.geocentric_to_wgs84(i),u(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=l,t.es=c,e.a=h,e.es=f,i}},function(t,e){t.exports=function(t,e,r){var n,i,o,s=r.x,a=r.y,u=r.z||0;for(o=0;o<3;o++)if(!e||2!==o||void 0!==r.z)switch(0===o?(n=s,i="x"):1===o?(n=a,i="y"):(n=u,i="z"),t.axis[o]){case"e":r[i]=n;break;case"w":r[i]=-n;break;case"n":r[i]=n;break;case"s":r[i]=-n;break;case"u":void 0!==r[i]&&(r.z=n);break;case"d":void 0!==r[i]&&(r.z=-n);break;default:return null}return r}},function(t,e,r){var n=r(154);function i(t,e,r){if(!(this instanceof i))return new i(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}i.fromMGRS=function(t){return new i(n.toPoint(t))},i.prototype.toMGRS=function(t){return n.forward([this.x,this.y],t)},t.exports=i},function(t){t.exports={_from:"proj4@2.3.15",_id:"proj4@2.3.15",_inBundle:!1,_integrity:"sha1-WtBui8owvg/6OJpJ5FZfUfBtCJ4=",_location:"/proj4",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"proj4@2.3.15",name:"proj4",escapedName:"proj4",rawSpec:"2.3.15",saveSpec:null,fetchSpec:"2.3.15"},_requiredBy:["/"],_resolved:"https://registry.npm.taobao.org/proj4/download/proj4-2.3.15.tgz",_shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",_spec:"proj4@2.3.15",_where:"E:\\Documents\\Work\\\\\\\\package\\source\\WebClient-JavaScript",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},bundleDependencies:!1,contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},deprecated:!1,description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(t,e,r){var n=[r(155),r(322),r(323),r(326),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(337),r(338),r(339),r(340),r(341),r(344),r(345),r(346),r(347)];t.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},function(t,e,r){var n=r(155);e.dependsOn="tmerc",e.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n.init.apply(this),this.forward=n.forward,this.inverse=n.inverse)},e.names=["Universal Transverse Mercator System","utm"]},function(t,e,r){var n=r(324),i=r(4);e.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},e.forward=function(t){var e,r,o,s;return t.x=i(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),o=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*o),t.x=s*r*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*r*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},e.inverse=function(t){var e,r,o,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var u=2*Math.atan2(a,this.R2);e=Math.sin(u),r=Math.cos(u),s=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),o=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else s=this.phic0,o=0;return t.x=o,t.y=s,n.inverse.apply(this,[t]),t.x=i(t.x+this.long0),t},e.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(t,e,r){var n=Math.PI/4,i=r(325),o=Math.PI/2;e.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*i(this.e*t,this.ratexp))},e.forward=function(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+n),this.C)*i(this.e*Math.sin(r),this.ratexp))-o,t.x=this.C*e,t},e.inverse=function(t){for(var e=t.x/this.C,r=t.y,s=Math.pow(Math.tan(.5*r+n)/this.K,1/this.C),a=20;a>0&&(r=2*Math.atan(s*i(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(r-t.y)<1e-14));--a)t.y=r;return a?(t.x=e,t.y=r,t):null},e.names=["gauss"]},function(t,e){t.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,r){var n=Math.PI/2,i=r(29),o=r(21),s=r(44),a=r(45),u=r(4);e.ssfn_=function(t,e,r){return e*=r,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*r)},e.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+i(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},e.forward=function(t){var e,r,i,o,a,l,c=t.x,h=t.y,f=Math.sin(h),p=Math.cos(h),d=u(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=1e-10&&Math.abs(h+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*p*Math.cos(d)),t.x=this.a*e*p*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*p*Math.cos(d))+this.y0,t):(r=2*Math.atan(this.ssfn_(h,f,this.e))-n,o=Math.cos(r),i=Math.sin(r),Math.abs(this.coslat0)<=1e-10?(a=s(this.e,h*this.con,this.con*f),l=2*this.a*this.k0*a/this.cons,t.x=this.x0+l*Math.sin(c-this.long0),t.y=this.y0-this.con*l*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+o*Math.cos(d)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*o*Math.cos(d))),t.y=e*(this.cosX0*i-this.sinX0*o*Math.cos(d))+this.y0),t.x=e*o*Math.sin(d)+this.x0,t))},e.inverse=function(t){var e,r,i,o,s;t.x-=this.x0,t.y-=this.y0;var l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(.5*this.a*this.k0));return e=this.long0,r=this.lat0,l<=1e-10?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),e=Math.abs(this.coslat0)<1e-10?this.lat0>0?u(this.long0+Math.atan2(t.x,-1*t.y)):u(this.long0+Math.atan2(t.x,t.y)):u(this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=r,t)}if(Math.abs(this.coslat0)<=1e-10){if(l<=1e-10)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,i=l*this.cons/(2*this.a*this.k0),r=this.con*a(this.e,i),e=this.con*u(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,l<=1e-10?s=this.X0:(s=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/l),e=u(this.long0+Math.atan2(t.x*Math.sin(o),l*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),r=-1*a(this.e,Math.tan(.5*(n+s)));return t.x=e,t.y=r,t},e.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(t,e){e.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=1/this.rf,i=2*n-Math.pow(n,2),o=this.e=Math.sqrt(i);this.R=this.k0*r*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},e.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},e.inverse=function(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,u=0,l=o,c=-1e3,h=0;Math.abs(l-c)>1e-7;){if(++h>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=l,t},e.names=["somerc"]},function(t,e,r){var n=r(44),i=r(4),o=r(45),s=Math.PI/2,a=Math.PI/4;e.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),r=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-r*r);var o,s,a=n(this.e,this.lat0,t),u=this.bl/e*Math.sqrt((1-this.es)/(1-r*r));if(u*u<1&&(u=1),isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),c=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(u+Math.sqrt(u*u-1))*Math.pow(a,this.bl):this.el=(u-Math.sqrt(u*u-1))*Math.pow(a,this.bl);var h=Math.pow(l,this.bl),f=Math.pow(c,this.bl);s=.5*((o=this.el/h)-1/o);var p=(this.el*this.el-f*h)/(this.el*this.el+f*h),d=(f-h)/(f+h),y=i(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*y)/d)/this.bl,this.long0=i(this.long0);var g=i(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/s),this.alpha=Math.asin(u*Math.sin(this.gamma0))}else o=this.lat0>=0?u+Math.sqrt(u*u-1):u-Math.sqrt(u*u-1),this.el=o*Math.pow(a,this.bl),s=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/u),this.long0=this.longc-Math.asin(s*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(u*u-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(u*u-1),Math.cos(this.alpha))},e.forward=function(t){var e,r,o,u=t.x,l=t.y,c=i(u-this.long0);if(Math.abs(Math.abs(l)-s)<=1e-10)o=l>0?-1:1,r=this.al/this.bl*Math.log(Math.tan(a+o*this.gamma0*.5)),e=-1*o*s*this.al/this.bl;else{var h=n(this.e,l,Math.sin(l)),f=this.el/Math.pow(h,this.bl),p=.5*(f-1/f),d=.5*(f+1/f),y=Math.sin(this.bl*c),g=(p*Math.sin(this.gamma0)-y*Math.cos(this.gamma0))/d;r=Math.abs(Math.abs(g)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-g)/(1+g))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=1e-10?this.al*this.bl*c:this.al*Math.atan2(p*Math.cos(this.gamma0)+y*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+r):(e-=this.uc,t.x=this.x0+r*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-r*Math.sin(this.alpha)),t},e.inverse=function(t){var e,r;this.no_rot?(r=t.y-this.y0,e=t.x-this.x0):(r=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*r/this.al),a=.5*(n-1/n),u=.5*(n+1/n),l=Math.sin(this.bl*e/this.al),c=(l*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/u,h=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<1e-10?(t.x=this.long0,t.y=s):Math.abs(c+1)<1e-10?(t.x=this.long0,t.y=-1*s):(t.y=o(this.e,h),t.x=i(this.long0-Math.atan2(a*Math.cos(this.gamma0)-l*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},e.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(t,e,r){var n=r(21),i=r(44),o=Math.PI/2,s=r(29),a=r(4),u=r(45);e.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),o=n(this.e,e,r),s=i(this.e,this.lat1,e),a=Math.sin(this.lat2),u=Math.cos(this.lat2),l=n(this.e,a,u),c=i(this.e,this.lat2,a),h=i(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(o/l)/Math.log(s/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}},e.forward=function(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=1e-10&&(r=s(r)*(o-2e-10));var n,u,l=Math.abs(Math.abs(r)-o);if(l>1e-10)n=i(this.e,r,Math.sin(r)),u=this.a*this.f0*Math.pow(n,this.ns);else{if((l=r*this.ns)<=0)return null;u=0}var c=this.ns*a(e-this.long0);return t.x=this.k0*(u*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-u*Math.cos(c))+this.y0,t},e.inverse=function(t){var e,r,n,i,s,l=(t.x-this.x0)/this.k0,c=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(l*l+c*c),r=1):(e=-Math.sqrt(l*l+c*c),r=-1);var h=0;if(0!==e&&(h=Math.atan2(r*l,r*c)),0!==e||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),-9999===(i=u(this.e,n)))return null}else i=-o;return s=a(h/this.ns+this.long0),t.x=s,t.y=i,t},e.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(t,e,r){var n=r(4);e.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},e.forward=function(t){var e,r,i,o,s,a,u,l=t.x,c=t.y,h=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-h*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),s=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(o)),a=this.n*s,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=u*Math.cos(a)/1,t.x=u*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},e.inverse=function(t){var e,r,n,i,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,s=e,a=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,l+=1}while(0===a&&l<15);return l>=15?null:t},e.names=["Krovak","krovak"]},function(t,e,r){var n=r(34),i=r(30),o=r(31),s=r(32),a=r(33),u=r(79),l=r(4),c=r(35),h=r(80),f=Math.PI/2;e.init=function(){this.sphere||(this.e0=i(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},e.forward=function(t){var e,r,i=t.x,o=t.y;if(i=l(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(i)),r=this.a*(Math.atan2(Math.tan(o),Math.cos(i))-this.lat0);else{var s=Math.sin(o),a=Math.cos(o),c=u(this.a,this.e,s),h=Math.tan(o)*Math.tan(o),f=i*Math.cos(o),p=f*f,d=this.es*a*a/(1-this.es);e=c*f*(1-p*h*(1/6-(8-h+8*d)*p/120)),r=this.a*n(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+c*s/a*p*(.5+(5-h+6*d)*p/24)}return t.x=e+this.x0,t.y=r+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,r,n=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),r=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=this.ml0/this.a+i,a=h(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=1e-10)return t.x=this.long0,t.y=f,i<0&&(t.y*=-1),t;var p=u(this.a,this.e,Math.sin(a)),d=p*p*p/this.a/this.a*(1-this.es),y=Math.pow(Math.tan(a),2),g=n*this.a/p,v=g*g;e=a-p*Math.tan(a)/d*g*g*(.5-(1+3*y)*g*g/24),r=g*(1-v*(y/3+(1+3*y)*y*v/15))/Math.cos(a)}return t.x=l(r+this.long0),t.y=c(e),t},e.names=["Cassini","Cassini_Soldner","cass"]},function(t,e,r){var n=Math.PI/2,i=Math.PI/4,o=r(81),s=r(4);e.S_POLE=1,e.N_POLE=2,e.EQUIT=3,e.OBLIQ=4,e.init=function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-n)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=o(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},e.forward=function(t){var e,r,a,u,l,c,h,f,p,d,y=t.x,g=t.y;if(y=s(y-this.long0),this.sphere){if(l=Math.sin(g),d=Math.cos(g),a=Math.cos(y),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((r=this.mode===this.EQUIT?1+d*a:1+this.sinph0*l+this.cosph0*d*a)<=1e-10)return null;e=(r=Math.sqrt(2/r))*d*Math.sin(y),r*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*d*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(g+this.phi0)<1e-10)return null;r=i-.5*g,e=(r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)))*Math.sin(y),r*=a}}else{switch(h=0,f=0,p=0,a=Math.cos(y),u=Math.sin(y),l=Math.sin(g),c=o(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(h=c/this.qp,f=Math.sqrt(1-h*h)),this.mode){case this.OBLIQ:p=1+this.sinb1*h+this.cosb1*f*a;break;case this.EQUIT:p=1+f*a;break;case this.N_POLE:p=n+g,c=this.qp-c;break;case this.S_POLE:p=g-n,c=this.qp+c}if(Math.abs(p)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),r=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*h-this.sinb1*f*a):(p=Math.sqrt(2/(1+f*a)))*h*this.ymf,e=this.xmf*p*f*u;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(p=Math.sqrt(c))*u,r=a*(this.mode===this.S_POLE?p:-p)):e=r=0}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,r,i,o,a,u,l,c=t.x/this.a,h=t.y/this.a;if(this.sphere){var f,p=0,d=0;if((r=.5*(f=Math.sqrt(c*c+h*h)))>1)return null;switch(r=2*Math.asin(r),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(r),p=Math.cos(r)),this.mode){case this.EQUIT:r=Math.abs(f)<=1e-10?0:Math.asin(h*d/f),c*=d,h=p*f;break;case this.OBLIQ:r=Math.abs(f)<=1e-10?this.phi0:Math.asin(p*this.sinph0+h*d*this.cosph0/f),c*=d*this.cosph0,h=(p-Math.sin(r)*this.sinph0)*f;break;case this.N_POLE:h=-h,r=n-r;break;case this.S_POLE:r-=n}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,h):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,h*=this.dd,(u=Math.sqrt(c*c+h*h))<1e-10)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*u/this.rq),i=Math.cos(o),c*=o=Math.sin(o),this.mode===this.OBLIQ?(l=i*this.sinb1+h*o*this.cosb1/u,a=this.qp*l,h=u*this.cosb1*i-h*this.sinb1*o):(l=h*o/u,a=this.qp*l,h=u*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(a=c*c+h*h))return t.x=0,t.y=this.phi0,t;l=1-a/this.qp,this.mode===this.S_POLE&&(l=-l)}e=Math.atan2(c,h),r=this.authlat(Math.asin(l),this.apa)}return t.x=s(this.long0+e),t.y=r,t},e.P00=.3333333333333333,e.P01=.17222222222222222,e.P02=.10257936507936508,e.P10=.06388888888888888,e.P11=.0664021164021164,e.P20=.016415012942191543,e.authset=function(t){var e,r=[];return r[0]=t*this.P00,e=t*t,r[0]+=e*this.P01,r[1]=e*this.P10,e*=t,r[0]+=e*this.P02,r[1]+=e*this.P11,r[2]=e*this.P20,r},e.authlat=function(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)},e.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(t,e,r){var n=r(21),i=r(81),o=r(4),s=r(22);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n(this.e3,this.sin_po,this.cos_po),this.qs1=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n(this.e3,this.sin_po,this.cos_po),this.qs2=i(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=i(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},e.forward=function(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=i(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*o(e-this.long0),u=s*Math.sin(a)+this.x0,l=this.rh-s*Math.cos(a)+this.y0;return t.x=u,t.y=l,t},e.inverse=function(t){var e,r,n,i,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,r)),s=o(i/this.ns0+this.long0),t.x=s,t.y=a,t},e.phi1z=function(t,e){var r,n,i,o,a,u=s(.5*e);if(t<1e-10)return u;for(var l=t*t,c=1;c<=25;c++)if(r=Math.sin(u),n=Math.cos(u),u+=a=.5*(o=1-(i=t*r)*i)*o/n*(e/(1-l)-r/o+.5/t*Math.log((1-i)/(1+i))),Math.abs(a)<=1e-7)return u;return null},e.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(t,e,r){var n=r(4),i=r(22);e.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},e.forward=function(t){var e,r,i,o,s,a,u,l=t.x,c=t.y;return i=n(l-this.long0),e=Math.sin(c),r=Math.cos(c),o=Math.cos(i),1,(s=this.sin_p14*e+this.cos_p14*r*o)>0||Math.abs(s)<=1e-10?(a=this.x0+1*this.a*r*Math.sin(i)/s,u=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*r*o)/s):(a=this.x0+this.infinity_dist*r*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*o)),t.x=a,t.y=u,t},e.inverse=function(t){var e,r,o,s,a,u;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),r=Math.sin(s),o=Math.cos(s),u=i(o*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*o-t.y*this.sin_p14*r),a=n(this.long0+a)):(u=this.phic0,a=0),t.x=a,t.y=u,t},e.names=["gnom"]},function(t,e,r){var n=r(4),i=r(81),o=r(21),s=r(336);e.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},e.forward=function(t){var e,r,o=t.x,s=t.y,a=n(o-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),r=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var u=i(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,r=this.y0+this.a*u*.5/this.k0}return t.x=e,t.y=r,t},e.inverse=function(t){var e,r;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=s(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t},e.names=["cea"]},function(t,e){var r=Math.PI/2;t.exports=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r:r;for(var i,o,s,a,u=Math.asin(.5*e),l=0;l<30;l++)if(o=Math.sin(u),s=Math.cos(u),a=t*o,u+=i=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(i)<=1e-10)return u;return NaN}},function(t,e,r){var n=r(4),i=r(35);e.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},e.forward=function(t){var e=t.x,r=t.y,o=n(e-this.long0),s=i(r-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*s,t},e.inverse=function(t){var e=t.x,r=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=i(this.lat0+(r-this.y0)/this.a),t},e.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(t,e,r){var n=r(30),i=r(31),o=r(32),s=r(33),a=r(4),u=r(35),l=r(34),c=r(79);e.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,r,n,i=t.x,o=t.y,s=a(i-this.long0);if(n=s*Math.sin(o),this.sphere)Math.abs(o)<=1e-10?(e=this.a*s,r=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),r=this.a*(u(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=1e-10)e=this.a*s,r=-1*this.ml0;else{var h=c(this.a,this.e,Math.sin(o))/Math.tan(o);e=h*Math.sin(n),r=this.a*l(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+h*(1-Math.cos(n))}return t.x=e+this.x0,t.y=r+this.y0,t},e.inverse=function(t){var e,r,n,i,o,s,u,c,h;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=1e-10)e=a(n/this.a+this.long0),r=0;else{var f;for(s=this.lat0+i/this.a,u=n*n/this.a/this.a+s*s,c=s,o=20;o;--o)if(c+=h=-1*(s*(c*(f=Math.tan(c))+1)-c-.5*(c*c+u)*f)/((c-s)/f-1),Math.abs(h)<=1e-10){r=c;break}e=a(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=1e-10)r=0,e=a(this.long0+n/this.a);else{var p,d,y,g,v;for(s=(this.ml0+i)/this.a,u=n*n/this.a/this.a+s*s,c=s,o=20;o;--o)if(v=this.e*Math.sin(c),p=Math.sqrt(1-v*v)*Math.tan(c),d=this.a*l(this.e0,this.e1,this.e2,this.e3,c),y=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=h=(s*(p*(g=d/this.a)+1)-g-.5*p*(g*g+u))/(this.es*Math.sin(2*c)*(g*g+u-2*s*g)/(4*p)+(s-g)*(p*y-2/Math.sin(2*c))-y),Math.abs(h)<=1e-10){r=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=a(this.long0+Math.asin(n*p/this.a)/Math.sin(r))}return t.x=e,t.y=r,t},e.names=["Polyconic","poly"]},function(t,e){e.iterations=1,e.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},e.forward=function(t){var e,r=t.x,n=(t.y-this.lat0)/484813681109536e-20*1e-5,i=r-this.long0,o=1,s=0;for(e=1;e<=10;e++)o*=n,s+=this.A[e]*o;var a,u=s,l=i,c=1,h=0,f=0,p=0;for(e=1;e<=6;e++)a=h*u+c*l,c=c*u-h*l,h=a,f=f+this.B_re[e]*c-this.B_im[e]*h,p=p+this.B_im[e]*c+this.B_re[e]*h;return t.x=p*this.a+this.x0,t.y=f*this.a+this.y0,t},e.inverse=function(t){var e,r,n=t.x,i=t.y,o=n-this.x0,s=(i-this.y0)/this.a,a=o/this.a,u=1,l=0,c=0,h=0;for(e=1;e<=6;e++)r=l*s+u*a,u=u*s-l*a,l=r,c=c+this.C_re[e]*u-this.C_im[e]*l,h=h+this.C_im[e]*u+this.C_re[e]*l;for(var f=0;f<this.iterations;f++){var p,d=c,y=h,g=s,v=a;for(e=2;e<=6;e++)p=y*c+d*h,d=d*c-y*h,y=p,g+=(e-1)*(this.B_re[e]*d-this.B_im[e]*y),v+=(e-1)*(this.B_im[e]*d+this.B_re[e]*y);d=1,y=0;var m=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)p=y*c+d*h,d=d*c-y*h,y=p,m+=e*(this.B_re[e]*d-this.B_im[e]*y),_+=e*(this.B_im[e]*d+this.B_re[e]*y);var b=m*m+_*_;c=(g*m+v*_)/b,h=(v*m-g*_)/b}var x=c,w=h,S=1,P=0;for(e=1;e<=9;e++)S*=x,P+=this.D[e]*S;var E=this.lat0+484813681109536e-20*P*1e5,O=this.long0+w;return t.x=O,t.y=E,t},e.names=["New_Zealand_Map_Grid","nzmg"]},function(t,e,r){var n=r(4);e.init=function(){},e.forward=function(t){var e=t.x,r=t.y,i=n(e-this.long0),o=this.x0+this.a*i,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=o,t.y=s,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t},e.names=["Miller_Cylindrical","mill"]},function(t,e,r){var n=r(4),i=r(35),o=r(342),s=r(156),a=r(343),u=Math.PI/2,l=r(22);e.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},e.forward=function(t){var e,r,i=t.x,o=t.y;if(i=n(i-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(o),u=20;u;--u){var l=(this.m*o+Math.sin(o)-a)/(this.m+Math.cos(o));if(o-=l,Math.abs(l)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*i*(this.m+Math.cos(o)),r=this.a*this.C_y*o}else{var c=Math.sin(o),h=Math.cos(o);r=this.a*s(o,c,h,this.en),e=this.a*i*h/Math.sqrt(1-this.es*c*c)}return t.x=e,t.y=r,t},e.inverse=function(t){var e,r,o,s;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=l((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=l(Math.sin(e)/this.n)),o=n(o+this.long0),e=i(e)):(e=a(t.y/this.a,this.es,this.en),(s=Math.abs(e))<u?(s=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),o=n(r)):s-1e-10<u&&(o=this.long0)),t.x=o,t.y=e,t},e.names=["Sinusoidal","sinu"]},function(t,e){var r=.01068115234375;t.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*r))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*r)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}},function(t,e,r){var n=r(156);t.exports=function(t,e,r){for(var i=1/(1-e),o=t,s=20;s;--s){var a=Math.sin(o),u=1-e*a*a;if(o-=u=(n(o,a,Math.cos(o),r)-t)*(u*Math.sqrt(u))*i,Math.abs(u)<1e-10)return o}return o}},function(t,e,r){var n=r(4);e.init=function(){},e.forward=function(t){for(var e=t.x,r=t.y,i=n(e-this.long0),o=r,s=Math.PI*Math.sin(r),a=0;;a++){var u=-(o+Math.sin(o)-s)/(1+Math.cos(o));if(o+=u,Math.abs(u)<1e-10)break}o/=2,Math.PI/2-Math.abs(r)<1e-10&&(i=0);var l=.900316316158*this.a*i*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=l,t.y=c,t},e.inverse=function(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var i=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var o=Math.asin(r);return t.x=i,t.y=o,t},e.names=["Mollweide","moll"]},function(t,e,r){var n=r(30),i=r(31),o=r(32),s=r(33),a=r(21),u=r(34),l=r(4),c=r(35),h=r(80);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=i(this.es),this.e2=o(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=u(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=u(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=u(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},e.forward=function(t){var e,r=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var i=u(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-i)}var o=this.ns*l(r-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},e.inverse=function(t){var e,r,n,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==r&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=l(this.long0+o/this.ns),n=c(this.g-r/this.a),t.x=i,t.y=n,t;var s=this.g-r/this.a;return n=h(s,this.e0,this.e1,this.e2,this.e3),i=l(this.long0+o/this.ns),t.x=i,t.y=n,t},e.names=["Equidistant_Conic","eqdc"]},function(t,e,r){var n=r(4),i=Math.PI/2,o=r(22);e.init=function(){this.R=this.a},e.forward=function(t){var e,r,s=t.x,a=t.y,u=n(s-this.long0);Math.abs(a)<=1e-10&&(e=this.x0+this.R*u,r=this.y0);var l=o(2*Math.abs(a/Math.PI));(Math.abs(u)<=1e-10||Math.abs(Math.abs(a)-i)<=1e-10)&&(e=this.x0,r=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/u-u/Math.PI),h=c*c,f=Math.sin(l),p=Math.cos(l),d=p/(f+p-1),y=d*d,g=d*(2/f-1),v=g*g,m=Math.PI*this.R*(c*(d-v)+Math.sqrt(h*(d-v)*(d-v)-(v+h)*(y-v)))/(v+h);u<0&&(m=-m),e=this.x0+m;var _=h+d;return m=Math.PI*this.R*(g*_-c*Math.sqrt((v+h)*(h+1)-_*_))/(v+h),r=a>=0?this.y0+m:this.y0-m,t.x=e,t.y=r,t},e.inverse=function(t){var e,r,i,o,s,a,u,l,c,h,f,p;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,s=(i=t.x/f)*i+(o=t.y/f)*o,f=3*(o*o/(l=-2*(a=-Math.abs(o)*(1+s))+1+2*o*o+s*s)+(2*(u=a-2*o*o+i*i)*u*u/l/l/l-9*a*u/l/l)/27)/(c=(a-u*u/3/l)/l)/(h=2*Math.sqrt(-c/3)),Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,r=t.y>=0?(-h*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI:-(-h*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI,e=Math.abs(i)<1e-10?this.long0:n(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(i*i-o*o)+s*s))/2/i),t.x=e,t.y=r,t},e.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(t,e,r){var n=r(4),i=Math.PI/2,o=r(34),s=r(30),a=r(31),u=r(32),l=r(33),c=r(79),h=r(22),f=r(80);e.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},e.forward=function(t){var e,r,h,f,p,d,y,g,v,m,_,b,x,w,S,P,E,O,C,I,M,N,T=t.x,A=t.y,L=Math.sin(t.y),j=Math.cos(t.y),R=n(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(i-A)*Math.sin(R),t.y=this.y0-this.a*(i-A)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(i+A)*Math.sin(R),t.y=this.y0+this.a*(i+A)*Math.cos(R),t):(O=this.sin_p12*L+this.cos_p12*j*Math.cos(R),E=(P=Math.acos(O))/Math.sin(P),t.x=this.x0+this.a*E*j*Math.sin(R),t.y=this.y0+this.a*E*(this.cos_p12*L-this.sin_p12*j*Math.cos(R)),t):(e=s(this.es),r=a(this.es),h=u(this.es),f=l(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*o(e,r,h,f,i),d=this.a*o(e,r,h,f,A),t.x=this.x0+(p-d)*Math.sin(R),t.y=this.y0-(p-d)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*o(e,r,h,f,i),d=this.a*o(e,r,h,f,A),t.x=this.x0+(p+d)*Math.sin(R),t.y=this.y0+(p+d)*Math.cos(R),t):(y=L/j,g=c(this.a,this.e,this.sin_p12),v=c(this.a,this.e,L),m=Math.atan((1-this.es)*y+this.es*g*this.sin_p12/(v*j)),C=0===(_=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(m)-this.sin_p12*Math.cos(R)))?Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.abs(Math.abs(_)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(m)-this.sin_p12*Math.cos(m)):Math.asin(Math.sin(R)*Math.cos(m)/Math.sin(_)),b=this.e*this.sin_p12/Math.sqrt(1-this.es),P=g*C*(1-(I=C*C)*(S=(x=this.e*this.cos_p12*Math.cos(_)/Math.sqrt(1-this.es))*x)*(1-S)/6+(M=I*C)/8*(w=b*x)*(1-2*S)+(N=M*C)/120*(S*(4-7*S)-3*b*b*(1-7*S))-N*C/48*w),t.x=this.x0+P*Math.sin(_),t.y=this.y0+P*Math.cos(_),t))},e.inverse=function(t){var e,r,p,d,y,g,v,m,_,b,x,w,S,P,E,O,C,I,M,N,T,A;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*i*this.a)return;return r=e/this.a,p=Math.sin(r),d=Math.cos(r),y=this.long0,Math.abs(e)<=1e-10?g=this.lat0:(g=h(d*this.sin_p12+t.y*p*this.cos_p12/e),v=Math.abs(this.lat0)-i,y=Math.abs(v)<=1e-10?this.lat0>=0?n(this.long0+Math.atan2(t.x,-t.y)):n(this.long0-Math.atan2(-t.x,t.y)):n(this.long0+Math.atan2(t.x*p,e*this.cos_p12*d-t.y*this.sin_p12*p))),t.x=y,t.y=g,t}return m=s(this.es),_=a(this.es),b=u(this.es),x=l(this.es),Math.abs(this.sin_p12-1)<=1e-10?(w=this.a*o(m,_,b,x,i),e=Math.sqrt(t.x*t.x+t.y*t.y),g=f((w-e)/this.a,m,_,b,x),y=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=y,t.y=g,t):Math.abs(this.sin_p12+1)<=1e-10?(w=this.a*o(m,_,b,x,i),e=Math.sqrt(t.x*t.x+t.y*t.y),g=f((e-w)/this.a,m,_,b,x),y=n(this.long0+Math.atan2(t.x,t.y)),t.x=y,t.y=g,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),E=Math.atan2(t.x,t.y),S=c(this.a,this.e,this.sin_p12),O=Math.cos(E),I=-(C=this.e*this.cos_p12*O)*C/(1-this.es),M=3*this.es*(1-I)*this.sin_p12*this.cos_p12*O/(1-this.es),A=1-I*(T=(N=e/S)-I*(1+I)*Math.pow(N,3)/6-M*(1+3*I)*Math.pow(N,4)/24)*T/2-N*T*T*T/6,P=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*O),y=n(this.long0+Math.asin(Math.sin(E)*Math.sin(T)/Math.cos(P))),g=Math.atan((1-this.es*A*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),t.x=y,t.y=g,t)},e.names=["Azimuthal_Equidistant","aeqd"]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisMultipoint=void 0;var n=r(2),i=r(20),o=r(28);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.points=[],r.type="multipoint",(0,n.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisGeometry),e}();s.prototype.addPoint=function(t){t instanceof Array?this.points.push(t):t instanceof o.ArcGisPoint&&this.points.push([t.x,t.y])},s.prototype.getPoint=function(t){return(0,n.returnPoint)(o.ArcGisPoint,this,this.points[t])},s.prototype.removePoint=function(t){var e=this.points.splice(t,1);return(0,n.returnPoint)(o.ArcGisPoint,this,e)},s.prototype.setPoint=function(t,e){return t>=this.points.length?null:(e instanceof Array?this.points[t]=[e[0],e[1]]:e instanceof o.ArcGisPoint&&(this.points[t]=[e.x,e.y]),this)},s.prototype.toGeometryJSON=function(){return'{"points":[['+this.points.join("],[")+"]]}"},e.ArcGisMultipoint=s,n.Zondy.Service.ArcGisMultipoint=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisPolyline=void 0;var n=r(2),i=r(20),o=r(28);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.paths=[],r.type="polyline",(0,n.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisGeometry),e}();s.prototype.getPoint=function(t,e){return t>=this.paths.length||e>=this.paths[t].length?null:(0,n.returnPoint)(o.ArcGisPoint,this,this.paths[t][e])},s.prototype.removePoint=function(t,e){if(t>=this.paths.length||e>=this.paths[t].length)return null;var r=this.paths[t].splice(e,1)[0];return(0,n.returnPoint)(o.ArcGisPoint,this,r)},s.prototype.setPoint=function(t,e,r){if(t>=this.paths.length||e>=this.paths[t].length)return null;if(r instanceof Array)this.paths[t][e]=r;else if(r instanceof o.ArcGisPoint){var n=[r.x,r.y];r.hasZ&&n.push(r.z),r.hasM&&n.push(r.m),this.paths[t][e]=n}return this},s.prototype.addPath=function(t){return t instanceof Array?this.paths.push((0,n.formatPoints)(t)):this.paths.push([]),this},s.prototype.removePath=function(t){if(t>=this.path.length)return null;for(var e=this.paths.splice(t,1)[0],r=void 0,i=[],s=0;s<e.length;s++)r=(0,n.returnPoint)(o.ArcGisPoint,this,e[s]),i.push(r);return i},s.prototype.insertPoint=function(t,e,r){return t<this.paths.length&&e<=this.paths[t].length&&(r instanceof Array?this.paths[t].splice(e,0,r):r instanceof o.ArcGisPoint&&this.paths[t].splice(e,0,r.hasZ?[r.x,r.y,r.z]:[r.x,r.y])),this},s.prototype.toGeometryJSON=function(){for(var t=this.paths,e='{"paths":[',r=0;r<t.length;r++){e+="[";for(var n=0;n<t[r].length;n++)e+="[",e+=t[r][n].join(","),e+="],";e=e.substr(0,e.length-1),e+="],"}return e=e.substr(0,e.length-1),e+="]}"},e.ArcGisPolyline=s,n.Zondy.Service.ArcGisPolyline=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisGraphic=void 0;var n=r(2),i=r(19);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.attributes=null,r.geometry=null,r.isAggregate=!1,r.layer=null,r.popupTemplate=null,r.symbol=null,r.visible=!0,(0,n.extend)(r,t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisBaseParam),e}();o.prototype.getAttribute=function(t){return this.attributes[t]},o.prototype.getEffectivePopupTemplate=function(t){},o.prototype.getObjectId=function(){return this.attributes.objectId},o.prototype.setAttribute=function(t,e){return this.attributes[t]=e},e.ArcGisGraphic=o,n.Zondy.Service.ArcGisGraphic=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArcGisExtent=void 0;var n=r(2),i=r(20),o=r(28),s=u(r(25)),a=u(r(24));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var i in r.center=void 0,r.hasM=!1,r.hasZ=!1,r.height=0,r.mmax=void 0,r.mmin=void 0,r.type="extent",r.width=0,r.xmax=0,r.xmin=0,r.ymax=0,r.ymin=0,r.zmax=void 0,r.zmin=void 0,r.extent=r,r.private=["center","hasM","hasZ","height","width","type","extent"],r.private)if((0,n.notNULL)(t[r.private[i]]))throw new Error("[accessor] cannot assign to read-only property '"+r.private[i]+"' of ArcGisExtent");return(0,n.extend)(r,t),(r.zmax||r.zmin)&&(r.hasZ=!0),(r.mmax||r.mmin)&&(r.hasM=!0),r._extentPolygon=s.polygon([[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.ymax,r.ymin],[r.xmin,r.ymin]]],{name:"_extentPlygon"}),r.center=c(r),r.width=r.xmax-r.xmin,r.height=r.ymax-r.ymin,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ArcGisGeometry),e}();function c(t){var e=[a.point([t.xmin,t.ymin]),a.point([t.xmin,t.ymax]),a.point([t.xmax,t.ymax]),a.point([t.ymax,t.ymin]),a.point([t.xmin,t.ymin])],r=a.featureCollection(e),n=s.center(r).geometry.coordinates;return new o.ArcGisPoint({longitude:n[0],latitude:n[1]})}l.prototype.equals=function(t){return this.mmax===t.mmax&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.xmin===t.xmin&&this.ymax===t.ymax&&this.ymin===t.ymin&&this.zmax===t.zmax&&this.zmin===t.zmin},l.prototype.contains=function(t){if("point"===t.type){var e=t.toArray();return e=s.point([e[0],e[1]]),s.booleanContains(this._extentPolygon,e)}return"extent"===t.type&&s.booleanContains(this._extentPolygon,t._extentPolygon)},l.prototype.expand=function(t){if(t instanceof Number)return t=Math.abs(t),this.width=this.width*t,this.height=this.height*t,this.xmin=this.center.x-this.width/2,this.xmax=this.center.x+this.width/2,this.ymin=this.center.y-this.height/2,this.ymax=this.center.y+this.height/2,this;throw new Error("require is not defined")},l.prototype.intersects=function(t){if(!t.type)return!1;var e=void 0;return"polyline"===t.type?e=a.multiLineString(t.paths):"point"===t.type?e=a.point(t.toArray()):"multipoint"===t.type?e=a.multiPoint(t.points):"extent"===t.type?e=t._extentPolygon:"polygon"===t.type&&(e=a.polygon(t.rings)),!s.booleanDisjoint(e,this._extentPolygon)},l.prototype.offset=function(t,e,r){return this.xmax+=t,this.xmin+=t,this.ymax+=e,this.ymin+=e,this.hasZ?(this.zmax+=r,this.zmin+=r):(this.hasZ=!0,this.zmax=0,this.zmin=0),this},l.prototype.centerAt=function(t){if(t instanceof o.ArcGisPoint)return this.center=new o.ArcGisPoint({longitude:t.x,latitude:t.y}),this.xmin=this.center.x-this.width/2,this.xmax=this.center.x+this.width/2,this.ymin=this.center.y-this.height/2,this.ymax=this.center.y+this.height/2,this},l.prototype.normalize=function(){return[this]},l.prototype.union=function(t){var e=this.center,r=t.center;return r.x-e.x>0&&r.y-e.y>0||r.x-e.x==0&&r.y-e.y>0||r.x-e.x==0&&r.y-e.y==0||r.x-e.x>0&&r.y-e.y==0?(this.xmax=t.xmax,this.ymax=t.ymax):r.x-e.x>0&&r.y-e.y<0||r.x-e.x==0&&r.y-e.y<0?(this.xmax=t.xmax,this.ymin=t.ymin):r.x-e.x<0&&r.y-e.y<0?(this.xmin=t.xmin,this.ymin=t.ymin):r.x-e.x<0&&0===(r.y-e.y||r.x-e.x<0&&r.y-e.y<0)&&(this.xmin=t.xmin,this.ymax=t.ymax),this.center=c(this),this.width=this.xmax-this.xmin,this.height=this.ymax-this.ymin,this},l.prototype.toString=function(){return this.xmin+","+this.ymin+","+this.xmax+","+this.ymax},e.ArcGisExtent=l,n.Zondy.Service.ArcGisExtent=l}]);